/*

 handlebars v4.0.11

 Copyright (C) 2011-2017 by Yehuda Katz

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

*/
if("undefined"!==typeof define&&"undefined"!==typeof define.amd){var amdOriginal=define.amd;define.amd=null}
!function(b,d){"object"==typeof module&&"object"==typeof module.exports?module.exports=b.document?d(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return d(b)}:d(b)}("undefined"!=typeof window?window:this,function(b,d){function c(a,b){b=b||J;var g=b.createElement("script");g.text=a;b.head.appendChild(g).parentNode.removeChild(g)}function k(a){var b=!!a&&"length"in a&&a.length,g=p.type(a);return"function"!==g&&!p.isWindow(a)&&("array"===g||0===b||"number"==
typeof b&&0<b&&b-1 in a)}function l(a,b,g){return p.isFunction(b)?p.grep(a,function(a,H){return!!b.call(a,H,a)!==g}):b.nodeType?p.grep(a,function(a){return a===b!==g}):"string"!=typeof b?p.grep(a,function(a){return-1<Ga.call(b,a)!==g}):eb.test(b)?p.filter(b,a,g):(b=p.filter(b,a),p.grep(a,function(a){return-1<Ga.call(b,a)!==g&&1===a.nodeType}))}function a(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function e(a){var b={};return p.each(a.match(fa)||[],function(a,H){b[H]=!0}),b}function m(a){return a}
function n(a){throw a;}function f(a,b,g){var e;try{a&&p.isFunction(e=a.promise)?e.call(a).done(b).fail(g):a&&p.isFunction(e=a.then)?e.call(a,b,g):b.call(void 0,a)}catch(h){g.call(void 0,h)}}function h(){J.removeEventListener("DOMContentLoaded",h);b.removeEventListener("load",h);p.ready()}function q(){this.expando=p.expando+q.uid++}function s(a,b,g){var e;if(void 0===g&&1===a.nodeType)if(e="data-"+b.replace(Za,"-$\x26").toLowerCase(),g=a.getAttribute(e),"string"==typeof g){try{e=g,g="true"===e||"false"!==
e&&("null"===e?null:e===+e+""?+e:Qa.test(e)?JSON.parse(e):e)}catch(h){}va.set(a,b,g)}else g=void 0;return g}function r(a,b,g,e){var h,c=1,f=20,m=e?function(){return e.cur()}:function(){return p.css(a,b,"")},q=m(),d=g&&g[3]||(p.cssNumber[b]?"":"px"),n=(p.cssNumber[b]||"px"!==d&&+q)&&fb.exec(p.css(a,b));if(n&&n[3]!==d){d=d||n[3];g=g||[];n=+q||1;do c=c||".5",n/=c,p.style(a,b,n+d);while(c!==(c=m()/q)&&1!==c&&--f)}return g&&(n=+n||+q||0,h=g[1]?n+(g[1]+1)*g[2]:+g[2],e&&(e.unit=d,e.start=n,e.end=h)),h}function B(a,
b){for(var g,e,h=[],c=0,f=a.length;c<f;c++)if(e=a[c],e.style)if(g=e.style.display,b){if("none"===g&&(h[c]=O.get(e,"display")||null,h[c]||(e.style.display="")),""===e.style.display&&ob(e)){g=c;var m,q=void 0;m=e.ownerDocument;var n=e.nodeName;m=(e=pb[n])?e:(q=m.body.appendChild(m.createElement(n)),e=p.css(q,"display"),q.parentNode.removeChild(q),"none"===e&&(e="block"),pb[n]=e,e);h[g]=m}}else"none"!==g&&(h[c]="none",O.set(e,"display",g));for(c=0;c<f;c++)null!=h[c]&&(a[c].style.display=h[c]);return a}
function y(a,b){var g;return g="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&p.nodeName(a,b)?p.merge([a],g):g}function v(a,b){for(var g=0,e=a.length;g<e;g++)O.set(a[g],"globalEval",!b||O.get(b[g],"globalEval"))}function u(a,b,g,e,h){for(var c,f,m,q,n=b.createDocumentFragment(),d=[],l=0,s=a.length;l<s;l++)if(c=a[l],c||0===c)if("object"===p.type(c))p.merge(d,c.nodeType?[c]:c);else if(Tb.test(c)){f=
f||n.appendChild(b.createElement("div"));m=(Ub.exec(c)||["",""])[1].toLowerCase();m=wa[m]||wa._default;f.innerHTML=m[1]+p.htmlPrefilter(c)+m[2];for(m=m[0];m--;)f=f.lastChild;p.merge(d,f.childNodes);f=n.firstChild;f.textContent=""}else d.push(b.createTextNode(c));n.textContent="";for(l=0;c=d[l++];)if(e&&-1<p.inArray(c,e))h&&h.push(c);else if(q=p.contains(c.ownerDocument,c),f=y(n.appendChild(c),"script"),q&&v(f),g)for(m=0;c=f[m++];)Ib.test(c.type||"")&&g.push(c);return n}function C(){return!0}function A(){return!1}
function t(){try{return J.activeElement}catch(a){}}function G(a,b,g,e,c,h){var f,m;if("object"==typeof b){"string"!=typeof g&&(e=e||g,g=void 0);for(m in b)G(a,m,g,e,b[m],h);return a}if(null==e&&null==c?(c=g,e=g=void 0):null==c&&("string"==typeof g?(c=e,e=void 0):(c=e,e=g,g=void 0)),!1===c)c=A;else if(!c)return a;return 1===h&&(f=c,c=function(a){return p().off(a),f.apply(this,arguments)},c.guid=f.guid||(f.guid=p.guid++)),a.each(function(){p.event.add(this,b,c,e,g)})}function L(a,b){return p.nodeName(a,
"table")&&p.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a:a}function M(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function Q(a){var b=Vb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function w(a,b){var g,e,c,h,f,m;if(1===b.nodeType){if(O.hasData(a)&&(g=O.access(a),e=O.set(b,g),m=g.events))for(c in delete e.handle,e.events={},m)for(g=0,e=m[c].length;g<e;g++)p.event.add(b,c,m[c][g]);va.hasData(a)&&(h=va.access(a),f=p.extend({},
h),va.set(b,f))}}function K(a,b,g,e){b=ma.apply([],b);var h,f,m,n,q=0,d=a.length,l=d-1,s=b[0],t=p.isFunction(s);if(t||1<d&&"string"==typeof s&&!S.checkClone&&zb.test(s))return a.each(function(c){var h=a.eq(c);t&&(b[0]=s.call(this,c,h.html()));K(h,b,g,e)});if(d&&(h=u(b,a[0].ownerDocument,!1,a,e),f=h.firstChild,1===h.childNodes.length&&(h=f),f||e)){f=p.map(y(h,"script"),M);for(m=f.length;q<d;q++)n=h,q!==l&&(n=p.clone(n,!0,!0),m&&p.merge(f,y(n,"script"))),g.call(a[q],n,q);if(m)for(h=f[f.length-1].ownerDocument,
p.map(f,Q),q=0;q<m;q++)n=f[q],Ib.test(n.type||"")&&!O.access(n,"globalEval")&&p.contains(h,n)&&(n.src?p._evalUrl&&p._evalUrl(n.src):c(n.textContent.replace(cc,""),h))}return a}function N(a,b,g){for(var e=b?p.filter(b,a):a,c=0;null!=(b=e[c]);c++)g||1!==b.nodeType||p.cleanData(y(b)),b.parentNode&&(g&&p.contains(b.ownerDocument,b)&&v(y(b,"script")),b.parentNode.removeChild(b));return a}function T(a,b,g){var e,c,h,f,m=a.style;return g=g||qb(a),g&&(f=g.getPropertyValue(b)||g[b],""!==f||p.contains(a.ownerDocument,
a)||(f=p.style(a,b)),!S.pixelMarginRight()&&rb.test(f)&&Ab.test(b)&&(e=m.width,c=m.minWidth,h=m.maxWidth,m.minWidth=m.maxWidth=m.width=f,f=g.width,m.width=e,m.minWidth=c,m.maxWidth=h)),void 0!==f?f+"":f}function V(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function ta(a){if(a in sb)return a;for(var b=a[0].toUpperCase()+a.slice(1),g=Jb.length;g--;)if(a=Jb[g]+b,a in sb)return a}function ja(a,b,g){return(a=fb.exec(b))?Math.max(0,a[2]-(g||0))+(a[3]||
"px"):b}function z(a,b,g,e,c){var h=0;for(b=g===(e?"border":"content")?4:"width"===b?1:0;4>b;b+=2)"margin"===g&&(h+=p.css(a,g+Ra[b],!0,c)),e?("content"===g&&(h-=p.css(a,"padding"+Ra[b],!0,c)),"margin"!==g&&(h-=p.css(a,"border"+Ra[b]+"Width",!0,c))):(h+=p.css(a,"padding"+Ra[b],!0,c),"padding"!==g&&(h+=p.css(a,"border"+Ra[b]+"Width",!0,c)));return h}function pa(a,b,g){var e,c=!0,h=qb(a),f="border-box"===p.css(a,"boxSizing",!1,h);if(a.getClientRects().length&&(e=a.getBoundingClientRect()[b]),0>=e||null==
e){if(e=T(a,b,h),(0>e||null==e)&&(e=a.style[b]),rb.test(e))return e;c=f&&(S.boxSizingReliable()||e===a.style[b]);e=parseFloat(e)||0}return e+z(a,b,g||(f?"border":"content"),c,h)+"px"}function U(a,b,g,e,c){return new U.prototype.init(a,b,g,e,c)}function Ka(){Ca&&(b.requestAnimationFrame(Ka),p.fx.tick())}function D(){return b.setTimeout(function(){Sa=void 0}),Sa=p.now()}function I(a,b){var g,e=0,c={height:a};for(b=b?1:0;4>e;e+=2-b)g=Ra[e],c["margin"+g]=c["padding"+g]=a;return b&&(c.opacity=c.width=
a),c}function ua(a,b,g){for(var e,c=(ia.tweeners[b]||[]).concat(ia.tweeners["*"]),h=0,f=c.length;h<f;h++)if(e=c[h].call(g,b,a))return e}function ba(a,b){var g,e,c,h,f;for(g in a)if(e=p.camelCase(g),c=b[e],h=a[g],p.isArray(h)&&(c=h[1],h=a[g]=h[0]),g!==e&&(a[e]=h,delete a[g]),f=p.cssHooks[e],f&&"expand"in f)for(g in h=f.expand(h),delete a[e],h)g in a||(a[g]=h[g],b[g]=c);else b[e]=c}function ia(a,b,g){var e,c=0,h=ia.prefilters.length,f=p.Deferred().always(function(){delete m.elem}),m=function(){if(e)return!1;
for(var b=Sa||D(),b=Math.max(0,n.startTime+n.duration-b),g=1-(b/n.duration||0),c=0,h=n.tweens.length;c<h;c++)n.tweens[c].run(g);return f.notifyWith(a,[n,g,b]),1>g&&h?b:(f.resolveWith(a,[n]),!1)},n=f.promise({elem:a,props:p.extend({},b),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},g),originalProperties:b,originalOptions:g,startTime:Sa||D(),duration:g.duration,tweens:[],createTween:function(b,g){var e=p.Tween(a,n.opts,b,g,n.opts.specialEasing[b]||n.opts.easing);return n.tweens.push(e),
e},stop:function(b){var g=0,c=b?n.tweens.length:0;if(e)return this;for(e=!0;g<c;g++)n.tweens[g].run(1);return b?(f.notifyWith(a,[n,1,0]),f.resolveWith(a,[n,b])):f.rejectWith(a,[n,b]),this}});g=n.props;for(ba(g,n.opts.specialEasing);c<h;c++)if(b=ia.prefilters[c].call(n,a,g,n.opts))return p.isFunction(b.stop)&&(p._queueHooks(n.elem,n.opts.queue).stop=p.proxy(b.stop,b)),b;return p.map(g,ua,n),p.isFunction(n.opts.start)&&n.opts.start.call(a,n),p.fx.timer(p.extend(m,{elem:a,anim:n,queue:n.opts.queue})),
n.progress(n.opts.progress).done(n.opts.done,n.opts.complete).fail(n.opts.fail).always(n.opts.always)}function P(a){return(a.match(fa)||[]).join(" ")}function ka(a){return a.getAttribute&&a.getAttribute("class")||""}function Z(a,b,g,e){var c;if(p.isArray(b))p.each(b,function(b,c){g||dc.test(a)?e(a,c):Z(a+"["+("object"==typeof c&&null!=c?b:"")+"]",c,g,e)});else if(g||"object"!==p.type(b))e(a,b);else for(c in b)Z(a+"["+c+"]",b[c],g,e)}function W(a){return function(b,g){"string"!=typeof b&&(g=b,b="*");
var e,c=0,h=b.toLowerCase().match(fa)||[];if(p.isFunction(g))for(;e=h[c++];)"+"===e[0]?(e=e.slice(1)||"*",(a[e]=a[e]||[]).unshift(g)):(a[e]=a[e]||[]).push(g)}}function qa(a,b,g,e){function c(m){var n;return h[m]=!0,p.each(a[m]||[],function(a,H){var m=H(b,g,e);return"string"!=typeof m||f||h[m]?f?!(n=m):void 0:(b.dataTypes.unshift(m),c(m),!1)}),n}var h={},f=a===za;return c(b.dataTypes[0])||!h["*"]&&c("*")}function $a(a,b){var g,e,c=p.ajaxSettings.flatOptions||{};for(g in b)void 0!==b[g]&&((c[g]?a:e||
(e={}))[g]=b[g]);return e&&p.extend(!0,a,e),a}function ha(a){return p.isWindow(a)?a:9===a.nodeType&&a.defaultView}var sa=[],J=b.document,ya=Object.getPrototypeOf,xa=sa.slice,ma=sa.concat,Da=sa.push,Ga=sa.indexOf,Ha={},gb=Ha.toString,La=Ha.hasOwnProperty,Ma=La.toString,hb=Ma.call(Object),S={},p=function(a,b){return new p.fn.init(a,b)},g=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,x=/^-ms-/,aa=/-([a-z])/g,R=function(a,b){return b.toUpperCase()};p.fn=p.prototype={jquery:"3.1.1",constructor:p,length:0,toArray:function(){return xa.call(this)},
get:function(a){return null==a?xa.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){a=p.merge(this.constructor(),a);return a.prevObject=this,a},each:function(a){return p.each(this,a)},map:function(a){return this.pushStack(p.map(this,function(b,g){return a.call(b,g,b)}))},slice:function(){return this.pushStack(xa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&
a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Da,sort:sa.sort,splice:sa.splice};p.extend=p.fn.extend=function(){var a,b,g,e,c,h,f=arguments[0]||{},m=1,n=arguments.length,q=!1;"boolean"==typeof f&&(q=f,f=arguments[m]||{},m++);"object"==typeof f||p.isFunction(f)||(f={});for(m===n&&(f=this,m--);m<n;m++)if(null!=(a=arguments[m]))for(b in a)g=f[b],e=a[b],f!==e&&(q&&e&&(p.isPlainObject(e)||(c=p.isArray(e)))?(c?(c=!1,h=g&&p.isArray(g)?g:[]):h=g&&p.isPlainObject(g)?g:
{},f[b]=p.extend(q,h,e)):void 0!==e&&(f[b]=e));return f};p.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===p.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=p.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){var b,g;return!(!a||"[object Object]"!==gb.call(a))&&(!(b=ya(a))||
(g=La.call(b,"constructor")&&b.constructor,"function"==typeof g&&Ma.call(g)===hb))},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?Ha[gb.call(a)]||"object":typeof a},globalEval:function(a){c(a)},camelCase:function(a){return a.replace(x,"ms-").replace(aa,R)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var g,e=0;if(k(a))for(g=a.length;e<g&&!1!==b.call(a[e],
e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:function(a){return null==a?"":(a+"").replace(g,"")},makeArray:function(a,b){var g=b||[];return null!=a&&(k(Object(a))?p.merge(g,"string"==typeof a?[a]:a):Da.call(g,a)),g},inArray:function(a,b,g){return null==b?-1:Ga.call(b,a,g)},merge:function(a,b){for(var g=+b.length,e=0,c=a.length;e<g;e++)a[c++]=b[e];return a.length=c,a},grep:function(a,b,g){for(var e=[],c=0,h=a.length,f=!g;c<h;c++)g=!b(a[c],c),g!==f&&e.push(a[c]);return e},
map:function(a,b,g){var e,c,h=0,f=[];if(k(a))for(e=a.length;h<e;h++)c=b(a[h],h,g),null!=c&&f.push(c);else for(h in a)c=b(a[h],h,g),null!=c&&f.push(c);return ma.apply([],f)},guid:1,proxy:function(a,b){var g,e,c;if("string"==typeof b&&(g=a[b],b=a,a=g),p.isFunction(a))return e=xa.call(arguments,2),c=function(){return a.apply(b||this,e.concat(xa.call(arguments)))},c.guid=a.guid=a.guid||p.guid++,c},now:Date.now,support:S});"function"==typeof Symbol&&(p.fn[Symbol.iterator]=sa[Symbol.iterator]);p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),
function(a,b){Ha["[object "+b+"]"]=b.toLowerCase()});var Y=function(a){function b(a,g,e,c){var h,f,H,m,n,q=g&&g.ownerDocument,d=g?g.nodeType:9;if(e=e||[],"string"!=typeof a||!a||1!==d&&9!==d&&11!==d)return e;if(!c&&((g?g.ownerDocument||g:U)!==z&&Y(g),g=g||z,A)){if(11!==d&&(m=W.exec(a)))if(h=m[1])if(9===d){if(!(f=g.getElementById(h)))return e;if(f.id===h)return e.push(f),e}else{if(q&&(f=q.getElementById(h))&&Va(g,f)&&f.id===h)return e.push(f),e}else{if(m[2])return ib.apply(e,g.getElementsByTagName(a)),
e;if((h=m[3])&&L.getElementsByClassName&&g.getElementsByClassName)return ib.apply(e,g.getElementsByClassName(h)),e}if(!(!L.qsa||E[a+" "]||N&&N.test(a))){if(1!==d)q=g,n=a;else if("object"!==g.nodeName.toLowerCase()){(H=g.getAttribute("id"))?H=H.replace(S,ha):g.setAttribute("id",H=D);f=M(a);for(h=f.length;h--;)f[h]="#"+H+" "+t(f[h]);n=f.join(",");q=O.test(a)&&l(g.parentNode)||g}if(n)try{return ib.apply(e,q.querySelectorAll(n)),e}catch(s){}finally{H===D&&g.removeAttribute("id")}}}return Q(a.replace(Wa,
"$1"),g,e,c)}function g(){function a(g,e){return b.push(g+" ")>G.cacheLength&&delete a[b.shift()],a[g+" "]=e}var b=[];return a}function e(a){return a[D]=!0,a}function c(a){var b=z.createElement("fieldset");try{return!!a(b)}catch(g){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function h(a,b){for(var g=a.split("|"),e=g.length;e--;)G.attrHandle[g[e]]=b}function f(a,b){var g=b&&a,e=g&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(e)return e;if(g)for(;g=g.nextSibling;)if(g===
b)return-1;return a?1:-1}function m(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function n(a){return function(b){var g=b.nodeName.toLowerCase();return("input"===g||"button"===g)&&b.type===a}}function q(a){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ea(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function d(a){return e(function(b){return b=
+b,e(function(g,e){for(var E,c=a([],g.length,b),h=c.length;h--;)g[E=c[h]]&&(g[E]=!(e[E]=g[E]))})})}function l(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function s(){}function t(a){for(var b=0,g=a.length,e="";b<g;b++)e+=a[b].value;return e}function x(a,b,g){var e=b.dir,E=b.next,c=E||e,h=g&&"parentNode"===c,f=I++;return b.first?function(b,g,E){for(;b=b[e];)if(1===b.nodeType||h)return a(b,g,E);return!1}:function(b,g,H){var m,n,q,d=[T,f];if(H)for(;b=b[e];){if((1===b.nodeType||h)&&a(b,
g,H))return!0}else for(;b=b[e];)if(1===b.nodeType||h)if(q=b[D]||(b[D]={}),n=q[b.uniqueID]||(q[b.uniqueID]={}),E&&E===b.nodeName.toLowerCase())b=b[e]||b;else{if((m=n[c])&&m[0]===T&&m[1]===f)return d[2]=m[2];if(n[c]=d,d[2]=a(b,g,H))return!0}return!1}}function r(a){return 1<a.length?function(b,g,e){for(var E=a.length;E--;)if(!a[E](b,g,e))return!1;return!0}:a[0]}function B(a,b,g,e,E){for(var c,h=[],f=0,H=a.length,m=null!=b;f<H;f++)(c=a[f])&&(g&&!g(c,e,E)||(h.push(c),m&&b.push(f)));return h}function k(a,
g,E,c,h,f){return c&&!c[D]&&(c=k(c)),h&&!h[D]&&(h=k(h,f)),e(function(e,f,H,m){var n,q,d=[],l=[],s=f.length,t;if(!(t=e)){t=g||"*";for(var x=H.nodeType?[H]:H,r=[],Ua=0,k=x.length;Ua<k;Ua++)b(t,x[Ua],r);t=r}t=!a||!e&&g?t:B(t,d,a,H,m);x=E?h||(e?a:s||c)?[]:f:t;if(E&&E(t,x,H,m),c)for(n=B(x,l),c(n,[],H,m),H=n.length;H--;)(q=n[H])&&(x[l[H]]=!(t[l[H]]=q));if(e){if(h||a){if(h){n=[];for(H=x.length;H--;)(q=x[H])&&n.push(t[H]=q);h(null,x=[],n,m)}for(H=x.length;H--;)(q=x[H])&&-1<(n=h?ba(e,q):d[H])&&(e[n]=!(f[n]=
q))}}else x=B(x===f?x.splice(s,x.length):x),h?h(null,f,x,m):ib.apply(f,x)})}function p(a){var b,g,e,E=a.length,c=G.relative[a[0].type];g=c||G.relative[" "];for(var h=c?1:0,f=x(function(a){return a===b},g,!0),H=x(function(a){return-1<ba(b,a)},g,!0),m=[function(a,g,e){a=!c&&(e||g!==C)||((b=g).nodeType?f(a,g,e):H(a,g,e));return b=null,a}];h<E;h++)if(g=G.relative[a[h].type])m=[x(r(m),g)];else{if(g=G.filter[a[h].type].apply(null,a[h].matches),g[D]){for(e=++h;e<E&&!G.relative[a[e].type];e++);return k(1<
h&&r(m),1<h&&t(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(Wa,"$1"),g,h<e&&p(a.slice(h,e)),e<E&&p(a=a.slice(e)),e<E&&t(a))}m.push(g)}return r(m)}function y(a,g){var E=0<g.length,c=0<a.length,h=function(e,h,f,H,m){var n,q,d,l=0,s="0",x=e&&[],t=[],r=C,Ua=e||c&&G.find.TAG("*",m),k=T+=null==r?1:Math.random()||.1,p=Ua.length;for(m&&(C=h===z||h||m);s!==p&&null!=(n=Ua[s]);s++){if(c&&n){q=0;for(h||n.ownerDocument===z||(Y(n),f=!A);d=a[q++];)if(d(n,h||z,f)){H.push(n);break}m&&(T=k)}E&&
((n=!d&&n)&&l--,e&&x.push(n))}if(l+=s,E&&s!==l){for(q=0;d=g[q++];)d(x,t,h,f);if(e){if(0<l)for(;s--;)x[s]||t[s]||(t[s]=Hc.call(H));t=B(t)}ib.apply(H,t);m&&!e&&0<t.length&&1<l+g.length&&b.uniqueSort(H)}return m&&(T=k,C=r),x};return E?e(h):h}var v,L,G,aa,R,M,u,Q,C,w,ca,Y,z,K,A,N,Aa,pa,Va,D="sizzle"+1*new Date,U=a.document,T=0,I=0,ua=g(),P=g(),E=g(),Ua=function(a,b){return a===b&&(ca=!0),0},Pc={}.hasOwnProperty,tb=[],Hc=tb.pop,Qc=tb.push,ib=tb.push,Ka=tb.slice,ba=function(a,b){for(var g=0,e=a.length;g<
e;g++)if(a[g]===b)return g;return-1},V=RegExp("[\\x20\\t\\r\\n\\f]+","g"),Wa=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),ia=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ja=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ka=RegExp("\x3d[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),J=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
da=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,eb={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},ub=/^(?:input|select|textarea|button)$/i,ta=/^h\d$/i,Xa=
/^[^{]+\{\s*\[native \w/,W=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,O=/[+~]/,fa=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Z=function(a,b,g){a="0x"+b-65536;return a!==a||g?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},S=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ha=function(a,b){return b?"\x00"===a?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},bb=function(){Y()},ea=x(function(a){return!0===a.disabled&&
("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{ib.apply(tb=Ka.call(U.childNodes),U.childNodes),tb[U.childNodes.length].nodeType}catch(qa){ib={apply:tb.length?function(a,b){Qc.apply(a,Ka.call(b))}:function(a,b){for(var g=a.length,e=0;a[g++]=b[e++];);a.length=g-1}}}L=b.support={};R=b.isXML=function(a){a=a&&(a.ownerDocument||a).documentElement;return!!a&&"HTML"!==a.nodeName};Y=b.setDocument=function(a){var b,g;a=a?a.ownerDocument||a:U;return a!==z&&9===a.nodeType&&a.documentElement?
(z=a,K=z.documentElement,A=!R(z),U!==z&&(g=z.defaultView)&&g.top!==g&&(g.addEventListener?g.addEventListener("unload",bb,!1):g.attachEvent&&g.attachEvent("onunload",bb)),L.attributes=c(function(a){return a.className="i",!a.getAttribute("className")}),L.getElementsByTagName=c(function(a){return a.appendChild(z.createComment("")),!a.getElementsByTagName("*").length}),L.getElementsByClassName=Xa.test(z.getElementsByClassName),L.getById=c(function(a){return K.appendChild(a).id=D,!z.getElementsByName||
!z.getElementsByName(D).length}),L.getById?(G.filter.ID=function(a){var b=a.replace(fa,Z);return function(a){return a.getAttribute("id")===b}},G.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&A){var g=b.getElementById(a);return g?[g]:[]}}):(G.filter.ID=function(a){var b=a.replace(fa,Z);return function(a){return(a="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}},G.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&A){var g,e,E,c=b.getElementById(a);
if(c){if(g=c.getAttributeNode("id"),g&&g.value===a)return[c];E=b.getElementsByName(a);for(e=0;c=E[e++];)if(g=c.getAttributeNode("id"),g&&g.value===a)return[c]}return[]}}),G.find.TAG=L.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):L.qsa?b.querySelectorAll(a):void 0}:function(a,b){var g,e=[],E=0,c=b.getElementsByTagName(a);if("*"===a){for(;g=c[E++];)1===g.nodeType&&e.push(g);return e}return c},G.find.CLASS=L.getElementsByClassName&&function(a,
b){if("undefined"!=typeof b.getElementsByClassName&&A)return b.getElementsByClassName(a)},Aa=[],N=[],(L.qsa=Xa.test(z.querySelectorAll))&&(c(function(a){K.appendChild(a).innerHTML="\x3ca id\x3d'"+D+"'\x3e\x3c/a\x3e\x3cselect id\x3d'"+D+"-\r\\' msallowcapture\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";a.querySelectorAll("[msallowcapture^\x3d'']").length&&N.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||N.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~\x3d"+D+"-]").length||N.push("~\x3d");a.querySelectorAll(":checked").length||N.push(":checked");a.querySelectorAll("a#"+D+"+*").length||N.push(".#.+[+~]")}),c(function(a){a.innerHTML="\x3ca href\x3d'' disabled\x3d'disabled'\x3e\x3c/a\x3e\x3cselect disabled\x3d'disabled'\x3e\x3coption/\x3e\x3c/select\x3e";var b=z.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name\x3dd]").length&&N.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");
2!==a.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled");K.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled");a.querySelectorAll("*,:x");N.push(",.*:")})),(L.matchesSelector=Xa.test(pa=K.matches||K.webkitMatchesSelector||K.mozMatchesSelector||K.oMatchesSelector||K.msMatchesSelector))&&c(function(a){L.disconnectedMatch=pa.call(a,"*");pa.call(a,"[s!\x3d'']:x");Aa.push("!\x3d",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
N=N.length&&new RegExp(N.join("|")),Aa=Aa.length&&new RegExp(Aa.join("|")),b=Xa.test(K.compareDocumentPosition),Va=b||Xa.test(K.contains)?function(a,b){var g=9===a.nodeType?a.documentElement:a,e=b&&b.parentNode;return a===e||!(!e||1!==e.nodeType||!(g.contains?g.contains(e):a.compareDocumentPosition&&16&a.compareDocumentPosition(e)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},Ua=b?function(a,b){if(a===b)return ca=!0,0;var g=!a.compareDocumentPosition-!b.compareDocumentPosition;
return g?g:(g=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&g||!L.sortDetached&&b.compareDocumentPosition(a)===g?a===z||a.ownerDocument===U&&Va(U,a)?-1:b===z||b.ownerDocument===U&&Va(U,b)?1:w?ba(w,a)-ba(w,b):0:4&g?-1:1)}:function(a,b){if(a===b)return ca=!0,0;var g,e=0;g=a.parentNode;var E=b.parentNode,c=[a],h=[b];if(!g||!E)return a===z?-1:b===z?1:g?-1:E?1:w?ba(w,a)-ba(w,b):0;if(g===E)return f(a,b);for(g=a;g=g.parentNode;)c.unshift(g);for(g=b;g=g.parentNode;)h.unshift(g);
for(;c[e]===h[e];)e++;return e?f(c[e],h[e]):c[e]===U?-1:h[e]===U?1:0},z):z};b.matches=function(a,g){return b(a,null,null,g)};b.matchesSelector=function(a,g){if((a.ownerDocument||a)!==z&&Y(a),g=g.replace(ka,"\x3d'$1']"),!(!L.matchesSelector||!A||E[g+" "]||Aa&&Aa.test(g)||N&&N.test(g)))try{var e=pa.call(a,g);if(e||L.disconnectedMatch||a.document&&11!==a.document.nodeType)return e}catch(c){}return 0<b(g,z,null,[a]).length};b.contains=function(a,b){return(a.ownerDocument||a)!==z&&Y(a),Va(a,b)};b.attr=
function(a,b){(a.ownerDocument||a)!==z&&Y(a);var g=G.attrHandle[b.toLowerCase()],g=g&&Pc.call(G.attrHandle,b.toLowerCase())?g(a,b,!A):void 0;return void 0!==g?g:L.attributes||!A?a.getAttribute(b):(g=a.getAttributeNode(b))&&g.specified?g.value:null};b.escape=function(a){return(a+"").replace(S,ha)};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,g=[],e=0,E=0;if(ca=!L.detectDuplicates,w=!L.sortStable&&a.slice(0),a.sort(Ua),ca){for(;b=a[E++];)b===
a[E]&&(e=g.push(E));for(;e--;)a.splice(g[e],1)}return w=null,a};aa=b.getText=function(a){var b,g="",e=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)g+=aa(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[e++];)g+=aa(b);return g};G=b.selectors={cacheLength:50,createPseudo:e,match:eb,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},
"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(fa,Z),a[3]=(a[3]||a[4]||a[5]||"").replace(fa,Z),"~\x3d"===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,g=!a[6]&&a[2];return eb.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":g&&J.test(g)&&
(b=M(g,!0))&&(b=g.indexOf(")",g.length-b)-g.length)&&(a[0]=a[0].slice(0,b),a[2]=g.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(fa,Z).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=ua[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&ua(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||
"")})},ATTR:function(a,g,e){return function(E){E=b.attr(E,a);return null==E?"!\x3d"===g:!g||(E+="","\x3d"===g?E===e:"!\x3d"===g?E!==e:"^\x3d"===g?e&&0===E.indexOf(e):"*\x3d"===g?e&&-1<E.indexOf(e):"$\x3d"===g?e&&E.slice(-e.length)===e:"~\x3d"===g?-1<(" "+E.replace(V," ")+" ").indexOf(e):"|\x3d"===g&&(E===e||E.slice(0,e.length+1)===e+"-"))}},CHILD:function(a,b,g,e,E){var c="nth"!==a.slice(0,3),h="last"!==a.slice(-4),f="of-type"===b;return 1===e&&0===E?function(a){return!!a.parentNode}:function(b,g,
H){var m,n,q,d,l,s;g=c!==h?"nextSibling":"previousSibling";var x=b.parentNode,t=f&&b.nodeName.toLowerCase();H=!H&&!f;var r=!1;if(x){if(c){for(;g;){for(d=b;d=d[g];)if(f?d.nodeName.toLowerCase()===t:1===d.nodeType)return!1;s=g="only"===a&&!s&&"nextSibling"}return!0}if(s=[h?x.firstChild:x.lastChild],h&&H)for(d=x,q=d[D]||(d[D]={}),n=q[d.uniqueID]||(q[d.uniqueID]={}),m=n[a]||[],r=(l=m[0]===T&&m[1])&&m[2],d=l&&x.childNodes[l];d=++l&&d&&d[g]||(r=l=0)||s.pop();){if(1===d.nodeType&&++r&&d===b){n[a]=[T,l,r];
break}}else if(H&&(d=b,q=d[D]||(d[D]={}),n=q[d.uniqueID]||(q[d.uniqueID]={}),m=n[a]||[],l=m[0]===T&&m[1],r=l),!1===r)for(;(d=++l&&d&&d[g]||(r=l=0)||s.pop())&&((f?d.nodeName.toLowerCase()!==t:1!==d.nodeType)||!++r||(H&&(q=d[D]||(d[D]={}),n=q[d.uniqueID]||(q[d.uniqueID]={}),n[a]=[T,r]),d!==b)););return r-=E,r===e||0===r%e&&0<=r/e}}},PSEUDO:function(a,g){var E,c=G.pseudos[a]||G.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return c[D]?c(g):1<c.length?(E=[a,a,"",g],G.setFilters.hasOwnProperty(a.toLowerCase())?
e(function(a,b){for(var e,E=c(a,g),h=E.length;h--;)e=ba(a,E[h]),a[e]=!(b[e]=E[h])}):function(a){return c(a,0,E)}):c}},pseudos:{not:e(function(a){var b=[],g=[],E=u(a.replace(Wa,"$1"));return E[D]?e(function(a,b,g,e){var c;g=E(a,null,e,[]);for(e=a.length;e--;)(c=g[e])&&(a[e]=!(b[e]=c))}):function(a,e,c){return b[0]=a,E(b,null,c,g),b[0]=null,!g.pop()}}),has:e(function(a){return function(g){return 0<b(a,g).length}}),contains:e(function(a){return a=a.replace(fa,Z),function(b){return-1<(b.textContent||
b.innerText||aa(b)).indexOf(a)}}),lang:e(function(a){return da.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(fa,Z).toLowerCase(),function(b){var g;do if(g=A?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return g=g.toLowerCase(),g===a||0===g.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var g=a.location&&a.location.hash;return g&&g.slice(1)===b.id},root:function(a){return a===K},focus:function(a){return a===z.activeElement&&(!z.hasFocus||
z.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:q(!1),disabled:q(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!G.pseudos.empty(a)},header:function(a){return ta.test(a.nodeName)},input:function(a){return ub.test(a.nodeName)},
button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:d(function(){return[0]}),last:d(function(a,b){return[b-1]}),eq:d(function(a,b,g){return[0>g?g+b:g]}),even:d(function(a,b){for(var g=0;g<b;g+=2)a.push(g);return a}),odd:d(function(a,b){for(var g=1;g<b;g+=2)a.push(g);return a}),lt:d(function(a,b,g){for(b=
0>g?g+b:g;0<=--b;)a.push(b);return a}),gt:d(function(a,b,g){for(g=0>g?g+b:g;++g<b;)a.push(g);return a})}};G.pseudos.nth=G.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})G.pseudos[v]=m(v);for(v in{submit:!0,reset:!0})G.pseudos[v]=n(v);s.prototype=G.filters=G.pseudos;G.setFilters=new s;M=b.tokenize=function(a,g){var e,E,c,h,f,H,m;if(f=P[a+" "])return g?0:f.slice(0);f=a;H=[];for(m=G.preFilter;f;){e&&!(E=ia.exec(f))||(E&&(f=f.slice(E[0].length)||f),H.push(c=[]));e=!1;(E=ja.exec(f))&&
(e=E.shift(),c.push({value:e,type:E[0].replace(Wa," ")}),f=f.slice(e.length));for(h in G.filter)!(E=eb[h].exec(f))||m[h]&&!(E=m[h](E))||(e=E.shift(),c.push({value:e,type:h,matches:E}),f=f.slice(e.length));if(!e)break}return g?f.length:f?b.error(a):P(a,H).slice(0)};return u=b.compile=function(a,b){var g,e=[],c=[],h=E[a+" "];if(!h){b||(b=M(a));for(g=b.length;g--;)h=p(b[g]),h[D]?e.push(h):c.push(h);h=E(a,y(c,e));h.selector=a}return h},Q=b.select=function(a,b,g,e){var E,c,h,f,H,m="function"==typeof a&&
a,n=!e&&M(a=m.selector||a);if(g=g||[],1===n.length){if(c=n[0]=n[0].slice(0),2<c.length&&"ID"===(h=c[0]).type&&9===b.nodeType&&A&&G.relative[c[1].type]){if(b=(G.find.ID(h.matches[0].replace(fa,Z),b)||[])[0],!b)return g;m&&(b=b.parentNode);a=a.slice(c.shift().value.length)}for(E=eb.needsContext.test(a)?0:c.length;E--&&(h=c[E],!G.relative[f=h.type]);)if((H=G.find[f])&&(e=H(h.matches[0].replace(fa,Z),O.test(c[0].type)&&l(b.parentNode)||b))){if(c.splice(E,1),a=e.length&&t(c),!a)return ib.apply(g,e),g;
break}}return(m||u(a,n))(e,b,!A,g,!b||O.test(a)&&l(b.parentNode)||b),g},L.sortStable=D.split("").sort(Ua).join("")===D,L.detectDuplicates=!!ca,Y(),L.sortDetached=c(function(a){return 1&a.compareDocumentPosition(z.createElement("fieldset"))}),c(function(a){return a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e","#"===a.firstChild.getAttribute("href")})||h("type|href|height|width",function(a,b,g){if(!g)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),L.attributes&&c(function(a){return a.innerHTML=
"\x3cinput/\x3e",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||h("value",function(a,b,g){if(!g&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),c(function(a){return null==a.getAttribute("disabled")})||h("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,g){var e;if(!g)return!0===a[b]?b.toLowerCase():(e=a.getAttributeNode(b))&&e.specified?e.value:null}),b}(b);p.find=
Y;p.expr=Y.selectors;p.expr[":"]=p.expr.pseudos;p.uniqueSort=p.unique=Y.uniqueSort;p.text=Y.getText;p.isXMLDoc=Y.isXML;p.contains=Y.contains;p.escapeSelector=Y.escape;var ca=function(a,b,g){for(var e=[],c=void 0!==g;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(c&&p(a).is(g))break;e.push(a)}return e},Aa=function(a,b){for(var g=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&g.push(a);return g},Va=p.expr.match.needsContext,ub=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,eb=/^.[^:#\[\.,]*$/;
p.filter=function(a,b,g){var e=b[0];return g&&(a=":not("+a+")"),1===b.length&&1===e.nodeType?p.find.matchesSelector(e,a)?[e]:[]:p.find.matches(a,p.grep(b,function(a){return 1===a.nodeType}))};p.fn.extend({find:function(a){var b,g,e=this.length,c=this;if("string"!=typeof a)return this.pushStack(p(a).filter(function(){for(b=0;b<e;b++)if(p.contains(c[b],this))return!0}));g=this.pushStack([]);for(b=0;b<e;b++)p.find(a,c[b],g);return 1<e?p.uniqueSort(g):g},filter:function(a){return this.pushStack(l(this,
a||[],!1))},not:function(a){return this.pushStack(l(this,a||[],!0))},is:function(a){return!!l(this,"string"==typeof a&&Va.test(a)?p(a):a||[],!1).length}});var Wa,da=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(p.fn.init=function(a,b,g){var e,c;if(!a)return this;if(g=g||Wa,"string"==typeof a){if(e="\x3c"===a[0]&&"\x3e"===a[a.length-1]&&3<=a.length?[null,a,null]:da.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||g).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof p?b[0]:b,p.merge(this,p.parseHTML(e[1],
b&&b.nodeType?b.ownerDocument||b:J,!0)),ub.test(e[1])&&p.isPlainObject(b))for(e in b)p.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return c=J.getElementById(e[2]),c&&(this[0]=c,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):p.isFunction(a)?void 0!==g.ready?g.ready(a):a(p):p.makeArray(a,this)}).prototype=p.fn;Wa=p(J);var Xa=/^(?:parents|prev(?:Until|All))/,bb={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({has:function(a){var b=p(a,this),g=b.length;
return this.filter(function(){for(var a=0;a<g;a++)if(p.contains(this,b[a]))return!0})},closest:function(a,b){var g,e=0,c=this.length,h=[],f="string"!=typeof a&&p(a);if(!Va.test(a))for(;e<c;e++)for(g=this[e];g&&g!==b;g=g.parentNode)if(11>g.nodeType&&(f?-1<f.index(g):1===g.nodeType&&p.find.matchesSelector(g,a))){h.push(g);break}return this.pushStack(1<h.length?p.uniqueSort(h):h)},index:function(a){return a?"string"==typeof a?Ga.call(p(a),this[0]):Ga.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?
this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});p.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return ca(a,"parentNode")},parentsUntil:function(a,b,g){return ca(a,"parentNode",g)},next:function(b){return a(b,"nextSibling")},prev:function(b){return a(b,"previousSibling")},nextAll:function(a){return ca(a,
"nextSibling")},prevAll:function(a){return ca(a,"previousSibling")},nextUntil:function(a,b,g){return ca(a,"nextSibling",g)},prevUntil:function(a,b,g){return ca(a,"previousSibling",g)},siblings:function(a){return Aa((a.parentNode||{}).firstChild,a)},children:function(a){return Aa(a.firstChild)},contents:function(a){return a.contentDocument||p.merge([],a.childNodes)}},function(a,b){p.fn[a]=function(g,e){var c=p.map(this,b,g);return"Until"!==a.slice(-5)&&(e=g),e&&"string"==typeof e&&(c=p.filter(e,c)),
1<this.length&&(bb[a]||p.uniqueSort(c),Xa.test(a)&&c.reverse()),this.pushStack(c)}});var fa=/[^\x20\t\r\n\f]+/g;p.Callbacks=function(a){a="string"==typeof a?e(a):p.extend({},a);var b,g,c,h,f=[],m=[],n=-1,d=function(){h=a.once;for(c=b=!0;m.length;n=-1)for(g=m.shift();++n<f.length;)!1===f[n].apply(g[0],g[1])&&a.stopOnFalse&&(n=f.length,g=!1);a.memory||(g=!1);b=!1;h&&(f=g?[]:"")},q={add:function(){return f&&(g&&!b&&(n=f.length-1,m.push(g)),function bc(b){p.each(b,function(b,g){p.isFunction(g)?a.unique&&
q.has(g)||f.push(g):g&&g.length&&"string"!==p.type(g)&&bc(g)})}(arguments),g&&!b&&d()),this},remove:function(){return p.each(arguments,function(a,b){for(var g;-1<(g=p.inArray(b,f,g));)f.splice(g,1),g<=n&&n--}),this},has:function(a){return a?-1<p.inArray(a,f):0<f.length},empty:function(){return f&&(f=[]),this},disable:function(){return h=m=[],f=g="",this},disabled:function(){return!f},lock:function(){return h=m=[],g||b||(f=g=""),this},locked:function(){return!!h},fireWith:function(a,g){return h||(g=
g||[],g=[a,g.slice?g.slice():g],m.push(g),b||d()),this},fire:function(){return q.fireWith(this,arguments),this},fired:function(){return!!c}};return q};p.extend({Deferred:function(a){var g=[["notify","progress",p.Callbacks("memory"),p.Callbacks("memory"),2],["resolve","done",p.Callbacks("once memory"),p.Callbacks("once memory"),0,"resolved"],["reject","fail",p.Callbacks("once memory"),p.Callbacks("once memory"),1,"rejected"]],e="pending",c={state:function(){return e},always:function(){return h.done(arguments).fail(arguments),
this},"catch":function(a){return c.then(null,a)},pipe:function(){var a=arguments;return p.Deferred(function(b){p.each(g,function(g,e){var c=p.isFunction(a[e[4]])&&a[e[4]];h[e[1]](function(){var a=c&&c.apply(this,arguments);a&&p.isFunction(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[e[0]+"With"](this,c?[a]:arguments)})});a=null}).promise()},then:function(a,e,c){function h(a,g,e,c){return function(){var H=this,d=arguments,q=function(){var b,q;if(!(a<f)){if(b=e.apply(H,
d),b===g.promise())throw new TypeError("Thenable self-resolution");q=b&&("object"==typeof b||"function"==typeof b)&&b.then;p.isFunction(q)?c?q.call(b,h(f,g,m,c),h(f,g,n,c)):(f++,q.call(b,h(f,g,m,c),h(f,g,n,c),h(f,g,m,g.notifyWith))):(e!==m&&(H=void 0,d=[b]),(c||g.resolveWith)(H,d))}},l=c?q:function(){try{q()}catch(b){p.Deferred.exceptionHook&&p.Deferred.exceptionHook(b,l.stackTrace),a+1>=f&&(e!==n&&(H=void 0,d=[b]),g.rejectWith(H,d))}};a?l():(p.Deferred.getStackHook&&(l.stackTrace=p.Deferred.getStackHook()),
b.setTimeout(l))}}var f=0;return p.Deferred(function(b){g[0][3].add(h(0,b,p.isFunction(c)?c:m,b.notifyWith));g[1][3].add(h(0,b,p.isFunction(a)?a:m));g[2][3].add(h(0,b,p.isFunction(e)?e:n))}).promise()},promise:function(a){return null!=a?p.extend(a,c):c}},h={};return p.each(g,function(a,b){var f=b[2],m=b[5];c[b[1]]=f.add;m&&f.add(function(){e=m},g[3-a][2].disable,g[0][2].lock);f.add(b[3].fire);h[b[0]]=function(){return h[b[0]+"With"](this===h?void 0:this,arguments),this};h[b[0]+"With"]=f.fireWith}),
c.promise(h),a&&a.call(h,h),h},when:function(a){var b=arguments.length,g=b,e=Array(g),c=xa.call(arguments),h=p.Deferred(),m=function(a){return function(g){e[a]=this;c[a]=1<arguments.length?xa.call(arguments):g;--b||h.resolveWith(e,c)}};if(1>=b&&(f(a,h.done(m(g)).resolve,h.reject),"pending"===h.state()||p.isFunction(c[g]&&c[g].then)))return h.then();for(;g--;)f(c[g],m(g),h.reject);return h.promise()}});var Kb=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;p.Deferred.exceptionHook=function(a,
g){b.console&&b.console.warn&&a&&Kb.test(a.name)&&b.console.warn("jQuery.Deferred exception: "+a.message,a.stack,g)};p.readyException=function(a){b.setTimeout(function(){throw a;})};var Bb=p.Deferred();p.fn.ready=function(a){return Bb.then(a)["catch"](function(a){p.readyException(a)}),this};p.extend({isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){(!0===a?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==a&&0<--p.readyWait||Bb.resolveWith(J,[p]))}});p.ready.then=
Bb.then;"complete"===J.readyState||"loading"!==J.readyState&&!J.documentElement.doScroll?b.setTimeout(p.ready):(J.addEventListener("DOMContentLoaded",h),b.addEventListener("load",h));var Ea=function(a,b,g,e,c,h,f){var m=0,n=a.length,d=null==g;if("object"===p.type(g))for(m in c=!0,g)Ea(a,b,m,g[m],!0,h,f);else if(void 0!==e&&(c=!0,p.isFunction(e)||(f=!0),d&&(f?(b.call(a,e),b=null):(d=b,b=function(a,b,g){return d.call(p(a),g)})),b))for(;m<n;m++)b(a[m],g,f?e:e.call(a[m],m,b(a[m],g)));return c?a:d?b.call(a):
n?b(a[0],g):h},lb=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};q.uid=1;q.prototype={cache:function(a){var b=a[this.expando];return b||(b={},lb(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,g){var e;a=this.cache(a);if("string"==typeof b)a[p.camelCase(b)]=g;else for(e in b)a[p.camelCase(e)]=b[e];return a},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][p.camelCase(b)]},access:function(a,
b,g){return void 0===b||b&&"string"==typeof b&&void 0===g?this.get(a,b):(this.set(a,b,g),void 0!==g?g:b)},remove:function(a,b){var g,e=a[this.expando];if(void 0!==e){if(void 0!==b)for(p.isArray(b)?b=b.map(p.camelCase):(b=p.camelCase(b),b=b in e?[b]:b.match(fa)||[]),g=b.length;g--;)delete e[b[g]];(void 0===b||p.isEmptyObject(e))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){a=a[this.expando];return void 0!==a&&!p.isEmptyObject(a)}};var O=new q,va=new q,Qa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
Za=/[A-Z]/g;p.extend({hasData:function(a){return va.hasData(a)||O.hasData(a)},data:function(a,b,g){return va.access(a,b,g)},removeData:function(a,b){va.remove(a,b)},_data:function(a,b,g){return O.access(a,b,g)},_removeData:function(a,b){O.remove(a,b)}});p.fn.extend({data:function(a,b){var g,e,c,h=this[0],f=h&&h.attributes;if(void 0===a){if(this.length&&(c=va.get(h),1===h.nodeType&&!O.get(h,"hasDataAttrs"))){for(g=f.length;g--;)f[g]&&(e=f[g].name,0===e.indexOf("data-")&&(e=p.camelCase(e.slice(5)),
s(h,e,c[e])));O.set(h,"hasDataAttrs",!0)}return c}return"object"==typeof a?this.each(function(){va.set(this,a)}):Ea(this,function(b){var g;if(h&&void 0===b){if((g=va.get(h,a),void 0!==g)||(g=s(h,a),void 0!==g))return g}else this.each(function(){va.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){va.remove(this,a)})}});p.extend({queue:function(a,b,g){var e;if(a)return b=(b||"fx")+"queue",e=O.get(a,b),g&&(!e||p.isArray(g)?e=O.access(a,b,p.makeArray(g)):
e.push(g)),e||[]},dequeue:function(a,b){b=b||"fx";var g=p.queue(a,b),e=g.length,c=g.shift(),h=p._queueHooks(a,b),f=function(){p.dequeue(a,b)};"inprogress"===c&&(c=g.shift(),e--);c&&("fx"===b&&g.unshift("inprogress"),delete h.stop,c.call(a,f,h));!e&&h&&h.empty.fire()},_queueHooks:function(a,b){var g=b+"queueHooks";return O.get(a,g)||O.access(a,g,{empty:p.Callbacks("once memory").add(function(){O.remove(a,[b+"queue",g])})})}});p.fn.extend({queue:function(a,b){var g=2;return"string"!=typeof a&&(b=a,
a="fx",g--),arguments.length<g?p.queue(this[0],a):void 0===b?this:this.each(function(){var g=p.queue(this,a,b);p._queueHooks(this,a);"fx"===a&&"inprogress"!==g[0]&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var g,e=1,c=p.Deferred(),h=this,f=this.length,m=function(){--e||c.resolveWith(h,[h])};"string"!=typeof a&&(b=a,a=void 0);for(a=a||"fx";f--;)(g=O.get(h[f],a+"queueHooks"))&&
g.empty&&(e++,g.empty.add(m));return m(),c.promise(b)}});var Lb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fb=new RegExp("^(?:([+-])\x3d|)("+Lb+")([a-z%]*)$","i"),Ra=["Top","Right","Bottom","Left"],ob=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&p.contains(a.ownerDocument,a)&&"none"===p.css(a,"display")},Mb=function(a,b,g,e){var c,h={};for(c in b)h[c]=a.style[c],a.style[c]=b[c];g=g.apply(a,e||[]);for(c in b)a.style[c]=h[c];return g},pb={};p.fn.extend({show:function(){return B(this,
!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){ob(this)?p(this).show():p(this).hide()})}});var Nb=/^(?:checkbox|radio)$/i,Ub=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ib=/^$|\/(?:java|ecma)script/i,wa={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],
td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:[0,"",""]};wa.optgroup=wa.option;wa.tbody=wa.tfoot=wa.colgroup=wa.caption=wa.thead;wa.th=wa.td;var Tb=/<|&#?\w+;/;!function(){var a=J.createDocumentFragment().appendChild(J.createElement("div")),b=J.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);S.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML=
"\x3ctextarea\x3ex\x3c/textarea\x3e";S.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue}();var mb=J.documentElement,Wb=/^key/,Xb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Na=/^([^.]*)(?:\.(.+)|)/;p.event={global:{},add:function(a,b,g,e,c){var h,f,m,n,d,q,l,s,x,t;if(d=O.get(a))for(g.handler&&(h=g,g=h.handler,c=h.selector),c&&p.find.matchesSelector(mb,c),g.guid||(g.guid=p.guid++),(n=d.events)||(n=d.events={}),(f=d.handle)||(f=d.handle=function(b){return"undefined"!=typeof p&&p.event.triggered!==
b.type?p.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(fa)||[""],d=b.length;d--;)m=Na.exec(b[d])||[],x=t=m[1],m=(m[2]||"").split(".").sort(),x&&(l=p.event.special[x]||{},x=(c?l.delegateType:l.bindType)||x,l=p.event.special[x]||{},q=p.extend({type:x,origType:t,data:e,handler:g,guid:g.guid,selector:c,needsContext:c&&p.expr.match.needsContext.test(c),namespace:m.join(".")},h),(s=n[x])||(s=n[x]=[],s.delegateCount=0,l.setup&&!1!==l.setup.call(a,e,m,f)||a.addEventListener&&a.addEventListener(x,
f)),l.add&&(l.add.call(a,q),q.handler.guid||(q.handler.guid=g.guid)),c?s.splice(s.delegateCount++,0,q):s.push(q),p.event.global[x]=!0)},remove:function(a,b,g,e,c){var h,f,m,n,d,q,l,s,x,t,r,B=O.hasData(a)&&O.get(a);if(B&&(n=B.events)){b=(b||"").match(fa)||[""];for(d=b.length;d--;)if(m=Na.exec(b[d])||[],x=r=m[1],t=(m[2]||"").split(".").sort(),x){l=p.event.special[x]||{};x=(e?l.delegateType:l.bindType)||x;s=n[x]||[];m=m[2]&&new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)");for(f=h=s.length;h--;)q=
s[h],!c&&r!==q.origType||g&&g.guid!==q.guid||m&&!m.test(q.namespace)||e&&e!==q.selector&&("**"!==e||!q.selector)||(s.splice(h,1),q.selector&&s.delegateCount--,l.remove&&l.remove.call(a,q));f&&!s.length&&(l.teardown&&!1!==l.teardown.call(a,t,B.handle)||p.removeEvent(a,x,B.handle),delete n[x])}else for(x in n)p.event.remove(a,x+b[d],g,e,!0);p.isEmptyObject(n)&&O.remove(a,"handle events")}},dispatch:function(a){var b=p.event.fix(a),g,e,c,h,f,m,n=Array(arguments.length);e=(O.get(this,"events")||{})[b.type]||
[];var d=p.event.special[b.type]||{};n[0]=b;for(g=1;g<arguments.length;g++)n[g]=arguments[g];if(b.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,b)){m=p.event.handlers.call(this,b,e);for(g=0;(h=m[g++])&&!b.isPropagationStopped();)for(b.currentTarget=h.elem,e=0;(f=h.handlers[e++])&&!b.isImmediatePropagationStopped();)b.rnamespace&&!b.rnamespace.test(f.namespace)||(b.handleObj=f,b.data=f.data,c=((p.event.special[f.origType]||{}).handle||f.handler).apply(h.elem,n),void 0!==c&&!1===
(b.result=c)&&(b.preventDefault(),b.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,b),b.result}},handlers:function(a,b){var g,e,c,h,f,m=[],n=b.delegateCount,d=a.target;if(n&&d.nodeType&&!("click"===a.type&&1<=a.button))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&("click"!==a.type||!0!==d.disabled)){h=[];f={};for(g=0;g<n;g++)e=b[g],c=e.selector+" ",void 0===f[c]&&(f[c]=e.needsContext?-1<p(c,this).index(d):p.find(c,this,null,[d]).length),f[c]&&h.push(e);h.length&&m.push({elem:d,
handlers:h})}return d=this,n<b.length&&m.push({elem:d,handlers:b.slice(n)}),m},addProp:function(a,b){Object.defineProperty(p.Event.prototype,a,{enumerable:!0,configurable:!0,get:p.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[p.expando]?a:new p.Event(a)},special:{load:{noBubble:!0},
focus:{trigger:function(){if(this!==t()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===t()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&p.nodeName(this,"input"))return this.click(),!1},_default:function(a){return p.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};p.removeEvent=function(a,
b,g){a.removeEventListener&&a.removeEventListener(b,g)};p.Event=function(a,b){return this instanceof p.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?C:A,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&p.extend(this,b),this.timeStamp=a&&a.timeStamp||p.now(),void(this[p.expando]=!0)):new p.Event(a,
b)};p.Event.prototype={constructor:p.Event,isDefaultPrevented:A,isPropagationStopped:A,isImmediatePropagationStopped:A,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=C;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=C;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=C;a&&!this.isSimulated&&a.stopImmediatePropagation();
this.stopPropagation()}};p.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&Wb.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&Xb.test(a.type)?
1&b?1:2&b?3:4&b?2:0:a.which}},p.event.addProp);p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){p.event.special[a]={delegateType:b,bindType:b,handle:function(a){var g,e=a.relatedTarget,c=a.handleObj;return e&&(e===this||p.contains(this,e))||(a.type=c.origType,g=c.handler.apply(this,arguments),a.type=b),g}}});p.fn.extend({on:function(a,b,g,e){return G(this,a,b,g,e)},one:function(a,b,g,e){return G(this,a,b,g,e,1)},off:function(a,
b,g){var e,c;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,p(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(c in a)this.off(c,b,a[c]);return this}return!1!==b&&"function"!=typeof b||(g=b,b=void 0),!1===g&&(g=A),this.each(function(){p.event.remove(this,a,g,b)})}});var cb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,fc=/<script|<style|<link/i,zb=/checked\s*(?:[^=]|=\s*.checked.)/i,
Vb=/^true\/(.*)/,cc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;p.extend({htmlPrefilter:function(a){return a.replace(cb,"\x3c$1\x3e\x3c/$2\x3e")},clone:function(a,b,g){var e,c,h,f,m=a.cloneNode(!0),n=p.contains(a.ownerDocument,a);if(!(S.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||p.isXMLDoc(a)))for(f=y(m),h=y(a),e=0,c=h.length;e<c;e++){var d=h[e],q=f[e],l=q.nodeName.toLowerCase();"input"===l&&Nb.test(d.type)?q.checked=d.checked:"input"!==l&&"textarea"!==l||(q.defaultValue=d.defaultValue)}if(b)if(g)for(h=
h||y(a),f=f||y(m),e=0,c=h.length;e<c;e++)w(h[e],f[e]);else w(a,m);return f=y(m,"script"),0<f.length&&v(f,!n&&y(a,"script")),m},cleanData:function(a){for(var b,g,e,c=p.event.special,h=0;void 0!==(g=a[h]);h++)if(lb(g)){if(b=g[O.expando]){if(b.events)for(e in b.events)c[e]?p.event.remove(g,e):p.removeEvent(g,e,b.handle);g[O.expando]=void 0}g[va.expando]&&(g[va.expando]=void 0)}}});p.fn.extend({detach:function(a){return N(this,a,!0)},remove:function(a){return N(this,a)},text:function(a){return Ea(this,
function(a){return void 0===a?p.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return K(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||L(this,a).appendChild(a)})},prepend:function(){return K(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=L(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return K(this,
arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return K(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(p.cleanData(y(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return p.clone(this,a,b)})},html:function(a){return Ea(this,function(a){var b=this[0]||{},g=0,e=this.length;
if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!fc.test(a)&&!wa[(Ub.exec(a)||["",""])[1].toLowerCase()]){a=p.htmlPrefilter(a);try{for(;g<e;g++)b=this[g]||{},1===b.nodeType&&(p.cleanData(y(b,!1)),b.innerHTML=a);b=0}catch(c){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return K(this,arguments,function(b){var g=this.parentNode;0>p.inArray(this,a)&&(p.cleanData(y(this)),g&&g.replaceChild(b,this))},a)}});p.each({appendTo:"append",prependTo:"prepend",
insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){p.fn[a]=function(a){for(var g=[],e=p(a),c=e.length-1,h=0;h<=c;h++)a=h===c?this:this.clone(!0),p(e[h])[b](a),Da.apply(g,a.get());return this.pushStack(g)}});var Ab=/^margin/,rb=new RegExp("^("+Lb+")(?!px)[a-z%]+$","i"),qb=function(a){var g=a.ownerDocument.defaultView;return g&&g.opener||(g=b),g.getComputedStyle(a)};!function(){function a(){if(m){m.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";
m.innerHTML="";mb.appendChild(f);var n=b.getComputedStyle(m);g="1%"!==n.top;h="2px"===n.marginLeft;e="4px"===n.width;m.style.marginRight="50%";c="4px"===n.marginRight;mb.removeChild(f);m=null}}var g,e,c,h,f=J.createElement("div"),m=J.createElement("div");m.style&&(m.style.backgroundClip="content-box",m.cloneNode(!0).style.backgroundClip="",S.clearCloneStyle="content-box"===m.style.backgroundClip,f.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",
f.appendChild(m),p.extend(S,{pixelPosition:function(){return a(),g},boxSizingReliable:function(){return a(),e},pixelMarginRight:function(){return a(),c},reliableMarginLeft:function(){return a(),h}}))}();var gc=/^(none|table(?!-c[ea]).+)/,vb={position:"absolute",visibility:"hidden",display:"block"},ra={letterSpacing:"0",fontWeight:"400"},Jb=["Webkit","Moz","ms"],sb=J.createElement("div").style;p.extend({cssHooks:{opacity:{get:function(a,b){if(b){var g=T(a,"opacity");return""===g?"1":g}}}},cssNumber:{animationIterationCount:!0,
columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,g,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var c,h,f,m=p.camelCase(b),n=a.style;return b=p.cssProps[m]||(p.cssProps[m]=ta(m)||m),f=p.cssHooks[b]||p.cssHooks[m],void 0===g?f&&"get"in f&&void 0!==(c=f.get(a,!1,e))?c:n[b]:(h=typeof g,"string"===h&&(c=fb.exec(g))&&c[1]&&(g=r(a,b,c),h="number"),null!=g&&
g===g&&("number"===h&&(g+=c&&c[3]||(p.cssNumber[m]?"":"px")),S.clearCloneStyle||""!==g||0!==b.indexOf("background")||(n[b]="inherit"),f&&"set"in f&&void 0===(g=f.set(a,g,e))||(n[b]=g)),void 0)}},css:function(a,b,g,e){var c,h,f,m=p.camelCase(b);return b=p.cssProps[m]||(p.cssProps[m]=ta(m)||m),f=p.cssHooks[b]||p.cssHooks[m],f&&"get"in f&&(c=f.get(a,!0,g)),void 0===c&&(c=T(a,b,e)),"normal"===c&&b in ra&&(c=ra[b]),""===g||g?(h=parseFloat(c),!0===g||isFinite(h)?h||0:c):c}});p.each(["height","width"],function(a,
b){p.cssHooks[b]={get:function(a,g,e){if(g)return!gc.test(p.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?pa(a,b,e):Mb(a,vb,function(){return pa(a,b,e)})},set:function(a,g,e){var c,h=e&&qb(a);e=e&&z(a,b,e,"border-box"===p.css(a,"boxSizing",!1,h),h);return e&&(c=fb.exec(g))&&"px"!==(c[3]||"px")&&(a.style[b]=g,g=p.css(a,b)),ja(a,g,e)}}});p.cssHooks.marginLeft=V(S.reliableMarginLeft,function(a,b){if(b)return(parseFloat(T(a,"marginLeft"))||a.getBoundingClientRect().left-
Mb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"});p.each({margin:"",padding:"",border:"Width"},function(a,b){p.cssHooks[a+b]={expand:function(g){var e=0,c={};for(g="string"==typeof g?g.split(" "):[g];4>e;e++)c[a+Ra[e]+b]=g[e]||g[e-2]||g[0];return c}};Ab.test(a)||(p.cssHooks[a+b].set=ja)});p.fn.extend({css:function(a,b){return Ea(this,function(a,b,g){var e,c={},h=0;if(p.isArray(b)){g=qb(a);for(e=b.length;h<e;h++)c[b[h]]=p.css(a,b[h],!1,g);return c}return void 0!==g?p.style(a,
b,g):p.css(a,b)},a,b,1<arguments.length)}});p.Tween=U;U.prototype={constructor:U,init:function(a,b,g,e,c,h){this.elem=a;this.prop=g;this.easing=c||p.easing._default;this.options=b;this.start=this.now=this.cur();this.end=e;this.unit=h||(p.cssNumber[g]?"":"px")},cur:function(){var a=U.propHooks[this.prop];return a&&a.get?a.get(this):U.propHooks._default.get(this)},run:function(a){var b,g=U.propHooks[this.prop];return this.options.duration?this.pos=b=p.easing[this.easing](a,this.options.duration*a,0,
1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),g&&g.set?g.set(this):U.propHooks._default.set(this),this}};U.prototype.init.prototype=U.prototype;U.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=p.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):1!==a.elem.nodeType||
null==a.elem.style[p.cssProps[a.prop]]&&!p.cssHooks[a.prop]?a.elem[a.prop]=a.now:p.style(a.elem,a.prop,a.now+a.unit)}}};U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};p.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};p.fx=U.prototype.init;p.fx.step={};var Sa,Ca,Yb=/^(?:toggle|show|hide)$/,Ba=/queueHooks$/;p.Animation=p.extend(ia,{tweeners:{"*":[function(a,b){var g=this.createTween(a,
b);return r(g.elem,a,fb.exec(b),g),g}]},tweener:function(a,b){p.isFunction(a)?(b=a,a=["*"]):a=a.match(fa);for(var g,e=0,c=a.length;e<c;e++)g=a[e],ia.tweeners[g]=ia.tweeners[g]||[],ia.tweeners[g].unshift(b)},prefilters:[function(a,b,g){var e,c,h,f,m,n,d,q,l="width"in b||"height"in b,x=this,s={},t=a.style,r=a.nodeType&&ob(a),k=O.get(a,"fxshow");g.queue||(f=p._queueHooks(a,"fx"),null==f.unqueued&&(f.unqueued=0,m=f.empty.fire,f.empty.fire=function(){f.unqueued||m()}),f.unqueued++,x.always(function(){x.always(function(){f.unqueued--;
p.queue(a,"fx").length||f.empty.fire()})}));for(e in b)if(c=b[e],Yb.test(c)){if(delete b[e],h=h||"toggle"===c,c===(r?"hide":"show")){if("show"!==c||!k||void 0===k[e])continue;r=!0}s[e]=k&&k[e]||p.style(a,e)}if(n=!p.isEmptyObject(b),n||!p.isEmptyObject(s))for(e in l&&1===a.nodeType&&(g.overflow=[t.overflow,t.overflowX,t.overflowY],d=k&&k.display,null==d&&(d=O.get(a,"display")),q=p.css(a,"display"),"none"===q&&(d?q=d:(B([a],!0),d=a.style.display||d,q=p.css(a,"display"),B([a]))),("inline"===q||"inline-block"===
q&&null!=d)&&"none"===p.css(a,"float")&&(n||(x.done(function(){t.display=d}),null==d&&(q=t.display,d="none"===q?"":q)),t.display="inline-block")),g.overflow&&(t.overflow="hidden",x.always(function(){t.overflow=g.overflow[0];t.overflowX=g.overflow[1];t.overflowY=g.overflow[2]})),n=!1,s)n||(k?"hidden"in k&&(r=k.hidden):k=O.access(a,"fxshow",{display:d}),h&&(k.hidden=!r),r&&B([a],!0),x.done(function(){r||B([a]);O.remove(a,"fxshow");for(e in s)p.style(a,e,s[e])})),n=ua(r?k[e]:0,e,x),e in k||(k[e]=n.start,
r&&(n.end=n.start,n.start=0))}],prefilter:function(a,b){b?ia.prefilters.unshift(a):ia.prefilters.push(a)}});p.speed=function(a,b,g){var e=a&&"object"==typeof a?p.extend({},a):{complete:g||!g&&b||p.isFunction(a)&&a,duration:a,easing:g&&b||b&&!p.isFunction(b)&&b};return p.fx.off||J.hidden?e.duration=0:"number"!=typeof e.duration&&(e.duration in p.fx.speeds?e.duration=p.fx.speeds[e.duration]:e.duration=p.fx.speeds._default),null!=e.queue&&!0!==e.queue||(e.queue="fx"),e.old=e.complete,e.complete=function(){p.isFunction(e.old)&&
e.old.call(this);e.queue&&p.dequeue(this,e.queue)},e};p.fn.extend({fadeTo:function(a,b,g,e){return this.filter(ob).css("opacity",0).show().end().animate({opacity:b},a,g,e)},animate:function(a,b,g,e){var c=p.isEmptyObject(a),h=p.speed(b,g,e);b=function(){var b=ia(this,p.extend({},a),h);(c||O.get(this,"finish"))&&b.stop(!0)};return b.finish=b,c||!1===h.queue?this.each(b):this.queue(h.queue,b)},stop:function(a,b,g){var e=function(a){var b=a.stop;delete a.stop;b(g)};return"string"!=typeof a&&(g=b,b=a,
a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",h=p.timers,f=O.get(this);if(c)f[c]&&f[c].stop&&e(f[c]);else for(c in f)f[c]&&f[c].stop&&Ba.test(c)&&e(f[c]);for(c=h.length;c--;)h[c].elem!==this||null!=a&&h[c].queue!==a||(h[c].anim.stop(g),b=!1,h.splice(c,1));!b&&g||p.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,g=O.get(this),e=g[a+"queue"];b=g[a+"queueHooks"];var c=p.timers,h=e?e.length:0;g.finish=!0;
p.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=c.length;b--;)c[b].elem===this&&c[b].queue===a&&(c[b].anim.stop(!0),c.splice(b,1));for(b=0;b<h;b++)e[b]&&e[b].finish&&e[b].finish.call(this);delete g.finish})}});p.each(["toggle","show","hide"],function(a,b){var g=p.fn[b];p.fn[b]=function(a,e,c){return null==a||"boolean"==typeof a?g.apply(this,arguments):this.animate(I(b,!0),a,e,c)}});p.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},
fadeToggle:{opacity:"toggle"}},function(a,b){p.fn[a]=function(a,g,e){return this.animate(b,a,g,e)}});p.timers=[];p.fx.tick=function(){var a,b=0,g=p.timers;for(Sa=p.now();b<g.length;b++)a=g[b],a()||g[b]!==a||g.splice(b--,1);g.length||p.fx.stop();Sa=void 0};p.fx.timer=function(a){p.timers.push(a);a()?p.fx.start():p.timers.pop()};p.fx.interval=13;p.fx.start=function(){Ca||(Ca=b.requestAnimationFrame?b.requestAnimationFrame(Ka):b.setInterval(p.fx.tick,p.fx.interval))};p.fx.stop=function(){b.cancelAnimationFrame?
b.cancelAnimationFrame(Ca):b.clearInterval(Ca);Ca=null};p.fx.speeds={slow:600,fast:200,_default:400};p.fn.delay=function(a,g){return a=p.fx?p.fx.speeds[a]||a:a,g=g||"fx",this.queue(g,function(g,e){var c=b.setTimeout(g,a);e.stop=function(){b.clearTimeout(c)}})};(function(){var a=J.createElement("input"),b=J.createElement("select").appendChild(J.createElement("option"));a.type="checkbox";S.checkOn=""!==a.value;S.optSelected=b.selected;a=J.createElement("input");a.value="t";a.type="radio";S.radioValue=
"t"===a.value})();var Ob,db=p.expr.attrHandle;p.fn.extend({attr:function(a,b){return Ea(this,p.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})}});p.extend({attr:function(a,b,g){var e,c,h=a.nodeType;if(3!==h&&8!==h&&2!==h)return"undefined"==typeof a.getAttribute?p.prop(a,b,g):(1===h&&p.isXMLDoc(a)||(c=p.attrHooks[b.toLowerCase()]||(p.expr.match.bool.test(b)?Ob:void 0)),void 0!==g?null===g?void p.removeAttr(a,b):c&&"set"in c&&void 0!==(e=c.set(a,
g,b))?e:(a.setAttribute(b,g+""),g):c&&"get"in c&&null!==(e=c.get(a,b))?e:(e=p.find.attr(a,b),null==e?void 0:e))},attrHooks:{type:{set:function(a,b){if(!S.radioValue&&"radio"===b&&p.nodeName(a,"input")){var g=a.value;return a.setAttribute("type",b),g&&(a.value=g),b}}}},removeAttr:function(a,b){var g,e=0,c=b&&b.match(fa);if(c&&1===a.nodeType)for(;g=c[e++];)a.removeAttribute(g)}});Ob={set:function(a,b,g){return!1===b?p.removeAttr(a,g):a.setAttribute(g,g),g}};p.each(p.expr.match.bool.source.match(/\w+/g),
function(a,b){var g=db[b]||p.find.attr;db[b]=function(a,b,e){var c,h,f=b.toLowerCase();return e||(h=db[f],db[f]=c,c=null!=g(a,b,e)?f:null,db[f]=h),c}});var Cb=/^(?:input|select|textarea|button)$/i,ea=/^(?:a|area)$/i;p.fn.extend({prop:function(a,b){return Ea(this,p.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[p.propFix[a]||a]})}});p.extend({prop:function(a,b,g){var e,c,h=a.nodeType;if(3!==h&&8!==h&&2!==h)return 1===h&&p.isXMLDoc(a)||(b=p.propFix[b]||
b,c=p.propHooks[b]),void 0!==g?c&&"set"in c&&void 0!==(e=c.set(a,g,b))?e:a[b]=g:c&&"get"in c&&null!==(e=c.get(a,b))?e:a[b]},propHooks:{tabIndex:{get:function(a){var b=p.find.attr(a,"tabindex");return b?parseInt(b,10):Cb.test(a.nodeName)||ea.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});S.optSelected||(p.propHooks.selected={get:function(a){a=a.parentNode;return a&&a.parentNode&&a.parentNode.selectedIndex,null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&
a.parentNode.selectedIndex)}});p.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){p.propFix[this.toLowerCase()]=this});p.fn.extend({addClass:function(a){var b,g,e,c,h,f,m=0;if(p.isFunction(a))return this.each(function(b){p(this).addClass(a.call(this,b,ka(this)))});if("string"==typeof a&&a)for(b=a.match(fa)||[];g=this[m++];)if(c=ka(g),e=1===g.nodeType&&" "+P(c)+" "){for(f=0;h=b[f++];)0>e.indexOf(" "+h+" ")&&(e+=h+" ");
e=P(e);c!==e&&g.setAttribute("class",e)}return this},removeClass:function(a){var b,g,e,c,h,f,m=0;if(p.isFunction(a))return this.each(function(b){p(this).removeClass(a.call(this,b,ka(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(fa)||[];g=this[m++];)if(c=ka(g),e=1===g.nodeType&&" "+P(c)+" "){for(f=0;h=b[f++];)for(;-1<e.indexOf(" "+h+" ");)e=e.replace(" "+h+" "," ");e=P(e);c!==e&&g.setAttribute("class",e)}return this},toggleClass:function(a,b){var g=
typeof a;return"boolean"==typeof b&&"string"===g?b?this.addClass(a):this.removeClass(a):p.isFunction(a)?this.each(function(g){p(this).toggleClass(a.call(this,g,ka(this),b),b)}):this.each(function(){var b,e,c,h;if("string"===g)for(e=0,c=p(this),h=a.match(fa)||[];b=h[e++];)c.hasClass(b)?c.removeClass(b):c.addClass(b);else void 0!==a&&"boolean"!==g||(b=ka(this),b&&O.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":O.get(this,"__className__")||""))})},hasClass:function(a){var b,
g=0;for(a=" "+a+" ";b=this[g++];)if(1===b.nodeType&&-1<(" "+P(ka(b))+" ").indexOf(a))return!0;return!1}});var Zb=/\r/g;p.fn.extend({val:function(a){var b,g,e,c=this[0];if(arguments.length)return e=p.isFunction(a),this.each(function(g){var c;1===this.nodeType&&(c=e?a.call(this,g,p(this).val()):a,null==c?c="":"number"==typeof c?c+="":p.isArray(c)&&(c=p.map(c,function(a){return null==a?"":a+""})),b=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,c,"value")||
(this.value=c))});if(c)return b=p.valHooks[c.type]||p.valHooks[c.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(g=b.get(c,"value"))?g:(g=c.value,"string"==typeof g?g.replace(Zb,""):null==g?"":g)}});p.extend({valHooks:{option:{get:function(a){var b=p.find.attr(a,"value");return null!=b?b:P(p.text(a))}},select:{get:function(a){var b,g,e=a.options,c=a.selectedIndex,h="select-one"===a.type,f=h?null:[],m=h?c+1:e.length;for(g=0>c?m:h?c:0;g<m;g++)if(b=e[g],!(!b.selected&&g!==c||b.disabled||b.parentNode.disabled&&
p.nodeName(b.parentNode,"optgroup"))){if(a=p(b).val(),h)return a;f.push(a)}return f},set:function(a,b){for(var g,e,c=a.options,h=p.makeArray(b),f=c.length;f--;)e=c[f],(e.selected=-1<p.inArray(p.valHooks.option.get(e),h))&&(g=!0);return g||(a.selectedIndex=-1),h}}}});p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(a,b){if(p.isArray(b))return a.checked=-1<p.inArray(p(a).val(),b)}};S.checkOn||(p.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});
var Pb=/^(?:focusinfocus|focusoutblur)$/;p.extend(p.event,{trigger:function(a,g,e,c){var h,f,m,n,d,q,l,x=[e||J],s=La.call(a,"type")?a.type:a;h=La.call(a,"namespace")?a.namespace.split("."):[];if(f=m=e=e||J,3!==e.nodeType&&8!==e.nodeType&&!Pb.test(s+p.event.triggered)&&(-1<s.indexOf(".")&&(h=s.split("."),s=h.shift(),h.sort()),d=0>s.indexOf(":")&&"on"+s,a=a[p.expando]?a:new p.Event(s,"object"==typeof a&&a),a.isTrigger=c?2:3,a.namespace=h.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+
"(\\.|$)"):null,a.result=void 0,a.target||(a.target=e),g=null==g?[a]:p.makeArray(g,[a]),l=p.event.special[s]||{},c||!l.trigger||!1!==l.trigger.apply(e,g))){if(!c&&!l.noBubble&&!p.isWindow(e)){n=l.delegateType||s;for(Pb.test(n+s)||(f=f.parentNode);f;f=f.parentNode)x.push(f),m=f;m===(e.ownerDocument||J)&&x.push(m.defaultView||m.parentWindow||b)}for(h=0;(f=x[h++])&&!a.isPropagationStopped();)a.type=1<h?n:l.bindType||s,(q=(O.get(f,"events")||{})[a.type]&&O.get(f,"handle"))&&q.apply(f,g),(q=d&&f[d])&&
q.apply&&lb(f)&&(a.result=q.apply(f,g),!1===a.result&&a.preventDefault());return a.type=s,c||a.isDefaultPrevented()||l._default&&!1!==l._default.apply(x.pop(),g)||!lb(e)||d&&p.isFunction(e[s])&&!p.isWindow(e)&&(m=e[d],m&&(e[d]=null),p.event.triggered=s,e[s](),p.event.triggered=void 0,m&&(e[d]=m)),a.result}},simulate:function(a,b,g){a=p.extend(new p.Event,g,{type:a,isSimulated:!0});p.event.trigger(a,null,b)}});p.fn.extend({trigger:function(a,b){return this.each(function(){p.event.trigger(a,b,this)})},
triggerHandler:function(a,b){var g=this[0];if(g)return p.event.trigger(a,b,g,!0)}});p.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){p.fn[b]=function(a,g){return 0<arguments.length?this.on(b,null,a,g):this.trigger(b)}});p.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});S.focusin="onfocusin"in b;S.focusin||
p.each({focus:"focusin",blur:"focusout"},function(a,b){var g=function(a){p.event.simulate(b,a.target,p.event.fix(a))};p.event.special[b]={setup:function(){var e=this.ownerDocument||this,c=O.access(e,b);c||e.addEventListener(a,g,!0);O.access(e,b,(c||0)+1)},teardown:function(){var e=this.ownerDocument||this,c=O.access(e,b)-1;c?O.access(e,b,c):(e.removeEventListener(a,g,!0),O.remove(e,b))}}});var Ya=b.location,Db=p.now(),nb=/\?/;p.parseXML=function(a){var g;if(!a||"string"!=typeof a)return null;try{g=
(new b.DOMParser).parseFromString(a,"text/xml")}catch(e){g=void 0}return g&&!g.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+a),g};var dc=/\[\]$/,wb=/\r?\n/g,hc=/^(?:submit|button|image|reset|file)$/i,Eb=/^(?:input|select|textarea|keygen)/i;p.param=function(a,b){var g,e=[],c=function(a,b){var g=p.isFunction(b)?b():b;e[e.length]=encodeURIComponent(a)+"\x3d"+encodeURIComponent(null==g?"":g)};if(p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){c(this.name,this.value)});
else for(g in a)Z(g,a[g],b,c);return e.join("\x26")};p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=p.prop(this,"elements");return a?p.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!p(this).is(":disabled")&&Eb.test(this.nodeName)&&!hc.test(a)&&(this.checked||!Nb.test(a))}).map(function(a,b){var g=p(this).val();return null==g?null:p.isArray(g)?p.map(g,function(a){return{name:b.name,value:a.replace(wb,
"\r\n")}}):{name:b.name,value:g.replace(wb,"\r\n")}}).get()}});var xb=/%20/g,Qb=/#.*$/,Rb=/([?&])_=[^&]*/,Fa=/^(.*?):[ \t]*([^\r\n]*)$/gm,Oa=/^(?:GET|HEAD)$/,Ia=/^\/\//,na={},za={},Ja="*/".concat("*"),Pa=J.createElement("a");Pa.href=Ya.href;p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ya.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ya.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",
accepts:{"*":Ja,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?$a($a(a,p.ajaxSettings),b):$a(p.ajaxSettings,a)},ajaxPrefilter:W(na),ajaxTransport:W(za),ajax:function(a,
g){function e(a,g,m,d){var s,x,G,v,aa=g;if(!q){q=!0;n&&b.clearTimeout(n);c=void 0;f=d||"";R.readyState=0<a?4:0;d=200<=a&&300>a||304===a;if(m){G=t;for(var M=R,u,Q,C,w,z=G.contents,ca=G.dataTypes;"*"===ca[0];)ca.shift(),void 0===u&&(u=G.mimeType||M.getResponseHeader("Content-Type"));if(u)for(Q in z)if(z[Q]&&z[Q].test(u)){ca.unshift(Q);break}if(ca[0]in m)C=ca[0];else{for(Q in m){if(!ca[0]||G.converters[Q+" "+ca[0]]){C=Q;break}w||(w=Q)}C=C||w}m=C?(C!==ca[0]&&ca.unshift(C),m[C]):void 0;G=m}var H;a:{m=
t;u=G;Q=R;C=d;var K,Y,A;G={};M=m.dataTypes.slice();if(M[1])for(K in m.converters)G[K.toLowerCase()]=m.converters[K];for(w=M.shift();w;)if(m.responseFields[w]&&(Q[m.responseFields[w]]=u),!A&&C&&m.dataFilter&&(u=m.dataFilter(u,m.dataType)),A=w,w=M.shift())if("*"===w)w=A;else if("*"!==A&&A!==w){if(K=G[A+" "+w]||G["* "+w],!K)for(H in G)if(Y=H.split(" "),Y[1]===w&&(K=G[A+" "+Y[0]]||G["* "+Y[0]])){!0===K?K=G[H]:!0!==G[H]&&(w=Y[0],M.unshift(Y[1]));break}if(!0!==K)if(K&&m["throws"])u=K(u);else try{u=K(u)}catch(E){H=
{state:"parsererror",error:K?E:"No conversion from "+A+" to "+w};break a}}H={state:"success",data:u}}G=H;d?(t.ifModified&&(v=R.getResponseHeader("Last-Modified"),v&&(p.lastModified[h]=v),v=R.getResponseHeader("etag"),v&&(p.etag[h]=v)),204===a||"HEAD"===t.type?aa="nocontent":304===a?aa="notmodified":(aa=G.state,s=G.data,x=G.error,d=!x)):(x=aa,!a&&aa||(aa="error",0>a&&(a=0)));R.status=a;R.statusText=(g||aa)+"";d?k.resolveWith(r,[s,aa,R]):k.rejectWith(r,[R,aa,x]);R.statusCode(L);L=void 0;l&&B.trigger(d?
"ajaxSuccess":"ajaxError",[R,t,d?s:x]);y.fireWith(r,[R,aa]);l&&(B.trigger("ajaxComplete",[R,t]),--p.active||p.event.trigger("ajaxStop"))}}"object"==typeof a&&(g=a,a=void 0);g=g||{};var c,h,f,m,n,d,q,l,s,x,t=p.ajaxSetup({},g),r=t.context||t,B=t.context&&(r.nodeType||r.jquery)?p(r):p.event,k=p.Deferred(),y=p.Callbacks("once memory"),L=t.statusCode||{},G={},v={},aa="canceled",R={readyState:0,getResponseHeader:function(a){var b;if(q){if(!m)for(m={};b=Fa.exec(f);)m[b[1].toLowerCase()]=b[2];b=m[a.toLowerCase()]}return null==
b?null:b},getAllResponseHeaders:function(){return q?f:null},setRequestHeader:function(a,b){return null==q&&(a=v[a.toLowerCase()]=v[a.toLowerCase()]||a,G[a]=b),this},overrideMimeType:function(a){return null==q&&(t.mimeType=a),this},statusCode:function(a){var b;if(a)if(q)R.always(a[R.status]);else for(b in a)L[b]=[L[b],a[b]];return this},abort:function(a){a=a||aa;return c&&c.abort(a),e(0,a),this}};if(k.promise(R),t.url=((a||t.url||Ya.href)+"").replace(Ia,Ya.protocol+"//"),t.type=g.method||g.type||t.method||
t.type,t.dataTypes=(t.dataType||"*").toLowerCase().match(fa)||[""],null==t.crossDomain){d=J.createElement("a");try{d.href=t.url,d.href=d.href,t.crossDomain=Pa.protocol+"//"+Pa.host!=d.protocol+"//"+d.host}catch(M){t.crossDomain=!0}}if(t.data&&t.processData&&"string"!=typeof t.data&&(t.data=p.param(t.data,t.traditional)),qa(na,t,g,R),q)return R;(l=p.event&&t.global)&&0===p.active++&&p.event.trigger("ajaxStart");t.type=t.type.toUpperCase();t.hasContent=!Oa.test(t.type);h=t.url.replace(Qb,"");t.hasContent?
t.data&&t.processData&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&(t.data=t.data.replace(xb,"+")):(x=t.url.slice(h.length),t.data&&(h+=(nb.test(h)?"\x26":"?")+t.data,delete t.data),!1===t.cache&&(h=h.replace(Rb,"$1"),x=(nb.test(h)?"\x26":"?")+"_\x3d"+Db++ +x),t.url=h+x);t.ifModified&&(p.lastModified[h]&&R.setRequestHeader("If-Modified-Since",p.lastModified[h]),p.etag[h]&&R.setRequestHeader("If-None-Match",p.etag[h]));(t.data&&t.hasContent&&!1!==t.contentType||g.contentType)&&
R.setRequestHeader("Content-Type",t.contentType);R.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", "+Ja+"; q\x3d0.01":""):t.accepts["*"]);for(s in t.headers)R.setRequestHeader(s,t.headers[s]);if(t.beforeSend&&(!1===t.beforeSend.call(r,R,t)||q))return R.abort();if(aa="abort",y.add(t.complete),R.done(t.success),R.fail(t.error),c=qa(za,t,g,R)){if(R.readyState=1,l&&B.trigger("ajaxSend",[R,t]),q)return R;t.async&&0<t.timeout&&(n=b.setTimeout(function(){R.abort("timeout")},
t.timeout));try{q=!1,c.send(G,e)}catch(u){if(q)throw u;e(-1,u)}}else e(-1,"No Transport");return R},getJSON:function(a,b,g){return p.get(a,b,g,"json")},getScript:function(a,b){return p.get(a,void 0,b,"script")}});p.each(["get","post"],function(a,b){p[b]=function(a,g,e,c){return p.isFunction(g)&&(c=c||e,e=g,g=void 0),p.ajax(p.extend({url:a,type:b,dataType:c,data:g,success:e},p.isPlainObject(a)&&a))}});p._evalUrl=function(a){return p.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,
"throws":!0})};p.fn.extend({wrapAll:function(a){var b;return this[0]&&(p.isFunction(a)&&(a=a.call(this[0])),b=p(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return p.isFunction(a)?this.each(function(b){p(this).wrapInner(a.call(this,b))}):this.each(function(){var b=p(this),g=b.contents();g.length?g.wrapAll(a):b.append(a)})},wrap:function(a){var b=
p.isFunction(a);return this.each(function(g){p(this).wrapAll(b?a.call(this,g):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){p(this).replaceWith(this.childNodes)}),this}});p.expr.pseudos.hidden=function(a){return!p.expr.pseudos.visible(a)};p.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};p.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(a){}};var ic={0:200,1223:204},yb=p.ajaxSettings.xhr();S.cors=!!yb&&
"withCredentials"in yb;S.ajax=yb=!!yb;p.ajaxTransport(function(a){var g,e;if(S.cors||yb&&!a.crossDomain)return{send:function(c,h){var f,m=a.xhr();if(m.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(f in a.xhrFields)m[f]=a.xhrFields[f];a.mimeType&&m.overrideMimeType&&m.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(f in c)m.setRequestHeader(f,c[f]);g=function(a){return function(){g&&(g=e=m.onload=m.onerror=m.onabort=
m.onreadystatechange=null,"abort"===a?m.abort():"error"===a?"number"!=typeof m.status?h(0,"error"):h(m.status,m.statusText):h(ic[m.status]||m.status,m.statusText,"text"!==(m.responseType||"text")||"string"!=typeof m.responseText?{binary:m.response}:{text:m.responseText},m.getAllResponseHeaders()))}};m.onload=g();e=m.onerror=g("error");void 0!==m.onabort?m.onabort=e:m.onreadystatechange=function(){4===m.readyState&&b.setTimeout(function(){g&&e()})};g=g("abort");try{m.send(a.hasContent&&a.data||null)}catch(n){if(g)throw n;
}},abort:function(){g&&g()}}});p.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return p.globalEval(a),a}}});p.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});p.ajaxTransport("script",function(a){if(a.crossDomain){var b,g;return{send:function(e,
c){b=p("\x3cscript\x3e").prop({charset:a.scriptCharset,src:a.url}).on("load error",g=function(a){b.remove();g=null;a&&c("error"===a.type?404:200,a.type)});J.head.appendChild(b[0])},abort:function(){g&&g()}}}});var oa=[],Fb=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=oa.pop()||p.expando+"_"+Db++;return this[a]=!0,a}});p.ajaxPrefilter("json jsonp",function(a,g,e){var c,h,f,m=!1!==a.jsonp&&(Fb.test(a.url)?"url":"string"==typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&
Fb.test(a.data)&&"data");if(m||"jsonp"===a.dataTypes[0])return c=a.jsonpCallback=p.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,m?a[m]=a[m].replace(Fb,"$1"+c):!1!==a.jsonp&&(a.url+=(nb.test(a.url)?"\x26":"?")+a.jsonp+"\x3d"+c),a.converters["script json"]=function(){return f||p.error(c+" was not called"),f[0]},a.dataTypes[0]="json",h=b[c],b[c]=function(){f=arguments},e.always(function(){void 0===h?p(b).removeProp(c):b[c]=h;a[c]&&(a.jsonpCallback=g.jsonpCallback,oa.push(c));f&&p.isFunction(h)&&
h(f[0]);f=h=void 0}),"script"});S.createHTMLDocument=function(){var a=J.implementation.createHTMLDocument("").body;return a.innerHTML="\x3cform\x3e\x3c/form\x3e\x3cform\x3e\x3c/form\x3e",2===a.childNodes.length}();p.parseHTML=function(a,b,g){if("string"!=typeof a)return[];"boolean"==typeof b&&(g=b,b=!1);var e,c,h;return b||(S.createHTMLDocument?(b=J.implementation.createHTMLDocument(""),e=b.createElement("base"),e.href=J.location.href,b.head.appendChild(e)):b=J),c=ub.exec(a),h=!g&&[],c?[b.createElement(c[1])]:
(c=u([a],b,h),h&&h.length&&p(h).remove(),p.merge([],c.childNodes))};p.fn.load=function(a,b,g){var e,c,h,f=this,m=a.indexOf(" ");return-1<m&&(e=P(a.slice(m)),a=a.slice(0,m)),p.isFunction(b)?(g=b,b=void 0):b&&"object"==typeof b&&(c="POST"),0<f.length&&p.ajax({url:a,type:c||"GET",dataType:"html",data:b}).done(function(a){h=arguments;f.html(e?p("\x3cdiv\x3e").append(p.parseHTML(a)).find(e):a)}).always(g&&function(a,b){f.each(function(){g.apply(this,h||[a.responseText,b,a])})}),this};p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(a,b){p.fn[b]=function(a){return this.on(b,a)}});p.expr.pseudos.animated=function(a){return p.grep(p.timers,function(b){return a===b.elem}).length};p.offset={setOffset:function(a,b,g){var e,c,h,f,m,n,d=p.css(a,"position"),q=p(a),t={};"static"===d&&(a.style.position="relative");m=q.offset();h=p.css(a,"top");n=p.css(a,"left");("absolute"===d||"fixed"===d)&&-1<(h+n).indexOf("auto")?(e=q.position(),f=e.top,c=e.left):(f=parseFloat(h)||0,c=parseFloat(n)||0);p.isFunction(b)&&(b=b.call(a,g,p.extend({},
m)));null!=b.top&&(t.top=b.top-m.top+f);null!=b.left&&(t.left=b.left-m.left+c);"using"in b?b.using.call(a,t):q.css(t)}};p.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){p.offset.setOffset(this,a,b)});var b,g,e,c,h=this[0];if(h)return h.getClientRects().length?(e=h.getBoundingClientRect(),e.width||e.height?(c=h.ownerDocument,g=ha(c),b=c.documentElement,{top:e.top+g.pageYOffset-b.clientTop,left:e.left+g.pageXOffset-b.clientLeft}):e):{top:0,left:0}},position:function(){if(this[0]){var a,
b,g=this[0],e={top:0,left:0};return"fixed"===p.css(g,"position")?b=g.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),p.nodeName(a[0],"html")||(e=a.offset()),e={top:e.top+p.css(a[0],"borderTopWidth",!0),left:e.left+p.css(a[0],"borderLeftWidth",!0)}),{top:b.top-e.top-p.css(g,"marginTop",!0),left:b.left-e.left-p.css(g,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===p.css(a,"position");)a=a.offsetParent;return a||mb})}});
p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var g="pageYOffset"===b;p.fn[a]=function(e){return Ea(this,function(a,e,c){var h=ha(a);return void 0===c?h?h[b]:a[e]:void(h?h.scrollTo(g?h.pageXOffset:c,g?c:h.pageYOffset):a[e]=c)},a,e,arguments.length)}});p.each(["top","left"],function(a,b){p.cssHooks[b]=V(S.pixelPosition,function(a,g){if(g)return g=T(a,b),rb.test(g)?p(a).position()[b]+"px":g})});p.each({Height:"height",Width:"width"},function(a,b){p.each({padding:"inner"+a,
content:b,"":"outer"+a},function(g,e){p.fn[e]=function(c,h){var f=arguments.length&&(g||"boolean"!=typeof c),m=g||(!0===c||!0===h?"margin":"border");return Ea(this,function(b,g,c){var h;return p.isWindow(b)?0===e.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(h=b.documentElement,Math.max(b.body["scroll"+a],h["scroll"+a],b.body["offset"+a],h["offset"+a],h["client"+a])):void 0===c?p.css(b,g,m):p.style(b,g,c,m)},b,f?c:void 0,f)}})});p.fn.extend({bind:function(a,
b,g){return this.on(a,null,b,g)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,g,e){return this.on(b,a,g,e)},undelegate:function(a,b,g){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",g)}});p.parseJSON=JSON.parse;"function"==typeof define&&define.amd&&define("jquery",[],function(){return p});var $b=b.jQuery,Gb=b.$;return p.noConflict=function(a){return b.$===p&&(b.$=Gb),a&&b.jQuery===p&&(b.jQuery=$b),p},d||(b.jQuery=b.$=p),p});
"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);"undefined"!==typeof define&&"undefined"!==typeof define.amd&&(amdOriginal=define.amd,define.amd=null);
!function(b,d){"object"==typeof exports&&"object"==typeof module?module.exports=d():"function"==typeof define&&define.amd?define([],d):"object"==typeof exports?exports.Handlebars=d():b.Handlebars=d()}(this,function(){return function(b){function d(k){if(c[k])return c[k].exports;var l=c[k]={exports:{},id:k,loaded:!1};return b[k].call(l.exports,l,l.exports,d),l.loaded=!0,l.exports}var c={};return d.m=b,d.c=c,d.p="",d(0)}([function(b,d,c){function k(){var a=q();return a.compile=function(b,e){return f.compile(b,
e,a)},a.precompile=function(b,e){return f.precompile(b,e,a)},a.AST=m["default"],a.Compiler=f.Compiler,a.JavaScriptCompiler=h["default"],a.Parser=n.parser,a.parse=n.parse,a}var l=c(1)["default"];d.__esModule=!0;var a=c(2),a=l(a),e=c(35),m=l(e),n=c(36),f=c(41),e=c(42),h=l(e),e=c(39),e=l(e);c=c(34);var l=l(c),q=a["default"].create,a=k();a.create=k;l["default"](a);a.Visitor=e["default"];a["default"]=a;d["default"]=a;b.exports=d["default"]},function(b,d){d["default"]=function(b){return b&&b.__esModule?
b:{"default":b}};d.__esModule=!0},function(b,d,c){function k(){var a=new m.HandlebarsEnvironment;return h.extend(a,m),a.SafeString=n["default"],a.Exception=f["default"],a.Utils=h,a.escapeExpression=h.escapeExpression,a.VM=q,a.template=function(b){return q.template(b,a)},a}var l=c(3)["default"],a=c(1)["default"];d.__esModule=!0;var e=c(4),m=l(e),e=c(21),n=a(e),e=c(6),f=a(e),e=c(5),h=l(e),e=c(22),q=l(e);c=c(34);a=a(c);c=k();c.create=k;a["default"](c);c["default"]=c;d["default"]=c;b.exports=d["default"]},
function(b,d){d["default"]=function(b){if(b&&b.__esModule)return b;var d={};if(null!=b)for(var l in b)Object.prototype.hasOwnProperty.call(b,l)&&(d[l]=b[l]);return d["default"]=b,d};d.__esModule=!0},function(b,d,c){function k(a,b,e){this.helpers=a||{};this.partials=b||{};this.decorators=e||{};m.registerDefaultHelpers(this);n.registerDefaultDecorators(this)}b=c(1)["default"];d.__esModule=!0;d.HandlebarsEnvironment=k;var l=c(5),a=c(6),e=b(a),m=c(10),n=c(18);c=c(20);c=b(c);d.VERSION="4.0.11";d.COMPILER_REVISION=
7;d.REVISION_CHANGES={1:"\x3c\x3d 1.0.rc.2",2:"\x3d\x3d 1.0.0-rc.3",3:"\x3d\x3d 1.0.0-rc.4",4:"\x3d\x3d 1.x.x",5:"\x3d\x3d 2.0.0-alpha.x",6:"\x3e\x3d 2.0.0-beta.1",7:"\x3e\x3d 4.0.0"};k.prototype={constructor:k,logger:c["default"],log:c["default"].log,registerHelper:function(a,b){if("[object Object]"===l.toString.call(a)){if(b)throw new e["default"]("Arg not supported with multiple helpers");l.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,
b){if("[object Object]"===l.toString.call(a))l.extend(this.partials,a);else{if("undefined"==typeof b)throw new e["default"]('Attempting to register a partial called "'+a+'" as undefined');this.partials[a]=b}},unregisterPartial:function(a){delete this.partials[a]},registerDecorator:function(a,b){if("[object Object]"===l.toString.call(a)){if(b)throw new e["default"]("Arg not supported with multiple decorators");l.extend(this.decorators,a)}else this.decorators[a]=b},unregisterDecorator:function(a){delete this.decorators[a]}};
d.log=c["default"].log;d.createFrame=l.createFrame;d.logger=c["default"]},function(b,d){function c(a){return l[a]}function k(a){for(var b=1;b<arguments.length;b++)for(var e in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],e)&&(a[e]=arguments[b][e]);return a}d.__esModule=!0;d.extend=k;d.indexOf=function(a,b){for(var e=0,c=a.length;e<c;e++)if(a[e]===b)return e;return-1};d.escapeExpression=function(b){if("string"!=typeof b){if(b&&b.toHTML)return b.toHTML();if(null==b)return"";if(!b)return b+
"";b=""+b}return e.test(b)?b.replace(a,c):b};d.isEmpty=function(a){return!a&&0!==a||!(!f(a)||0!==a.length)};d.createFrame=function(a){var b=k({},a);return b._parent=a,b};d.blockParams=function(a,b){return a.path=b,a};d.appendContextPath=function(a,b){return(a?a+".":"")+b};var l={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;","`":"\x26#x60;","\x3d":"\x26#x3D;"},a=/[&<>"'`=]/g,e=/[&<>"'`=]/,m=Object.prototype.toString;d.toString=m;var n=function(a){return"function"==
typeof a};n(/x/)&&(d.isFunction=n=function(a){return"function"==typeof a&&"[object Function]"===m.call(a)});d.isFunction=n;var f=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===m.call(a)};d.isArray=f},function(b,d,c){function k(b,c){var n=c&&c.loc,f=void 0,h=void 0;n&&(f=n.start.line,h=n.start.column,b+=" - "+f+":"+h);for(var d=Error.prototype.constructor.call(this,b),s=0;s<a.length;s++)this[a[s]]=d[a[s]];Error.captureStackTrace&&Error.captureStackTrace(this,k);try{n&&
(this.lineNumber=f,l?Object.defineProperty(this,"column",{value:h,enumerable:!0}):this.column=h)}catch(r){}}var l=c(7)["default"];d.__esModule=!0;var a="description fileName lineNumber message name number stack".split(" ");k.prototype=Error();d["default"]=k;b.exports=d["default"]},function(b,d,c){b.exports={"default":c(8),__esModule:!0}},function(b,d,c){var k=c(9);b.exports=function(b,a,e){return k.setDesc(b,a,e)}},function(b,d){var c=Object;b.exports={create:c.create,getProto:c.getPrototypeOf,isEnum:{}.propertyIsEnumerable,
getDesc:c.getOwnPropertyDescriptor,setDesc:c.defineProperty,setDescs:c.defineProperties,getKeys:c.keys,getNames:c.getOwnPropertyNames,getSymbols:c.getOwnPropertySymbols,each:[].forEach}},function(b,d,c){b=c(1)["default"];d.__esModule=!0;d.registerDefaultHelpers=function(b){k["default"](b);l["default"](b);a["default"](b);e["default"](b);m["default"](b);n["default"](b);f["default"](b)};d=c(11);var k=b(d);d=c(12);var l=b(d);d=c(13);var a=b(d);d=c(14);var e=b(d);d=c(15);var m=b(d);d=c(16);var n=b(d);
c=c(17);var f=b(c)},function(b,d,c){d.__esModule=!0;var k=c(5);d["default"]=function(b){b.registerHelper("blockHelperMissing",function(a,e){var c=e.inverse,n=e.fn;if(!0===a)return n(this);if(!1===a||null==a)return c(this);if(k.isArray(a))return 0<a.length?(e.ids&&(e.ids=[e.name]),b.helpers.each(a,e)):c(this);e.data&&e.ids&&(c=k.createFrame(e.data),c.contextPath=k.appendContextPath(e.data.contextPath,e.name),e={data:c});return n(a,e)})};b.exports=d["default"]},function(b,d,c){var k=c(1)["default"];
d.__esModule=!0;var l=c(5);c=c(6);var a=k(c);d["default"]=function(b){b.registerHelper("each",function(b,e){function c(a,e,f){B&&(B.key=a,B.index=e,B.first=0===e,B.last=!!f,k&&(B.contextPath=k+a));r+=h(b[a],{data:B,blockParams:l.blockParams([b[a],a],[k+a,null])})}if(!e)throw new a["default"]("Must pass iterator to #each");var h=e.fn,d=e.inverse,s=0,r="",B=void 0,k=void 0;if(e.data&&e.ids&&(k=l.appendContextPath(e.data.contextPath,e.ids[0])+"."),l.isFunction(b)&&(b=b.call(this)),e.data&&(B=l.createFrame(e.data)),
b&&"object"==typeof b)if(l.isArray(b))for(var v=b.length;s<v;s++)s in b&&c(s,s,s===b.length-1);else{var v=void 0,u;for(u in b)b.hasOwnProperty(u)&&(void 0!==v&&c(v,s-1),v=u,s++);void 0!==v&&c(v,s-1,!0)}return 0===s&&(r=d(this)),r})};b.exports=d["default"]},function(b,d,c){var k=c(1)["default"];d.__esModule=!0;c=c(6);var l=k(c);d["default"]=function(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new l["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"');
})};b.exports=d["default"]},function(b,d,c){d.__esModule=!0;var k=c(5);d["default"]=function(b){b.registerHelper("if",function(a,b){return k.isFunction(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||k.isEmpty(a)?b.inverse(this):b.fn(this)});b.registerHelper("unless",function(a,e){return b.helpers["if"].call(this,a,{fn:e.inverse,inverse:e.fn,hash:e.hash})})};b.exports=d["default"]},function(b,d){d.__esModule=!0;d["default"]=function(b){b.registerHelper("log",function(){for(var d=[void 0],l=arguments[arguments.length-
1],a=0;a<arguments.length-1;a++)d.push(arguments[a]);a=1;null!=l.hash.level?a=l.hash.level:l.data&&null!=l.data.level&&(a=l.data.level);d[0]=a;b.log.apply(b,d)})};b.exports=d["default"]},function(b,d){d.__esModule=!0;d["default"]=function(b){b.registerHelper("lookup",function(b,c){return b&&b[c]})};b.exports=d["default"]},function(b,d,c){d.__esModule=!0;var k=c(5);d["default"]=function(b){b.registerHelper("with",function(a,b){k.isFunction(a)&&(a=a.call(this));var c=b.fn;if(k.isEmpty(a))return b.inverse(this);
var d=b.data;return b.data&&b.ids&&(d=k.createFrame(b.data),d.contextPath=k.appendContextPath(b.data.contextPath,b.ids[0])),c(a,{data:d,blockParams:k.blockParams([a],[d&&d.contextPath])})})};b.exports=d["default"]},function(b,d,c){b=c(1)["default"];d.__esModule=!0;d.registerDefaultDecorators=function(b){k["default"](b)};d=c(19);var k=b(d)},function(b,d,c){d.__esModule=!0;var k=c(5);d["default"]=function(b){b.registerDecorator("inline",function(a,b,c,d){var f=a;return b.partials||(b.partials={},f=
function(h,f){var d=c.partials;c.partials=k.extend({},d,b.partials);var n=a(h,f);return c.partials=d,n}),b.partials[d.args[0]]=d.fn,f})};b.exports=d["default"]},function(b,d,c){d.__esModule=!0;var k=c(5),l={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(a){if("string"==typeof a){var b=k.indexOf(l.methodMap,a.toLowerCase());a=0<=b?b:parseInt(a,10)}return a},log:function(a){if(a=l.lookupLevel(a),"undefined"!=typeof console&&l.lookupLevel(l.level)<=a){var b=l.methodMap[a];
console[b]||(b="log");for(var c=arguments.length,d=Array(1<c?c-1:0),f=1;f<c;f++)d[f-1]=arguments[f];console[b].apply(console,d)}}};d["default"]=l;b.exports=d["default"]},function(b,d){function c(b){this.string=b}d.__esModule=!0;c.prototype.toString=c.prototype.toHTML=function(){return""+this.string};d["default"]=c;b.exports=d["default"]},function(b,d,c){function k(a,b,c,h,f,m,d){function n(b){var e=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],f=d;return!d||b==d[0]||b===a.nullContext&&
null===d[0]||(f=[b].concat(d)),c(a,b,a.helpers,a.partials,e.data||h,m&&[e.blockParams].concat(m),f)}return n=e(c,n,a,d,h,m),n.program=b,n.depth=d?d.length:0,n.blockParams=f||0,n}function l(){return""}function a(a,b){return b&&"root"in b||(b=b?q.createFrame(b):{},b.root=a),b}function e(a,b,e,c,h,m){if(a.decorator){var d={};b=a.decorator(b,d,e,c&&c[0],h,m,c);f.extend(b,d)}return b}var m=c(23)["default"],n=c(3)["default"];b=c(1)["default"];d.__esModule=!0;d.checkRevision=function(a){var b=a&&a[0]||1,
e=q.COMPILER_REVISION;if(b!==e){if(b<e)throw new h["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+q.REVISION_CHANGES[e]+") or downgrade your runtime to an older version ("+q.REVISION_CHANGES[b]+").");throw new h["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").");}};d.template=function(b,c){function d(c){function h(a){return""+
b.main(n,a,n.helpers,n.partials,m,l,q)}var f=1>=arguments.length||void 0===arguments[1]?{}:arguments[1],m=f.data;d._setup(f);!f.partial&&b.useData&&(m=a(c,m));var q=void 0,l=b.useBlockParams?[]:void 0;return b.useDepths&&(q=f.depths?c!=f.depths[0]?[c].concat(f.depths):f.depths:[c]),(h=e(b.main,h,n,f.depths||[],m,l))(c,f)}if(!c)throw new h["default"]("No environment passed to template");if(!b||!b.main)throw new h["default"]("Unknown template object: "+typeof b);b.main.decorator=b.main_d;c.VM.checkRevision(b.compiler);
var n={strict:function(a,b){if(!(b in a))throw new h["default"]('"'+b+'" not defined in '+a);return a[b]},lookup:function(a,b){for(var e=a.length,c=0;c<e;c++)if(a[c]&&null!=a[c][b])return a[c][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:f.escapeExpression,invokePartial:function(a,e,m){m.hash&&(e=f.extend({},e,m.hash),m.ids&&(m.ids[0]=!0));a=c.VM.resolvePartial.call(this,a,e,m);var d=c.VM.invokePartial.call(this,a,e,m);if(null==d&&c.compile&&(m.partials[m.name]=
c.compile(a,b.compilerOptions,c),d=m.partials[m.name](e,m)),null!=d){if(m.indent){a=d.split("\n");e=0;for(d=a.length;e<d&&(a[e]||e+1!==d);e++)a[e]=m.indent+a[e];d=a.join("\n")}return d}throw new h["default"]("The partial "+m.name+" could not be compiled when running in runtime-only mode");},fn:function(a){var e=b[a];return e.decorator=b[a+"_d"],e},programs:[],program:function(a,b,e,c,h){var f=this.programs[a],m=this.fn(a);return b||h||c||e?f=k(this,a,m,b,e,c,h):f||(f=this.programs[a]=k(this,a,m)),
f},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var e=a||b;return a&&b&&a!==b&&(e=f.extend({},b,a)),e},nullContext:m({}),noop:c.VM.noop,compilerInfo:b.compiler};return d.isTop=!0,d._setup=function(a){a.partial?(n.helpers=a.helpers,n.partials=a.partials,n.decorators=a.decorators):(n.helpers=n.merge(a.helpers,c.helpers),b.usePartial&&(n.partials=n.merge(a.partials,c.partials)),(b.usePartial||b.useDecorators)&&(n.decorators=n.merge(a.decorators,c.decorators)))},d._child=
function(a,e,c,f){if(b.useBlockParams&&!c)throw new h["default"]("must pass block params");if(b.useDepths&&!f)throw new h["default"]("must pass parent depths");return k(n,a,b[a],e,0,c,f)},d};d.wrapProgram=k;d.resolvePartial=function(a,b,e){return a?a.call||e.name||(e.name=a,a=e.partials[a]):a="@partial-block"===e.name?e.data["partial-block"]:e.partials[e.name],a};d.invokePartial=function(a,b,e){var c=e.data&&e.data["partial-block"];e.partial=!0;e.ids&&(e.data.contextPath=e.ids[0]||e.data.contextPath);
var m=void 0;if(e.fn&&e.fn!==l&&!function(){e.data=q.createFrame(e.data);var a=e.fn;m=e.data["partial-block"]=function(b){var e=1>=arguments.length||void 0===arguments[1]?{}:arguments[1];return e.data=q.createFrame(e.data),e.data["partial-block"]=c,a(b,e)};a.partials&&(e.partials=f.extend({},e.partials,a.partials))}(),void 0===a&&m&&(a=m),void 0===a)throw new h["default"]("The partial "+e.name+" could not be found");if(a instanceof Function)return a(b,e)};d.noop=l;d=c(5);var f=n(d);d=c(6);var h=b(d),
q=c(4)},function(b,d,c){b.exports={"default":c(24),__esModule:!0}},function(b,d,c){c(25);b.exports=c(30).Object.seal},function(b,d,c){var k=c(26);c(27)("seal",function(b){return function(a){return b&&k(a)?b(a):a}})},function(b,d){b.exports=function(b){return"object"==typeof b?null!==b:"function"==typeof b}},function(b,d,c){var k=c(28),l=c(30),a=c(33);b.exports=function(b,c){var d=(l.Object||{})[b]||Object[b],f={};f[b]=c(d);k(k.S+k.F*a(function(){d(1)}),"Object",f)}},function(b,d,c){var k=c(29),l=
c(30),a=c(31),e=function(b,c,f){var h,d,s=b&e.F,r=b&e.G,B=b&e.S,y=b&e.P,v=b&e.B;b&=e.W;var u=r?l:l[c]||(l[c]={}),B=r?k:B?k[c]:(k[c]||{}).prototype;r&&(f=c);for(h in f)(c=!s&&B&&h in B)&&h in u||(d=c?B[h]:f[h],u[h]=r&&"function"!=typeof B[h]?f[h]:v&&c?a(d,k):b&&B[h]==d?function(a){var b=function(b){return this instanceof a?new a(b):a(b)};return b.prototype=a.prototype,b}(d):y&&"function"==typeof d?a(Function.call,d):d,y&&((u.prototype||(u.prototype={}))[h]=d))};e.F=1;e.G=2;e.S=4;e.P=8;e.B=16;e.W=32;
b.exports=e},function(b,d){var c=b.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(b,d){var c=b.exports={version:"1.2.6"};"number"==typeof __e&&(__e=c)},function(b,d,c){var k=c(32);b.exports=function(b,a,e){if(k(b),void 0===a)return b;switch(e){case 1:return function(e){return b.call(a,e)};case 2:return function(e,c){return b.call(a,e,c)};case 3:return function(e,c,f){return b.call(a,
e,c,f)}}return function(){return b.apply(a,arguments)}}},function(b,d){b.exports=function(b){if("function"!=typeof b)throw TypeError(b+" is not a function!");return b}},function(b,d){b.exports=function(b){try{return!!b()}catch(d){return!0}}},function(b,d){(function(c){d.__esModule=!0;d["default"]=function(b){var d="undefined"!=typeof c?c:window,a=d.Handlebars;b.noConflict=function(){return d.Handlebars===b&&(d.Handlebars=a),b}};b.exports=d["default"]}).call(d,function(){return this}())},function(b,
d){d.__esModule=!0;var c={helpers:{helperExpression:function(b){return"SubExpression"===b.type||("MustacheStatement"===b.type||"BlockStatement"===b.type)&&!!(b.params&&b.params.length||b.hash)},scopedId:function(b){return/^\.|this\b/.test(b.original)},simpleId:function(b){return 1===b.parts.length&&!c.helpers.scopedId(b)&&!b.depth}}};d["default"]=c;b.exports=d["default"]},function(b,d,c){var k=c(1)["default"];b=c(3)["default"];d.__esModule=!0;d.parse=function(b,c){if("Program"===b.type)return b;a["default"].yy=
m;m.locInfo=function(a){return new m.SourceLocation(c&&c.srcName,a)};return(new e["default"](c)).accept(a["default"].parse(b))};var l=c(37),a=k(l),l=c(38),e=k(l),k=c(40);b=b(k);c=c(5);d.parser=a["default"];var m={};c.extend(m,b)},function(b,d){d.__esModule=!0;var c=function(){function b(){this.yy={}}var c={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,
rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,
openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,
hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",
51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,
1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(a,b,c,f,
h,d,l){a=d.length-1;switch(h){case 1:return d[a-1];case 2:this.$=f.prepareProgram(d[a]);break;case 3:this.$=d[a];break;case 4:this.$=d[a];break;case 5:this.$=d[a];break;case 6:this.$=d[a];break;case 7:this.$=d[a];break;case 8:this.$=d[a];break;case 9:this.$={type:"CommentStatement",value:f.stripComment(d[a]),strip:f.stripFlags(d[a],d[a]),loc:f.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:d[a],value:d[a],loc:f.locInfo(this._$)};break;case 11:this.$=f.prepareRawBlock(d[a-
2],d[a-1],d[a],this._$);break;case 12:this.$={path:d[a-3],params:d[a-2],hash:d[a-1]};break;case 13:this.$=f.prepareBlock(d[a-3],d[a-2],d[a-1],d[a],!1,this._$);break;case 14:this.$=f.prepareBlock(d[a-3],d[a-2],d[a-1],d[a],!0,this._$);break;case 15:this.$={open:d[a-5],path:d[a-4],params:d[a-3],hash:d[a-2],blockParams:d[a-1],strip:f.stripFlags(d[a-5],d[a])};break;case 16:this.$={path:d[a-4],params:d[a-3],hash:d[a-2],blockParams:d[a-1],strip:f.stripFlags(d[a-5],d[a])};break;case 17:this.$={path:d[a-4],
params:d[a-3],hash:d[a-2],blockParams:d[a-1],strip:f.stripFlags(d[a-5],d[a])};break;case 18:this.$={strip:f.stripFlags(d[a-1],d[a-1]),program:d[a]};break;case 19:h=f.prepareBlock(d[a-2],d[a-1],d[a],d[a],!1,this._$);f=f.prepareProgram([h],d[a-1].loc);f.chained=!0;this.$={strip:d[a-2].strip,program:f,chain:!0};break;case 20:this.$=d[a];break;case 21:this.$={path:d[a-1],strip:f.stripFlags(d[a-2],d[a])};break;case 22:this.$=f.prepareMustache(d[a-3],d[a-2],d[a-1],d[a-4],f.stripFlags(d[a-4],d[a]),this._$);
break;case 23:this.$=f.prepareMustache(d[a-3],d[a-2],d[a-1],d[a-4],f.stripFlags(d[a-4],d[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:d[a-3],params:d[a-2],hash:d[a-1],indent:"",strip:f.stripFlags(d[a-4],d[a]),loc:f.locInfo(this._$)};break;case 25:this.$=f.preparePartialBlock(d[a-2],d[a-1],d[a],this._$);break;case 26:this.$={path:d[a-3],params:d[a-2],hash:d[a-1],strip:f.stripFlags(d[a-4],d[a])};break;case 27:this.$=d[a];break;case 28:this.$=d[a];break;case 29:this.$={type:"SubExpression",
path:d[a-3],params:d[a-2],hash:d[a-1],loc:f.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:d[a],loc:f.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:f.id(d[a-2]),value:d[a],loc:f.locInfo(this._$)};break;case 32:this.$=f.id(d[a-1]);break;case 33:this.$=d[a];break;case 34:this.$=d[a];break;case 35:this.$={type:"StringLiteral",value:d[a],original:d[a],loc:f.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(d[a]),original:Number(d[a]),loc:f.locInfo(this._$)};
break;case 37:this.$={type:"BooleanLiteral",value:"true"===d[a],original:"true"===d[a],loc:f.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:f.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:f.locInfo(this._$)};break;case 40:this.$=d[a];break;case 41:this.$=d[a];break;case 42:this.$=f.preparePath(!0,d[a],this._$);break;case 43:this.$=f.preparePath(!1,d[a],this._$);break;case 44:d[a-2].push({part:f.id(d[a]),original:d[a],
separator:d[a-1]});this.$=d[a-2];break;case 45:this.$=[{part:f.id(d[a]),original:d[a]}];break;case 46:this.$=[];break;case 47:d[a-1].push(d[a]);break;case 48:this.$=[d[a]];break;case 49:d[a-1].push(d[a]);break;case 50:this.$=[];break;case 51:d[a-1].push(d[a]);break;case 58:this.$=[];break;case 59:d[a-1].push(d[a]);break;case 64:this.$=[];break;case 65:d[a-1].push(d[a]);break;case 70:this.$=[];break;case 71:d[a-1].push(d[a]);break;case 78:this.$=[];break;case 79:d[a-1].push(d[a]);break;case 82:this.$=
[];break;case 83:d[a-1].push(d[a]);break;case 86:this.$=[];break;case 87:d[a-1].push(d[a]);break;case 90:this.$=[];break;case 91:d[a-1].push(d[a]);break;case 94:this.$=[];break;case 95:d[a-1].push(d[a]);break;case 98:this.$=[d[a]];break;case 99:d[a-1].push(d[a]);break;case 100:this.$=[d[a]];break;case 101:d[a-1].push(d[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,
13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,
4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],
14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],
47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],
83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,
33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],
65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,
51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},
{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],
85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],
87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],
48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],
19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],
85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,
27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],
33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,
70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,
121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],
85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},
{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],
48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,
29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,
17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(a,b){throw Error(a);},parse:function(a){var b=[0],c=[null],f=[],h=this.table,d="",l=0,r=0,k=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc=
{});a=this.lexer.yylloc;f.push(a);var y=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var v,u,C,A,t,G,L,M,Q={};;){C=b[b.length-1];if(this.defaultActions[C])A=this.defaultActions[C];else{if(null===v||"undefined"==typeof v)A=void 0,v=(A=this.lexer.lex()||1,"number"!=typeof A&&(A=this.symbols_[A]||A),A);A=h[C]&&h[C][v]}if("undefined"==typeof A||!A.length||!A[0]){var w="";if(!k){M=[];for(G in h[C])this.terminals_[G]&&2<G&&
M.push("'"+this.terminals_[G]+"'");w=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+M.join(", ")+", got '"+(this.terminals_[v]||v)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==v?"end of input":"'"+(this.terminals_[v]||v)+"'");this.parseError(w,{text:this.lexer.match,token:this.terminals_[v]||v,line:this.lexer.yylineno,loc:a,expected:M})}}if(A[0]instanceof Array&&1<A.length)throw Error("Parse Error: multiple actions possible at state: "+
C+", token: "+v);switch(A[0]){case 1:b.push(v);c.push(this.lexer.yytext);f.push(this.lexer.yylloc);b.push(A[1]);v=null;u?(v=u,u=null):(r=this.lexer.yyleng,d=this.lexer.yytext,l=this.lexer.yylineno,a=this.lexer.yylloc,0<k&&k--);break;case 2:if(L=this.productions_[A[1]][1],Q.$=c[c.length-L],Q._$={first_line:f[f.length-(L||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(L||1)].first_column,last_column:f[f.length-1].last_column},y&&(Q._$.range=[f[f.length-(L||1)].range[0],f[f.length-
1].range[1]]),t=this.performAction.call(Q,d,r,l,this.yy,A[1],c,f),"undefined"!=typeof t)return t;L&&(b=b.slice(0,-2*L),c=c.slice(0,-1*L),f=f.slice(0,-1*L));b.push(this.productions_[A[1]][0]);c.push(Q.$);f.push(Q._$);C=h[b[b.length-2]][b[b.length-1]];b.push(C);break;case 3:return!0}}}},a=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=
0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;return a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},
unput:function(a){var b=a.length,e=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-b-1);this.offset-=b;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);e.length-1&&(this.yylineno-=e.length-1);var c=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:e?(e.length===
a.length?this.yylloc.first_column:0)+a[a.length-e.length].length-e[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[c[0],c[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return 20>a.length&&(a+=this._input.substr(0,
20-a.length)),(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,e,c,d;this._more||(this.yytext="",this.match="");for(var l=this._currentRules(),r=0;r<l.length&&(e=this._input.match(this.rules[l[r]]),!e||b&&!(e[0].length>b[0].length)||(b=e,c=r,this.options.flex));r++);return b?(d=b[0].match(/(?:\r\n?|\n).*/g),
d&&(this.yylineno+=d.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:d?d[d.length-1].length-d[d.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,
this.yy,this,l[c],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-
1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,e,c){function d(a,e){return b.yytext=b.yytext.substr(a,b.yyleng-e)}switch(e){case 0:if("\\\\"===b.yytext.slice(-2)?(d(0,1),this.begin("mu")):"\\"===b.yytext.slice(-1)?(d(0,1),this.begin("emu")):this.begin("mu"),b.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),
"raw"===this.conditionStack[this.conditionStack.length-1]?15:(b.yytext=b.yytext.substr(5,b.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(b.yytext);
this.popState();this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return b.yytext=d(1,2).replace(/\\"/g,'"'),80;case 32:return b.yytext=d(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;
case 42:return b.yytext=b.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},a.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,
/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,
/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},a}();return c.lexer=a,b.prototype=c,c.Parser=b,new b}();d["default"]=c;b.exports=d["default"]},function(b,d,
c){function k(){this.options=0>=arguments.length||void 0===arguments[0]?{}:arguments[0]}function l(a,b,e){void 0===b&&(b=a.length);var c=a[b-1];a=a[b-2];return c?"ContentStatement"===c.type?(a||!e?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(c.original):void 0:e}function a(a,b,e){void 0===b&&(b=-1);var c=a[b+1];a=a[b+2];return c?"ContentStatement"===c.type?(a||!e?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(c.original):void 0:e}function e(a,b,e){!(a=a[null==b?0:b+1])||"ContentStatement"!==a.type||!e&&a.rightStripped||
(b=a.value,a.value=a.value.replace(e?/^\s+/:/^[ \t]*\r?\n?/,""),a.rightStripped=a.value!==b)}function m(a,b,e){if((a=a[null==b?a.length-1:b-1])&&"ContentStatement"===a.type&&(e||!a.leftStripped))return b=a.value,a.value=a.value.replace(e?/\s+$/:/[ \t]+$/,""),a.leftStripped=a.value!==b,a.leftStripped}var n=c(1)["default"];d.__esModule=!0;c=c(39);n=n(c);k.prototype=new n["default"];k.prototype.Program=function(b){var c=!this.options.ignoreStandalone,d=!this.isRootSeen;this.isRootSeen=!0;for(var n=b.body,
r=0,k=n.length;r<k;r++){var y=n[r],v=this.accept(y);if(v){var u=l(n,r,d),C=a(n,r,d),A=v.openStandalone&&u,t=v.closeStandalone&&C,u=v.inlineStandalone&&u&&C;v.close&&e(n,r,!0);v.open&&m(n,r,!0);c&&u&&(e(n,r),m(n,r)&&"PartialStatement"===y.type&&(y.indent=/([ \t]+$)/.exec(n[r-1].original)[1]));c&&A&&(e((y.program||y.inverse).body),m(n,r));c&&t&&(e(n,r),m((y.inverse||y.program).body))}}return b};k.prototype.BlockStatement=k.prototype.DecoratorBlock=k.prototype.PartialBlockStatement=function(b){this.accept(b.program);
this.accept(b.inverse);var c=b.program||b.inverse,d=b.program&&b.inverse,n=d,r=d;if(d&&d.chained)for(n=d.body[0].program;r.chained;)r=r.body[r.body.length-1].program;var k={open:b.openStrip.open,close:b.closeStrip.close,openStandalone:a(c.body),closeStandalone:l((n||c).body)};(b.openStrip.close&&e(c.body,null,!0),d)?(d=b.inverseStrip,d.open&&m(c.body,null,!0),d.close&&e(n.body,null,!0),b.closeStrip.open&&m(r.body,null,!0),!this.options.ignoreStandalone&&l(c.body)&&a(n.body)&&(m(c.body),e(n.body))):
b.closeStrip.open&&m(c.body,null,!0);return k};k.prototype.Decorator=k.prototype.MustacheStatement=function(a){return a.strip};k.prototype.PartialStatement=k.prototype.CommentStatement=function(a){a=a.strip||{};return{inlineStandalone:!0,open:a.open,close:a.close}};d["default"]=k;b.exports=d["default"]},function(b,d,c){function k(){this.parents=[]}function l(a){this.acceptRequired(a,"path");this.acceptArray(a.params);this.acceptKey(a,"hash")}function a(a){l.call(this,a);this.acceptKey(a,"program");
this.acceptKey(a,"inverse")}function e(a){this.acceptRequired(a,"name");this.acceptArray(a.params);this.acceptKey(a,"hash")}var m=c(1)["default"];d.__esModule=!0;c=c(6);var n=m(c);k.prototype={constructor:k,mutating:!1,acceptKey:function(a,b){var e=this.accept(a[b]);if(this.mutating){if(e&&!k.prototype[e.type])throw new n["default"]('Unexpected node type "'+e.type+'" found when accepting '+b+" on "+a.type);a[b]=e}},acceptRequired:function(a,b){if(this.acceptKey(a,b),!a[b])throw new n["default"](a.type+
" requires "+b);},acceptArray:function(a){for(var b=0,e=a.length;b<e;b++)this.acceptKey(a,b),a[b]||(a.splice(b,1),b--,e--)},accept:function(a){if(a){if(!this[a.type])throw new n["default"]("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current);this.current=a;var b=this[a.type](a);return this.current=this.parents.shift(),!this.mutating||b?b:!1!==b?a:void 0}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:l,Decorator:l,BlockStatement:a,DecoratorBlock:a,PartialStatement:e,
PartialBlockStatement:function(a){e.call(this,a);this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:l,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}};d["default"]=k;b.exports=d["default"]},function(b,d,c){function k(a,b){if(b=b.path?b.path.original:
b,a.path.original!==b)throw new l["default"](a.path.original+" doesn't match "+b,{loc:a.path.loc});}b=c(1)["default"];d.__esModule=!0;d.SourceLocation=function(a,b){this.source=a;this.start={line:b.first_line,column:b.first_column};this.end={line:b.last_line,column:b.last_column}};d.id=function(a){return/^\[.*\]$/.test(a)?a.substr(1,a.length-2):a};d.stripFlags=function(a,b){return{open:"~"===a.charAt(2),close:"~"===b.charAt(b.length-3)}};d.stripComment=function(a){return a.replace(/^\{\{~?\!-?-?/,
"").replace(/-?-?~?\}\}$/,"")};d.preparePath=function(a,b,c){c=this.locInfo(c);for(var d=a?"@":"",f=[],h=0,q=0,s=b.length;q<s;q++){var r=b[q].part,k=b[q].original!==r;if(d+=(b[q].separator||"")+r,k||".."!==r&&"."!==r&&"this"!==r)f.push(r);else{if(0<f.length)throw new l["default"]("Invalid path: "+d,{loc:c});".."===r&&h++}}return{type:"PathExpression",data:a,depth:h,parts:f,original:d,loc:c}};d.prepareMustache=function(a,b,c,d,f,h){var l=d.charAt(3)||d.charAt(2),l="{"!==l&&"\x26"!==l;return{type:/\*/.test(d)?
"Decorator":"MustacheStatement",path:a,params:b,hash:c,escaped:l,strip:f,loc:this.locInfo(h)}};d.prepareRawBlock=function(a,b,c,d){k(a,c);d=this.locInfo(d);return{type:"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:{type:"Program",body:b,strip:{},loc:d},openStrip:{},inverseStrip:{},closeStrip:{},loc:d}};d.prepareBlock=function(a,b,c,d,f,h){d&&d.path&&k(a,d);var q=/\*/.test(a.open);b.blockParams=a.blockParams;var s=void 0,r=void 0;if(c){if(q)throw new l["default"]("Unexpected inverse block on decorator",
c);c.chain&&(c.program.body[0].closeStrip=d.strip);r=c.strip;s=c.program}return f&&(f=s,s=b,b=f),{type:q?"DecoratorBlock":"BlockStatement",path:a.path,params:a.params,hash:a.hash,program:b,inverse:s,openStrip:a.strip,inverseStrip:r,closeStrip:d&&d.strip,loc:this.locInfo(h)}};d.prepareProgram=function(a,b){if(!b&&a.length){var c=a[0].loc,d=a[a.length-1].loc;c&&d&&(b={source:c.source,start:{line:c.start.line,column:c.start.column},end:{line:d.end.line,column:d.end.column}})}return{type:"Program",body:a,
strip:{},loc:b}};d.preparePartialBlock=function(a,b,c,d){return k(a,c),{type:"PartialBlockStatement",name:a.path,params:a.params,hash:a.hash,program:b,openStrip:a.strip,closeStrip:c&&c.strip,loc:this.locInfo(d)}};d=c(6);var l=b(d)},function(b,d,c){function k(){}function l(a,b){if(a===b)return!0;if(m.isArray(a)&&m.isArray(b)&&a.length===b.length){for(var e=0;e<a.length;e++)if(!l(a[e],b[e]))return!1;return!0}}function a(a){if(!a.path.parts){var b=a.path;a.path={type:"PathExpression",data:!1,depth:0,
parts:[b.original+""],original:b.original+"",loc:b.loc}}}b=c(1)["default"];d.__esModule=!0;d.Compiler=k;d.precompile=function(a,b,c){if(null==a||"string"!=typeof a&&"Program"!==a.type)throw new e["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);b=b||{};"data"in b||(b.data=!0);b.compat&&(b.useDepths=!0);a=c.parse(a,b);a=(new c.Compiler).compile(a,b);return(new c.JavaScriptCompiler).compile(a,b)};d.compile=function(a,b,c){function d(){var e=c.parse(a,b),
e=(new c.Compiler).compile(e,b),e=(new c.JavaScriptCompiler).compile(e,b,void 0,!0);return c.template(e)}function f(a,b){return n||(n=d()),n.call(this,a,b)}if(void 0===b&&(b={}),null==a||"string"!=typeof a&&"Program"!==a.type)throw new e["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+a);b=m.extend({},b);"data"in b||(b.data=!0);b.compat&&(b.useDepths=!0);var n=void 0;return f._setup=function(a){return n||(n=d()),n._setup(a)},f._child=function(a,b,e,c){return n||
(n=d()),n._child(a,b,e,c)},f};d=c(6);var e=b(d),m=c(5);c=c(35);var n=b(c),f=[].slice;k.prototype={compiler:k,equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var e=0;e<b;e++){var c=this.opcodes[e],d=a.opcodes[e];if(c.opcode!==d.opcode||!l(c.args,d.args))return!1}b=this.children.length;for(e=0;e<b;e++)if(!this.children[e].equals(a.children[e]))return!1;return!0},guid:0,compile:function(a,b){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=b;this.stringParams=
b.stringParams;this.trackIds=b.trackIds;b.blockParams=b.blockParams||[];var e=b.knownHelpers;if(b.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},e)for(var c in e)c in e&&(this.options.knownHelpers[c]=e[c]);return this.accept(a)},compileProgram:function(a){a=(new this.compiler).compile(a,this.options);var b=this.guid++;return this.usePartial=this.usePartial||a.usePartial,this.children[b]=a,this.useDepths=this.useDepths||a.useDepths,b},accept:function(a){if(!this[a.type])throw new e["default"]("Unknown type: "+
a.type,a);this.sourceNode.unshift(a);a=this[a.type](a);return this.sourceNode.shift(),a},Program:function(a){this.options.blockParams.unshift(a.blockParams);for(var b=a.body,e=b.length,c=0;c<e;c++)this.accept(b[c]);return this.options.blockParams.shift(),this.isSimple=1===e,this.blockParams=a.blockParams?a.blockParams.length:0,this},BlockStatement:function(b){a(b);var e=b.program,c=b.inverse,e=e&&this.compileProgram(e),c=c&&this.compileProgram(c),d=this.classifySexpr(b);"helper"===d?this.helperSexpr(b,
e,c):"simple"===d?(this.simpleSexpr(b),this.opcode("pushProgram",e),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("blockValue",b.path.original)):(this.ambiguousSexpr(b,e,c),this.opcode("pushProgram",e),this.opcode("pushProgram",c),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},DecoratorBlock:function(a){var b=a.program&&this.compileProgram(a.program),b=this.setupFullMustacheParams(a,b,void 0);a=a.path;this.useDecorators=!0;this.opcode("registerDecorator",
b.length,a.original)},PartialStatement:function(a){this.usePartial=!0;var b=a.program;b&&(b=this.compileProgram(a.program));var c=a.params;if(1<c.length)throw new e["default"]("Unsupported number of partial arguments: "+c.length,a);c.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):c.push({type:"PathExpression",parts:[],depth:0}));var c=a.name.original,d="SubExpression"===a.name.type;d&&this.accept(a.name);this.setupFullMustacheParams(a,b,void 0,!0);a=a.indent||
"";this.options.preventIndent&&a&&(this.opcode("appendContent",a),a="");this.opcode("invokePartial",d,c,a);this.opcode("append")},PartialBlockStatement:function(a){this.PartialStatement(a)},MustacheStatement:function(a){this.SubExpression(a);a.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(a){this.DecoratorBlock(a)},ContentStatement:function(a){a.value&&this.opcode("appendContent",a.value)},CommentStatement:function(){},SubExpression:function(b){a(b);
var e=this.classifySexpr(b);"simple"===e?this.simpleSexpr(b):"helper"===e?this.helperSexpr(b):this.ambiguousSexpr(b)},ambiguousSexpr:function(a,b,e){a=a.path;var c=a.parts[0],d=null!=b||null!=e;this.opcode("getContext",a.depth);this.opcode("pushProgram",b);this.opcode("pushProgram",e);a.strict=!0;this.accept(a);this.opcode("invokeAmbiguous",c,d)},simpleSexpr:function(a){a=a.path;a.strict=!0;this.accept(a);this.opcode("resolvePossibleLambda")},helperSexpr:function(a,b,c){b=this.setupFullMustacheParams(a,
b,c);c=a.path;var d=c.parts[0];if(this.options.knownHelpers[d])this.opcode("invokeKnownHelper",b.length,d);else{if(this.options.knownHelpersOnly)throw new e["default"]("You specified knownHelpersOnly, but used the unknown helper "+d,a);c.strict=!0;c.falsy=!0;this.accept(c);this.opcode("invokeHelper",b.length,c.original,n["default"].helpers.simpleId(c))}},PathExpression:function(a){this.addDepth(a.depth);this.opcode("getContext",a.depth);var b=a.parts[0],e=n["default"].helpers.scopedId(a),c=!a.depth&&
!e&&this.blockParamIndex(b);c?this.opcode("lookupBlockParam",c,a.parts):b?a.data?(this.options.data=!0,this.opcode("lookupData",a.depth,a.parts,a.strict)):this.opcode("lookupOnContext",a.parts,a.falsy,a.strict,e):this.opcode("pushContext")},StringLiteral:function(a){this.opcode("pushString",a.value)},NumberLiteral:function(a){this.opcode("pushLiteral",a.value)},BooleanLiteral:function(a){this.opcode("pushLiteral",a.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral",
"null")},Hash:function(a){a=a.pairs;var b=0,e=a.length;for(this.opcode("pushHash");b<e;b++)this.pushParam(a[b].value);for(;b--;)this.opcode("assignToHash",a[b].key);this.opcode("popHash")},opcode:function(a){this.opcodes.push({opcode:a,args:f.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(a){a&&(this.useDepths=!0)},classifySexpr:function(a){var b=n["default"].helpers.simpleId(a.path),e=b&&!!this.blockParamIndex(a.path.parts[0]),c=!e&&n["default"].helpers.helperExpression(a);(b=
!e&&(c||b))&&!c&&(e=this.options,e.knownHelpers[a.path.parts[0]]?c=!0:e.knownHelpersOnly&&(b=!1));return c?"helper":b?"ambiguous":"simple"},pushParams:function(a){for(var b=0,e=a.length;b<e;b++)this.pushParam(a[b])},pushParam:function(a){var b=null!=a.value?a.value:a.original||"";if(this.stringParams)b.replace&&(b=b.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),a.depth&&this.addDepth(a.depth),this.opcode("getContext",a.depth||0),this.opcode("pushStringParam",b,a.type),"SubExpression"===a.type&&this.accept(a);
else{if(this.trackIds){var e=void 0;(!a.parts||n["default"].helpers.scopedId(a)||a.depth||(e=this.blockParamIndex(a.parts[0])),e)?(b=a.parts.slice(1).join("."),this.opcode("pushId","BlockParam",e,b)):(b=a.original||b,b.replace&&(b=b.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",a.type,b))}this.accept(a)}},setupFullMustacheParams:function(a,b,e,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",e),a.hash?this.accept(a.hash):
this.opcode("emptyHash",c),d},blockParamIndex:function(a){for(var b=0,e=this.options.blockParams.length;b<e;b++){var c=this.options.blockParams[b],d=c&&m.indexOf(c,a);if(c&&0<=d)return[b,d]}}}},function(b,d,c){function k(a){this.value=a}function l(){}function a(a,b,e,c){var d=b.popStack(),f=0,h=e.length;for(a&&h--;f<h;f++)d=b.nameLookup(d,e[f],c);return a?[b.aliasable("container.strict"),"(",d,", ",b.quotedString(e[f]),")"]:d}var e=c(1)["default"];d.__esModule=!0;var m=c(4),n=c(6),f=e(n),h=c(5);c=
c(43);var q=e(c);l.prototype={nameLookup:function(a,b){return l.isValidJavaScriptVariableName(b)?[a,".",b]:[a,"[",JSON.stringify(b),"]"]},depthedLookup:function(a){return[this.aliasable("container.lookup"),'(depths, "',a,'")']},compilerInfo:function(){var a=m.COMPILER_REVISION;return[a,m.REVISION_CHANGES[a]]},appendToBuffer:function(a,b,e){return h.isArray(a)||(a=[a]),a=this.source.wrap(a,b),this.environment.isSimple?["return ",a,";"]:e?["buffer +\x3d ",a,";"]:(a.appendToBuffer=!0,a)},initializeBuffer:function(){return this.quotedString("")},
compile:function(a,b,e,c){this.environment=a;this.options=b;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!c;this.name=this.environment.name;this.isChild=!!e;this.context=e||{decorators:[],programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(a,b);this.useDepths=this.useDepths||a.useDepths||
a.useDecorators||this.options.compat;this.useBlockParams=this.useBlockParams||a.useBlockParams;var d=a.opcodes,h=void 0,m=void 0;e=a=void 0;a=0;for(e=d.length;a<e;a++)h=d[a],this.source.currentLocation=h.loc,m=m||h.loc,this[h.opcode].apply(this,h.args);if(this.source.currentLocation=m,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new f["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=
!0,this.decorators.prepend("var decorators \x3d container.decorators;\n"),this.decorators.push("return fn;"),c?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));a=this.createFunctionContext(c);if(this.isChild)return a;d={compiler:this.compilerInfo(),main:a};
this.decorators&&(d.main_d=this.decorators,d.useDecorators=!0);a=this.context;h=a.programs;m=a.decorators;a=0;for(e=h.length;a<e;a++)h[a]&&(d[a]=h[a],m[a]&&(d[a+"_d"]=m[a],d.useDecorators=!0));return this.environment.usePartial&&(d.usePartial=!0),this.options.data&&(d.useData=!0),this.useDepths&&(d.useDepths=!0),this.useBlockParams&&(d.useBlockParams=!0),this.options.compat&&(d.compat=!0),c?d.compilerOptions=this.options:(d.compiler=JSON.stringify(d.compiler),this.source.currentLocation={start:{line:1,
column:0}},d=this.objectLiteral(d),b.srcName?(d=d.toStringWithSourceMap({file:b.destName}),d.map=d.map&&d.map.toString()):d=d.toString()),d},preamble:function(){this.lastContext=0;this.source=new q["default"](this.options.srcName);this.decorators=new q["default"](this.options.srcName)},createFunctionContext:function(a){var b="",e=this.stackVars.concat(this.registers.list);0<e.length&&(b+=", "+e.join(", "));var e=0,c;for(c in this.aliases){var d=this.aliases[c];this.aliases.hasOwnProperty(c)&&d.children&&
1<d.referenceCount&&(b+=", alias"+ ++e+"\x3d"+c,d.children[0]="alias"+e)}c=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&c.push("blockParams");this.useDepths&&c.push("depths");b=this.mergeSource(b);return a?(c.push(b),Function.apply(this,c)):this.source.wrap(["function(",c.join(","),") {\n  ",b,"}"])},mergeSource:function(a){var b=this.environment.isSimple,e=!this.forceBuffer,c=void 0,d=void 0,f=void 0,h=void 0;return this.source.each(function(a){a.appendToBuffer?
(f?a.prepend("  + "):f=a,h=a):(f&&(d?f.prepend("buffer +\x3d "):c=!0,h.add(";"),f=h=void 0),d=!0,b||(e=!1))}),e?f?(f.prepend("return "),h.add(";")):d||this.source.push('return "";'):(a+=", buffer \x3d "+(c?"":this.initializeBuffer()),f?(f.prepend("return buffer + "),h.add(";")):this.source.push("return buffer;")),a&&this.source.prepend("var "+a.substring(2)+(c?"":";\n")),this.source.merge()},blockValue:function(a){var b=this.aliasable("helpers.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs(a,
0,e);a=this.popStack();e.splice(1,0,a);this.push(this.source.functionCall(b,"call",e))},ambiguousBlockValue:function(){var a=this.aliasable("helpers.blockHelperMissing"),b=[this.contextName(0)];this.setupHelperArgs("",0,b,!0);this.flushInline();var e=this.topStack();b.splice(1,0,e);this.pushSource(["if (!",this.lastHelper,") { ",e," \x3d ",this.source.functionCall(a,"call",b),"}"])},appendContent:function(a){this.pendingContent?a=this.pendingContent+a:this.pendingLocation=this.source.currentLocation;
this.pendingContent=a},append:function(){if(this.isInline())this.replaceStack(function(a){return[" !\x3d null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var a=this.popStack();this.pushSource(["if (",a," !\x3d null) { ",this.appendToBuffer(a,void 0,!0)," }"]);this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",
this.popStack(),")"]))},getContext:function(a){this.lastContext=a},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(a,b,e,c){var d=0;c||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(a[d++]));this.resolvePath("context",a,d,b,e)},lookupBlockParam:function(a,b){this.useBlockParams=!0;this.push(["blockParams[",a[0],"][",a[1],"]"]);this.resolvePath("context",b,1)},lookupData:function(a,b,e){a?this.pushStackLiteral("container.data(data, "+
a+")"):this.pushStackLiteral("data");this.resolvePath("data",b,0,!0,e)},resolvePath:function(b,e,c,d,f){var h=this;if(this.options.strict||this.options.assumeObjects)return void this.push(a(this.options.strict&&f,this,e,b));for(f=e.length;c<f;c++)this.replaceStack(function(a){var f=h.nameLookup(a,e[c],b);return d?[" \x26\x26 ",f]:[" !\x3d null ? ",f," : ",a]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(a,
b){this.pushContext();this.pushString(b);"SubExpression"!==b&&("string"==typeof a?this.pushString(a):this.pushStackLiteral(a))},emptyHash:function(a){this.trackIds&&this.push("{}");this.stringParams&&(this.push("{}"),this.push("{}"));this.pushStackLiteral(a?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash);this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var a=this.hash;this.hash=this.hashes.pop();this.trackIds&&this.push(this.objectLiteral(a.ids));
this.stringParams&&(this.push(this.objectLiteral(a.contexts)),this.push(this.objectLiteral(a.types)));this.push(this.objectLiteral(a.values))},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},registerDecorator:function(a,b){var e=this.nameLookup("decorators",b,"decorator"),c=this.setupHelperArgs(b,a);this.decorators.push(["fn \x3d ",
this.decorators.functionCall(e,"",["fn","props","container",c])," || fn;"])},invokeHelper:function(a,b,e){var c=this.popStack();a=this.setupHelper(a,b);e=["("].concat(e?[a.name," || "]:"",c);this.options.strict||e.push(" || ",this.aliasable("helpers.helperMissing"));e.push(")");this.push(this.source.functionCall(e,"call",a.callParams))},invokeKnownHelper:function(a,b){var e=this.setupHelper(a,b);this.push(this.source.functionCall(e.name,"call",e.callParams))},invokeAmbiguous:function(a,b){this.useRegister("helper");
var e=this.popStack();this.emptyHash();var c=this.setupHelper(0,a,b),e=["(","(helper \x3d ",this.lastHelper=this.nameLookup("helpers",a,"helper")," || ",e,")"];this.options.strict||(e[0]="(helper \x3d ",e.push(" !\x3d null ? helper : ",this.aliasable("helpers.helperMissing")));this.push(["(",e,c.paramsInit?["),(",c.paramsInit]:[],"),","(typeof helper \x3d\x3d\x3d ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",c.callParams)," : helper))"])},invokePartial:function(a,b,
e){var c=[],d=this.setupParams(b,1,c);a&&(b=this.popStack(),delete d.name);e&&(d.indent=JSON.stringify(e));d.helpers="helpers";d.partials="partials";d.decorators="container.decorators";a?c.unshift(b):c.unshift(this.nameLookup("partials",b,"partial"));this.options.compat&&(d.depths="depths");d=this.objectLiteral(d);c.push(d);this.push(this.source.functionCall("container.invokePartial","",c))},assignToHash:function(a){var b=this.popStack(),e=void 0,c=void 0,d=void 0;this.trackIds&&(d=this.popStack());
this.stringParams&&(c=this.popStack(),e=this.popStack());var f=this.hash;e&&(f.contexts[a]=e);c&&(f.types[a]=c);d&&(f.ids[a]=d);f.values[a]=b},pushId:function(a,b,e){"BlockParam"===a?this.pushStackLiteral("blockParams["+b[0]+"].path["+b[1]+"]"+(e?" + "+JSON.stringify("."+e):"")):"PathExpression"===a?this.pushString(b):"SubExpression"===a?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:l,compileChildren:function(a,b){for(var e=a.children,c=void 0,d=void 0,f=0,h=e.length;f<h;f++){var c=
e[f],d=new this.compiler,m=this.matchExistingProgram(c);null==m?(this.context.programs.push(""),m=this.context.programs.length,c.index=m,c.name="program"+m,this.context.programs[m]=d.compile(c,b,this.context,!this.precompile),this.context.decorators[m]=d.decorators,this.context.environments[m]=c,this.useDepths=this.useDepths||d.useDepths,this.useBlockParams=this.useBlockParams||d.useBlockParams,c.useDepths=this.useDepths,c.useBlockParams=this.useBlockParams):(c.index=m.index,c.name="program"+m.index,
this.useDepths=this.useDepths||m.useDepths,this.useBlockParams=this.useBlockParams||m.useBlockParams)}},matchExistingProgram:function(a){for(var b=0,e=this.context.environments.length;b<e;b++){var c=this.context.environments[b];if(c&&c.equals(a))return c}},programExpression:function(a){a=this.environment.children[a];a=[a.index,"data",a.blockParams];return(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths"),"container.program("+a.join(", ")+")"},useRegister:function(a){this.registers[a]||
(this.registers[a]=!0,this.registers.list.push(a))},push:function(a){return a instanceof k||(a=this.source.wrap(a)),this.inlineStack.push(a),a},pushStackLiteral:function(a){this.push(new k(a))},pushSource:function(a){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0);a&&this.source.push(a)},replaceStack:function(a){var b=["("],e=void 0,c=void 0,d=void 0;if(!this.isInline())throw new f["default"]("replaceStack on non-inline");
b=this.popStack(!0);b instanceof k?(e=[b.value],b=["(",e],d=!0):(c=!0,e=this.incrStack(),b=["((",this.push(e)," \x3d ",b,")"],e=this.topStack());a=a.call(this,e);d||this.popStack();c&&this.stackSlot--;this.push(b.concat(a,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;this.inlineStack=[];for(var b=
0,e=a.length;b<e;b++){var c=a[b];if(c instanceof k)this.compileStack.push(c);else{var d=this.incrStack();this.pushSource([d," \x3d ",c,";"]);this.compileStack.push(d)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),e=(b?this.inlineStack:this.compileStack).pop();if(!a&&e instanceof k)return e.value;if(!b){if(!this.stackSlot)throw new f["default"]("Invalid stack pop");this.stackSlot--}return e},topStack:function(){var a=this.isInline()?this.inlineStack:
this.compileStack,a=a[a.length-1];return a instanceof k?a.value:a},contextName:function(a){return this.useDepths&&a?"depths["+a+"]":"depth"+a},quotedString:function(a){return this.source.quotedString(a)},objectLiteral:function(a){return this.source.objectLiteral(a)},aliasable:function(a){var b=this.aliases[a];return b?(b.referenceCount++,b):(b=this.aliases[a]=this.source.wrap(a),b.aliasable=!0,b.referenceCount=1,b)},setupHelper:function(a,b,e){var c=[];a=this.setupHelperArgs(b,a,c,e);b=this.nameLookup("helpers",
b,"helper");e=this.aliasable(this.contextName(0)+" !\x3d null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:c,paramsInit:a,name:b,callParams:[e].concat(c)}},setupParams:function(a,b,e){var c={},d=[],f=[],h=[],m=!e,n=void 0;m&&(e=[]);c.name=this.quotedString(a);c.hash=this.popStack();this.trackIds&&(c.hashIds=this.popStack());this.stringParams&&(c.hashTypes=this.popStack(),c.hashContexts=this.popStack());n=this.popStack();for(((a=this.popStack())||n)&&(c.fn=a||"container.noop",
c.inverse=n||"container.noop");b--;)n=this.popStack(),e[b]=n,this.trackIds&&(h[b]=this.popStack()),this.stringParams&&(f[b]=this.popStack(),d[b]=this.popStack());return m&&(c.args=this.source.generateArray(e)),this.trackIds&&(c.ids=this.source.generateArray(h)),this.stringParams&&(c.types=this.source.generateArray(f),c.contexts=this.source.generateArray(d)),this.options.data&&(c.data="data"),this.useBlockParams&&(c.blockParams="blockParams"),c},setupHelperArgs:function(a,b,e,c){a=this.setupParams(a,
b,e);return a=this.objectLiteral(a),c?(this.useRegister("options"),e.push("options"),["options\x3d",a]):e?(e.push(a),""):a}};(function(){for(var a="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),
b=l.RESERVED_WORDS={},e=0,c=a.length;e<c;e++)b[a[e]]=!0})();l.isValidJavaScriptVariableName=function(a){return!l.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(a)};d["default"]=l;b.exports=d["default"]},function(b,d,c){function k(b,e,c){if(a.isArray(b)){for(var d=[],l=0,k=b.length;l<k;l++)d.push(e.wrap(b[l],c));return d}return"boolean"==typeof b||"number"==typeof b?b+"":b}function l(a){this.srcFile=a;this.source=[]}d.__esModule=!0;var a=c(5),e=void 0,e=function(a,b,e,c){this.src="";c&&this.add(c)};
e.prototype={add:function(b){a.isArray(b)&&(b=b.join(""));this.src+=b},prepend:function(b){a.isArray(b)&&(b=b.join(""));this.src=b+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}};l.prototype={isEmpty:function(){return!this.source.length},prepend:function(a,b){this.source.unshift(this.wrap(a,b))},push:function(a,b){this.source.push(this.wrap(a,b))},merge:function(){var a=this.empty();return this.each(function(b){a.add(["  ",b,"\n"])}),
a},each:function(a){for(var b=0,e=this.source.length;b<e;b++)a(this.source[b])},empty:function(){var a=this.currentLocation||{start:{}};return new e(a.start.line,a.start.column,this.srcFile)},wrap:function(a){var b=1>=arguments.length||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return a instanceof e?a:(a=k(a,this,b),new e(b.start.line,b.start.column,this.srcFile,a))},functionCall:function(a,b,e){return e=this.generateList(e),this.wrap([a,b?"."+b+"(":"(",e,")"])},quotedString:function(a){return'"'+
(a+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(a){var b=[],e;for(e in a)if(a.hasOwnProperty(e)){var c=k(a[e],this);"undefined"!==c&&b.push([this.quotedString(e),":",c])}a=this.generateList(b);return a.prepend("{"),a.add("}"),a},generateList:function(a){for(var b=this.empty(),e=0,c=a.length;e<c;e++)e&&b.add(","),b.add(k(a[e],this));return b},generateArray:function(a){a=
this.generateList(a);return a.prepend("["),a.add("]"),a}};d["default"]=l;b.exports=d["default"]}])});"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);"undefined"!==typeof define&&"undefined"!==typeof define.amd&&(amdOriginal=define.amd,define.amd=null);window.io&&(window.previous_io=window.io);
!function(b){var d;"undefined"!=typeof window?d=window:"undefined"!=typeof global?d=global:"undefined"!=typeof self&&(d=self);d.io=b()}(function(){return function d(c,k,l){function a(m,f){if(!k[m]){if(!c[m]){var h="function"==typeof require&&require;if(!f&&h)return h(m,!0);if(e)return e(m,!0);throw Error("Cannot find module '"+m+"'");}h=k[m]={exports:{}};c[m][0].call(h.exports,function(e){var d=c[m][1][e];return a(d?d:e)},h,h.exports,d,c,k,l)}return k[m].exports}for(var e="function"==typeof require&&
require,m=0;m<l.length;m++)a(l[m]);return a}({1:[function(d,c,k){c.exports=d("./lib/")},{"./lib/":2}],2:[function(d,c,k){function l(e,c){"object"==typeof e&&(c=e,e=void 0);c=c||{};var d=a(e),l=d.source,k=d.id,y=d.path,y=f[k]&&f[k].nsps[y]&&y==f[k].nsps[y].nsp;c.forceNew||c["force new connection"]||!1===c.multiplex||y?(n("ignoring socket cache for %s",l),l=m(l,c)):(f[k]||(n("new io instance for %s",l),f[k]=m(l,c)),l=f[k]);return l.socket(d.path)}var a=d("./url"),e=d("socket.io-parser"),m=d("./manager"),
n=d("debug")("socket.io-client");c.exports=k=l;var f=k.managers={};k.protocol=e.protocol;k.connect=l;k.Manager=d("./manager");k.Socket=d("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:10,"socket.io-parser":44}],3:[function(d,c,k){function l(a,e){if(!(this instanceof l))return new l(a,e);a&&"object"==typeof a&&(e=a,a=void 0);e=e||{};e.path=e.path||"/socket.io";this.nsps={};this.subs=[];this.opts=e;this.reconnection(!1!==e.reconnection);this.reconnectionAttempts(e.reconnectionAttempts||Infinity);
this.reconnectionDelay(e.reconnectionDelay||1E3);this.reconnectionDelayMax(e.reconnectionDelayMax||5E3);this.randomizationFactor(e.randomizationFactor||.5);this.backoff=new s({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()});this.timeout(null==e.timeout?2E4:e.timeout);this.readyState="closed";this.uri=a;this.connected=[];this.encoding=!1;this.packetBuffer=[];this.encoder=new m.Encoder;this.decoder=new m.Decoder;(this.autoConnect=!1!==e.autoConnect)&&
this.open()}d("./url");var a=d("engine.io-client"),e=d("./socket");k=d("component-emitter");var m=d("socket.io-parser"),n=d("./on"),f=d("component-bind");d("object-component");var h=d("debug")("socket.io-client:manager"),q=d("indexof"),s=d("backo2");c.exports=l;l.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)this.nsps[a].emit.apply(this.nsps[a],arguments)};l.prototype.updateSocketIds=function(){for(var a in this.nsps)this.nsps[a].id=this.engine.id};k(l.prototype);
l.prototype.reconnection=function(a){if(!arguments.length)return this._reconnection;this._reconnection=!!a;return this};l.prototype.reconnectionAttempts=function(a){if(!arguments.length)return this._reconnectionAttempts;this._reconnectionAttempts=a;return this};l.prototype.reconnectionDelay=function(a){if(!arguments.length)return this._reconnectionDelay;this._reconnectionDelay=a;this.backoff&&this.backoff.setMin(a);return this};l.prototype.randomizationFactor=function(a){if(!arguments.length)return this._randomizationFactor;
this._randomizationFactor=a;this.backoff&&this.backoff.setJitter(a);return this};l.prototype.reconnectionDelayMax=function(a){if(!arguments.length)return this._reconnectionDelayMax;this._reconnectionDelayMax=a;this.backoff&&this.backoff.setMax(a);return this};l.prototype.timeout=function(a){if(!arguments.length)return this._timeout;this._timeout=a;return this};l.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()};l.prototype.open=
l.prototype.connect=function(e){h("readyState %s",this.readyState);if(~this.readyState.indexOf("open"))return this;h("opening %s",this.uri);var c=this.engine=a(this.uri,this.opts),d=this;this.readyState="opening";this.skipReconnect=!1;var f=n(c,"open",function(){d.onopen();e&&e()}),m=n(c,"error",function(a){h("connect_error");d.cleanup();d.readyState="closed";d.emitAll("connect_error",a);if(e){var c=Error("Connection error");c.data=a;e(c)}else d.maybeReconnectOnOpen()});if(!1!==this._timeout){var l=
this._timeout;h("connect attempt will timeout after %d",l);var k=setTimeout(function(){h("connect attempt timed out after %d",l);f.destroy();c.close();c.emit("error","timeout");d.emitAll("connect_timeout",l)},l);this.subs.push({destroy:function(){clearTimeout(k)}})}this.subs.push(f);this.subs.push(m);return this};l.prototype.onopen=function(){h("open");this.cleanup();this.readyState="open";this.emit("open");var a=this.engine;this.subs.push(n(a,"data",f(this,"ondata")));this.subs.push(n(this.decoder,
"decoded",f(this,"ondecoded")));this.subs.push(n(a,"error",f(this,"onerror")));this.subs.push(n(a,"close",f(this,"onclose")))};l.prototype.ondata=function(a){this.decoder.add(a)};l.prototype.ondecoded=function(a){this.emit("packet",a)};l.prototype.onerror=function(a){h("error",a);this.emitAll("error",a)};l.prototype.socket=function(a){var c=this.nsps[a];if(!c){c=new e(this,a);this.nsps[a]=c;var d=this;c.on("connect",function(){c.id=d.engine.id;~q(d.connected,c)||d.connected.push(c)})}return c};l.prototype.destroy=
function(a){a=q(this.connected,a);~a&&this.connected.splice(a,1);this.connected.length||this.close()};l.prototype.packet=function(a){h("writing packet %j",a);var e=this;e.encoding?e.packetBuffer.push(a):(e.encoding=!0,this.encoder.encode(a,function(a){for(var c=0;c<a.length;c++)e.engine.write(a[c]);e.encoding=!1;e.processPacketQueue()}))};l.prototype.processPacketQueue=function(){if(0<this.packetBuffer.length&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}};l.prototype.cleanup=function(){for(var a;a=
this.subs.shift();)a.destroy();this.packetBuffer=[];this.encoding=!1;this.decoder.destroy()};l.prototype.close=l.prototype.disconnect=function(){this.skipReconnect=!0;this.backoff.reset();this.readyState="closed";this.engine&&this.engine.close()};l.prototype.onclose=function(a){h("close");this.cleanup();this.backoff.reset();this.readyState="closed";this.emit("close",a);this._reconnection&&!this.skipReconnect&&this.reconnect()};l.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;
var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)h("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();h("will wait %dms before reconnect attempt",e);this.reconnecting=!0;var c=setTimeout(function(){a.skipReconnect||(h("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(e){e?(h("reconnect attempt error"),a.reconnecting=
!1,a.reconnect(),a.emitAll("reconnect_error",e.data)):(h("reconnect success"),a.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(c)}})}};l.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1;this.backoff.reset();this.updateSocketIds();this.emitAll("reconnect",a)}},{"./on":4,"./socket":5,"./url":6,backo2:7,"component-bind":8,"component-emitter":9,debug:10,"engine.io-client":11,indexof:40,"object-component":41,"socket.io-parser":44}],4:[function(d,
c,k){c.exports=function(c,a,e){c.on(a,e);return{destroy:function(){c.removeListener(a,e)}}}},{}],5:[function(d,c,k){function l(a,e){this.io=a;this.nsp=e;this.json=this;this.ids=0;this.acks={};this.io.autoConnect&&this.open();this.receiveBuffer=[];this.sendBuffer=[];this.connected=!1;this.disconnected=!0}var a=d("socket.io-parser");k=d("component-emitter");var e=d("to-array"),m=d("./on"),n=d("component-bind"),f=d("debug")("socket.io-client:socket"),h=d("has-binary");c.exports=l;var q={connect:1,connect_error:1,
connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},s=k.prototype.emit;k(l.prototype);l.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[m(a,"open",n(this,"onopen")),m(a,"packet",n(this,"onpacket")),m(a,"close",n(this,"onclose"))]}};l.prototype.open=l.prototype.connect=function(){if(this.connected)return this;this.subEvents();this.io.open();if("open"==this.io.readyState)this.onopen();return this};l.prototype.send=
function(){var a=e(arguments);a.unshift("message");this.emit.apply(this,a);return this};l.prototype.emit=function(c){if(q.hasOwnProperty(c))return s.apply(this,arguments),this;var d=e(arguments),m=a.EVENT;h(d)&&(m=a.BINARY_EVENT);m={type:m,data:d};"function"==typeof d[d.length-1]&&(f("emitting packet with ack id %d",this.ids),this.acks[this.ids]=d.pop(),m.id=this.ids++);this.connected?this.packet(m):this.sendBuffer.push(m);return this};l.prototype.packet=function(a){a.nsp=this.nsp;this.io.packet(a)};
l.prototype.onopen=function(){f("transport is open - connecting");"/"!=this.nsp&&this.packet({type:a.CONNECT})};l.prototype.onclose=function(a){f("close (%s)",a);this.connected=!1;this.disconnected=!0;delete this.id;this.emit("disconnect",a)};l.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case a.CONNECT:this.onconnect();break;case a.EVENT:this.onevent(e);break;case a.BINARY_EVENT:this.onevent(e);break;case a.ACK:this.onack(e);break;case a.BINARY_ACK:this.onack(e);break;case a.DISCONNECT:this.ondisconnect();
break;case a.ERROR:this.emit("error",e.data)}};l.prototype.onevent=function(a){var e=a.data||[];f("emitting event %j",e);null!=a.id&&(f("attaching ack callback to event"),e.push(this.ack(a.id)));this.connected?s.apply(this,e):this.receiveBuffer.push(e)};l.prototype.ack=function(c){var d=this,m=!1;return function(){if(!m){m=!0;var n=e(arguments);f("sending ack %j",n);var l=h(n)?a.BINARY_ACK:a.ACK;d.packet({type:l,id:c,data:n})}}};l.prototype.onack=function(a){f("calling ack %s with %j",a.id,a.data);
this.acks[a.id].apply(this,a.data);delete this.acks[a.id]};l.prototype.onconnect=function(){this.connected=!0;this.disconnected=!1;this.emit("connect");this.emitBuffered()};l.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)s.apply(this,this.receiveBuffer[a]);this.receiveBuffer=[];for(a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]};l.prototype.ondisconnect=function(){f("server disconnect (%s)",this.nsp);this.destroy();this.onclose("io server disconnect")};
l.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)};l.prototype.close=l.prototype.disconnect=function(){this.connected&&(f("performing disconnect (%s)",this.nsp),this.packet({type:a.DISCONNECT}));this.destroy();if(this.connected)this.onclose("io client disconnect");return this}},{"./on":4,"component-bind":8,"component-emitter":9,debug:10,"has-binary":36,"socket.io-parser":44,"to-array":48}],6:[function(d,c,k){(function(l){var a=
d("parseuri"),e=d("debug")("socket.io-client:url");c.exports=function(c,d){var f=c;d=d||l.location;null==c&&(c=d.protocol+"//"+d.host);"string"==typeof c&&("/"==c.charAt(0)&&(c="/"==c.charAt(1)?d.protocol+c:d.hostname+c),/^(https?|wss?):\/\//.test(c)||(e("protocol-less url %s",c),c="undefined"!=typeof d?d.protocol+"//"+c:"https://"+c),e("parse %s",c),f=a(c));f.port||(/^(http|ws)$/.test(f.protocol)?f.port="80":/^(http|ws)s$/.test(f.protocol)&&(f.port="443"));f.path=f.path||"/";f.id=f.protocol+"://"+
f.host+":"+f.port;f.href=f.protocol+"://"+f.host+(d&&d.port==f.port?"":":"+f.port);return f}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{debug:10,parseuri:42}],7:[function(d,c,k){function l(a){a=a||{};this.ms=a.min||100;this.max=a.max||1E4;this.factor=a.factor||2;this.jitter=0<a.jitter&&1>=a.jitter?a.jitter:0;this.attempts=0}c.exports=l;l.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter)var e=Math.random(),c=Math.floor(e*
this.jitter*a),a=0==(Math.floor(10*e)&1)?a-c:a+c;return Math.min(a,this.max)|0};l.prototype.reset=function(){this.attempts=0};l.prototype.setMin=function(a){this.ms=a};l.prototype.setMax=function(a){this.max=a};l.prototype.setJitter=function(a){this.jitter=a}},{}],8:[function(d,c,k){var l=[].slice;c.exports=function(a,e){"string"==typeof e&&(e=a[e]);if("function"!=typeof e)throw Error("bind() requires a function");var c=l.call(arguments,2);return function(){return e.apply(a,c.concat(l.call(arguments)))}}},
{}],9:[function(d,c,k){function l(a){if(a){for(var e in l.prototype)a[e]=l.prototype[e];return a}}c.exports=l;l.prototype.on=l.prototype.addEventListener=function(a,e){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(e);return this};l.prototype.once=function(a,e){function c(){d.off(a,c);e.apply(this,arguments)}var d=this;this._callbacks=this._callbacks||{};c.fn=e;this.on(a,c);return this};l.prototype.off=l.prototype.removeListener=l.prototype.removeAllListeners=
l.prototype.removeEventListener=function(a,e){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,f=0;f<c.length;f++)if(d=c[f],d===e||d.fn===e){c.splice(f,1);break}return this};l.prototype.emit=function(a){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),c=this._callbacks[a];if(c)for(var c=c.slice(0),d=0,f=c.length;d<f;++d)c[d].apply(this,
e);return this};l.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};l.prototype.hasListeners=function(a){return!!this.listeners(a).length}},{}],10:[function(d,c,k){function l(a){return l.enabled(a)?function(c){c instanceof Error&&(c=c.stack||c.message);var d=new Date,f=d-(l[a]||d);l[a]=d;c=a+" "+c+" +"+l.humanize(f);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}c.exports=l;l.names=[];l.skips=
[];l.enable=function(a){try{localStorage.debug=a}catch(c){}for(var d=(a||"").split(/[\s,]+/),f=d.length,h=0;h<f;h++)a=d[h].replace("*",".*?"),"-"===a[0]?l.skips.push(new RegExp("^"+a.substr(1)+"$")):l.names.push(new RegExp("^"+a+"$"))};l.disable=function(){l.enable("")};l.humanize=function(a){return 36E5<=a?(a/36E5).toFixed(1)+"h":6E4<=a?(a/6E4).toFixed(1)+"m":1E3<=a?(a/1E3|0)+"s":a+"ms"};l.enabled=function(a){for(var c=0,d=l.skips.length;c<d;c++)if(l.skips[c].test(a))return!1;c=0;for(d=l.names.length;c<
d;c++)if(l.names[c].test(a))return!0;return!1};try{window.localStorage&&l.enable(localStorage.debug)}catch(a){}},{}],11:[function(d,c,k){c.exports=d("./lib/")},{"./lib/":12}],12:[function(d,c,k){c.exports=d("./socket");c.exports.parser=d("engine.io-parser")},{"./socket":13,"engine.io-parser":25}],13:[function(d,c,k){(function(l){function a(e,c){if(!(this instanceof a))return new a(e,c);c=c||{};e&&"object"==typeof e&&(c=e,e=null);e&&(e=k(e),c.host=e.host,c.secure="https"==e.protocol||"wss"==e.protocol,
c.port=e.port,e.query&&(c.query=e.query));this.secure=null!=c.secure?c.secure:l.location&&"https:"==location.protocol;if(c.host){var d=c.host.split(":");c.hostname=d.shift();d.length?c.port=d.pop():c.port||(c.port=this.secure?"443":"80")}this.agent=c.agent||!1;this.hostname=c.hostname||(l.location?location.hostname:"localhost");this.port=c.port||(l.location&&location.port?location.port:this.secure?443:80);this.query=c.query||{};"string"==typeof this.query&&(this.query=r.decode(this.query));this.upgrade=
!1!==c.upgrade;this.path=(c.path||"/engine.io").replace(/\/$/,"")+"/";this.forceJSONP=!!c.forceJSONP;this.jsonp=!1!==c.jsonp;this.forceBase64=!!c.forceBase64;this.enablesXDR=!!c.enablesXDR;this.timestampParam=c.timestampParam||"t";this.timestampRequests=c.timestampRequests;this.transports=c.transports||["polling","websocket"];this.readyState="";this.writeBuffer=[];this.callbackBuffer=[];this.policyPort=c.policyPort||843;this.rememberUpgrade=c.rememberUpgrade||!1;this.binaryType=null;this.onlyBinaryUpgrades=
c.onlyBinaryUpgrades;this.pfx=c.pfx||null;this.key=c.key||null;this.passphrase=c.passphrase||null;this.cert=c.cert||null;this.ca=c.ca||null;this.ciphers=c.ciphers||null;this.rejectUnauthorized=c.rejectUnauthorized||null;this.open()}var e=d("./transports"),m=d("component-emitter"),n=d("debug")("engine.io-client:socket"),f=d("indexof"),h=d("engine.io-parser"),k=d("parseuri"),s=d("parsejson"),r=d("parseqs");c.exports=a;a.priorWebsocketSuccess=!1;m(a.prototype);a.protocol=h.protocol;a.Socket=a;a.Transport=
d("./transport");a.transports=d("./transports");a.parser=d("engine.io-parser");a.prototype.createTransport=function(a){n('creating transport "%s"',a);var c=this.query,d={},f;for(f in c)c.hasOwnProperty(f)&&(d[f]=c[f]);d.EIO=h.protocol;d.transport=a;this.id&&(d.sid=this.id);return new e[a]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:d,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,
timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized})};a.prototype.open=function(){var c;if(this.rememberUpgrade&&a.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))c="websocket";else{if(0==this.transports.length){var e=this;setTimeout(function(){e.emit("error","No transports available")},0);return}c=this.transports[0]}this.readyState=
"opening";try{c=this.createTransport(c)}catch(d){this.transports.shift();this.open();return}c.open();this.setTransport(c)};a.prototype.setTransport=function(a){n("setting transport %s",a.name);var c=this;this.transport&&(n("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners());this.transport=a;a.on("drain",function(){c.onDrain()}).on("packet",function(a){c.onPacket(a)}).on("error",function(a){c.onError(a)}).on("close",function(){c.onClose("transport close")})};
a.prototype.probe=function(c){function e(){if(r.onlyBinaryUpgrades){var d=!this.supportsBinary&&r.transport.supportsBinary;q=q||d}q||(n('probe transport "%s" opened',c),k.send([{type:"ping",data:"probe"}]),k.once("packet",function(e){q||("pong"==e.type&&"probe"==e.data?(n('probe transport "%s" pong',c),r.upgrading=!0,r.emit("upgrading",k),k&&(a.priorWebsocketSuccess="websocket"==k.name,n('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){q||"closed"==r.readyState||(n("changing transport and sending upgrade packet"),
l(),r.setTransport(k),k.send([{type:"upgrade"}]),r.emit("upgrade",k),k=null,r.upgrading=!1,r.flush())}))):(n('probe transport "%s" failed',c),e=Error("probe error"),e.transport=k.name,r.emit("upgradeError",e)))}))}function d(){q||(q=!0,l(),k.close(),k=null)}function f(a){var e=Error("probe error: "+a);e.transport=k.name;d();n('probe transport "%s" failed because of error: %s',c,a);r.emit("upgradeError",e)}function h(){f("transport closed")}function m(){f("socket closed")}function t(a){k&&a.name!=
k.name&&(n('"%s" works - aborting "%s"',a.name,k.name),d())}function l(){k.removeListener("open",e);k.removeListener("error",f);k.removeListener("close",h);r.removeListener("close",m);r.removeListener("upgrading",t)}n('probing transport "%s"',c);var k=this.createTransport(c,{probe:1}),q=!1,r=this;a.priorWebsocketSuccess=!1;k.once("open",e);k.once("error",f);k.once("close",h);this.once("close",m);this.once("upgrading",t);k.open()};a.prototype.onOpen=function(){n("socket open");this.readyState="open";
a.priorWebsocketSuccess="websocket"==this.transport.name;this.emit("open");this.flush();if("open"==this.readyState&&this.upgrade&&this.transport.pause){n("starting upgrade probes");for(var c=0,e=this.upgrades.length;c<e;c++)this.probe(this.upgrades[c])}};a.prototype.onPacket=function(a){if("opening"==this.readyState||"open"==this.readyState)switch(n('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case "open":this.onHandshake(s(a.data));break;
case "pong":this.setPing();break;case "error":var c=Error("server error");c.code=a.data;this.emit("error",c);break;case "message":this.emit("data",a.data),this.emit("message",a.data)}else n('packet received with socket readyState "%s"',this.readyState)};a.prototype.onHandshake=function(a){this.emit("handshake",a);this.id=a.sid;this.transport.query.sid=a.sid;this.upgrades=this.filterUpgrades(a.upgrades);this.pingInterval=a.pingInterval;this.pingTimeout=a.pingTimeout;this.onOpen();"closed"!=this.readyState&&
(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};a.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var c=this;c.pingTimeoutTimer=setTimeout(function(){if("closed"!=c.readyState)c.onClose("ping timeout")},a||c.pingInterval+c.pingTimeout)};a.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer);a.pingIntervalTimer=setTimeout(function(){n("writing ping packet - expecting pong within %sms",a.pingTimeout);
a.ping();a.onHeartbeat(a.pingTimeout)},a.pingInterval)};a.prototype.ping=function(){this.sendPacket("ping")};a.prototype.onDrain=function(){for(var a=0;a<this.prevBufferLen;a++)if(this.callbackBuffer[a])this.callbackBuffer[a]();this.writeBuffer.splice(0,this.prevBufferLen);this.callbackBuffer.splice(0,this.prevBufferLen);this.prevBufferLen=0;0==this.writeBuffer.length?this.emit("drain"):this.flush()};a.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&
this.writeBuffer.length&&(n("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};a.prototype.write=a.prototype.send=function(a,c){this.sendPacket("message",a,c);return this};a.prototype.sendPacket=function(a,c,e){"closing"!=this.readyState&&"closed"!=this.readyState&&(a={type:a,data:c},this.emit("packetCreate",a),this.writeBuffer.push(a),this.callbackBuffer.push(e),this.flush())};a.prototype.close=
function(){if("opening"==this.readyState||"open"==this.readyState){var a=function(){d.once("upgrade",c);d.once("upgradeError",c)},c=function(){d.removeListener("upgrade",c);d.removeListener("upgradeError",c);e()},e=function(){d.onClose("forced close");n("socket closing - telling transport to close");d.transport.close()};this.readyState="closing";var d=this;if(this.writeBuffer.length)this.once("drain",function(){this.upgrading?a():e()});else this.upgrading?a():e()}return this};a.prototype.onError=
function(c){n("socket error %j",c);a.priorWebsocketSuccess=!1;this.emit("error",c);this.onClose("transport error",c)};a.prototype.onClose=function(a,c){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){n('socket close with reason: "%s"',a);var e=this;clearTimeout(this.pingIntervalTimer);clearTimeout(this.pingTimeoutTimer);setTimeout(function(){e.writeBuffer=[];e.callbackBuffer=[];e.prevBufferLen=0},0);this.transport.removeAllListeners("close");this.transport.close();
this.transport.removeAllListeners();this.readyState="closed";this.id=null;this.emit("close",a,c)}};a.prototype.filterUpgrades=function(a){for(var c=[],e=0,d=a.length;e<d;e++)~f(this.transports,a[e])&&c.push(a[e]);return c}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./transport":14,"./transports":15,"component-emitter":9,debug:22,"engine.io-parser":25,indexof:40,parsejson:32,parseqs:33,parseuri:34}],14:[function(d,c,k){function l(a){this.path=a.path;this.hostname=
a.hostname;this.port=a.port;this.secure=a.secure;this.query=a.query;this.timestampParam=a.timestampParam;this.timestampRequests=a.timestampRequests;this.readyState="";this.agent=a.agent||!1;this.socket=a.socket;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized}var a=d("engine.io-parser");d=d("component-emitter");c.exports=l;d(l.prototype);l.timestamps=0;l.prototype.onError=
function(a,c){var d=Error(a);d.type="TransportError";d.description=c;this.emit("error",d);return this};l.prototype.open=function(){if("closed"==this.readyState||""==this.readyState)this.readyState="opening",this.doOpen();return this};l.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState)this.doClose(),this.onClose();return this};l.prototype.send=function(a){if("open"==this.readyState)this.write(a);else throw Error("Transport not open");};l.prototype.onOpen=function(){this.readyState=
"open";this.writable=!0;this.emit("open")};l.prototype.onData=function(c){c=a.decodePacket(c,this.socket.binaryType);this.onPacket(c)};l.prototype.onPacket=function(a){this.emit("packet",a)};l.prototype.onClose=function(){this.readyState="closed";this.emit("close")}},{"component-emitter":9,"engine.io-parser":25}],15:[function(d,c,k){(function(c){var a=d("xmlhttprequest"),e=d("./polling-xhr"),m=d("./polling-jsonp"),n=d("./websocket");k.polling=function(d){var h=!1,n=!1,k=!1!==d.jsonp;c.location&&(n=
"https:"==location.protocol,(h=location.port)||(h=n?443:80),h=d.hostname!=location.hostname||h!=d.port,n=d.secure!=n);d.xdomain=h;d.xscheme=n;if("open"in new a(d)&&!d.forceJSONP)return new e(d);if(!k)throw Error("JSONP disabled");return new m(d)};k.websocket=n}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(d,c,k){(function(l){function a(){}function e(c){m.call(this,c);this.query=
this.query||{};k||(l.___eio||(l.___eio=[]),k=l.___eio);this.index=k.length;var e=this;k.push(function(a){e.onData(a)});this.query.j=this.index;l.document&&l.addEventListener&&l.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=a)},!1)}var m=d("./polling"),n=d("component-inherit");c.exports=e;var f=/\n/g,h=/\\n/g,k;n(e,m);e.prototype.supportsBinary=!1;e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);this.form&&(this.form.parentNode.removeChild(this.form),
this.iframe=this.form=null);m.prototype.doClose.call(this)};e.prototype.doPoll=function(){var a=this,c=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null);c.async=!0;c.src=this.uri();c.onerror=function(c){a.onError("jsonp poll error",c)};var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(c,e);this.script=c;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var a=document.createElement("iframe");
document.body.appendChild(a);document.body.removeChild(a)},100)};e.prototype.doWrite=function(a,c){function e(){d();c()}function d(){if(m.iframe)try{m.form.removeChild(m.iframe)}catch(a){m.onError("jsonp polling iframe removal error",a)}try{t=document.createElement('\x3ciframe src\x3d"javascript:0" name\x3d"'+m.iframeId+'"\x3e')}catch(c){t=document.createElement("iframe"),t.name=m.iframeId,t.src="javascript:0"}t.id=m.iframeId;m.form.appendChild(t);m.iframe=t}var m=this;if(!this.form){var n=document.createElement("form"),
l=document.createElement("textarea"),k=this.iframeId="eio_iframe_"+this.index,t;n.className="socketio";n.style.position="absolute";n.style.top="-1000px";n.style.left="-1000px";n.target=k;n.method="POST";n.setAttribute("accept-charset","utf-8");l.name="d";n.appendChild(l);document.body.appendChild(n);this.form=n;this.area=l}this.form.action=this.uri();d();a=a.replace(h,"\\\n");this.area.value=a.replace(f,"\\n");try{this.form.submit()}catch(q){}this.iframe.attachEvent?this.iframe.onreadystatechange=
function(){"complete"==m.iframe.readyState&&e()}:this.iframe.onload=e}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./polling":18,"component-inherit":21}],17:[function(d,c,k){(function(l){function a(){}function e(a){h.call(this,a);if(l.location){var c="https:"==location.protocol,e=location.port;e||(e=c?443:80);this.xd=a.hostname!=l.location.hostname||e!=a.port;this.xs=a.secure!=c}}function m(a){this.method=a.method||"GET";this.uri=a.uri;this.xd=!!a.xd;this.xs=
!!a.xs;this.async=!1!==a.async;this.data=void 0!=a.data?a.data:null;this.agent=a.agent;this.isBinary=a.isBinary;this.supportsBinary=a.supportsBinary;this.enablesXDR=a.enablesXDR;this.pfx=a.pfx;this.key=a.key;this.passphrase=a.passphrase;this.cert=a.cert;this.ca=a.ca;this.ciphers=a.ciphers;this.rejectUnauthorized=a.rejectUnauthorized;this.create()}function n(){for(var a in m.requests)m.requests.hasOwnProperty(a)&&m.requests[a].abort()}var f=d("xmlhttprequest"),h=d("./polling"),k=d("component-emitter"),
s=d("component-inherit"),r=d("debug")("engine.io-client:polling-xhr");c.exports=e;c.exports.Request=m;s(e,h);e.prototype.supportsBinary=!0;e.prototype.request=function(a){a=a||{};a.uri=this.uri();a.xd=this.xd;a.xs=this.xs;a.agent=this.agent||!1;a.supportsBinary=this.supportsBinary;a.enablesXDR=this.enablesXDR;a.pfx=this.pfx;a.key=this.key;a.passphrase=this.passphrase;a.cert=this.cert;a.ca=this.ca;a.ciphers=this.ciphers;a.rejectUnauthorized=this.rejectUnauthorized;return new m(a)};e.prototype.doWrite=
function(a,c){var e=this.request({method:"POST",data:a,isBinary:"string"!==typeof a&&void 0!==a}),d=this;e.on("success",c);e.on("error",function(a){d.onError("xhr post error",a)});this.sendXhr=e};e.prototype.doPoll=function(){r("xhr poll");var a=this.request(),c=this;a.on("data",function(a){c.onData(a)});a.on("error",function(a){c.onError("xhr poll error",a)});this.pollXhr=a};k(m.prototype);m.prototype.create=function(){var a={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};
a.pfx=this.pfx;a.key=this.key;a.passphrase=this.passphrase;a.cert=this.cert;a.ca=this.ca;a.ciphers=this.ciphers;a.rejectUnauthorized=this.rejectUnauthorized;var c=this.xhr=new f(a),e=this;try{r("xhr open %s: %s",this.method,this.uri);c.open(this.method,this.uri,this.async);this.supportsBinary&&(c.responseType="arraybuffer");if("POST"==this.method)try{this.isBinary?c.setRequestHeader("Content-type","application/octet-stream"):c.setRequestHeader("Content-type","text/plain;charset\x3dUTF-8")}catch(d){}"withCredentials"in
c&&(c.withCredentials=!0);this.hasXDR()?(c.onload=function(){e.onLoad()},c.onerror=function(){e.onError(c.responseText)}):c.onreadystatechange=function(){if(4==c.readyState)if(200==c.status||1223==c.status)e.onLoad();else setTimeout(function(){e.onError(c.status)},0)};r("xhr data %s",this.data);c.send(this.data)}catch(h){setTimeout(function(){e.onError(h)},0);return}l.document&&(this.index=m.requestsCount++,m.requests[this.index]=this)};m.prototype.onSuccess=function(){this.emit("success");this.cleanup()};
m.prototype.onData=function(a){this.emit("data",a);this.onSuccess()};m.prototype.onError=function(a){this.emit("error",a);this.cleanup(!0)};m.prototype.cleanup=function(c){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.hasXDR()?this.xhr.onload=this.xhr.onerror=a:this.xhr.onreadystatechange=a;if(c)try{this.xhr.abort()}catch(e){}l.document&&delete m.requests[this.index];this.xhr=null}};m.prototype.onLoad=function(){var a;try{var c;try{c=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}a=
"application/octet-stream"===c?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(d){this.onError(d)}if(null!=a)this.onData(a)};m.prototype.hasXDR=function(){return"undefined"!==typeof l.XDomainRequest&&!this.xs&&this.enablesXDR};m.prototype.abort=function(){this.cleanup()};l.document&&(m.requestsCount=0,m.requests={},l.attachEvent?l.attachEvent("onunload",n):l.addEventListener&&l.addEventListener("beforeunload",n,!1))}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{"./polling":18,"component-emitter":9,"component-inherit":21,debug:22,xmlhttprequest:20}],18:[function(d,c,k){function l(c){var e=c&&c.forceBase64;if(!f||e)this.supportsBinary=!1;a.call(this,c)}var a=d("../transport"),e=d("parseqs"),m=d("engine.io-parser");k=d("component-inherit");var n=d("debug")("engine.io-client:polling");c.exports=l;var f=null!=(new (d("xmlhttprequest"))({xdomain:!1})).responseType;k(l,a);l.prototype.name="polling";l.prototype.doOpen=function(){this.poll()};l.prototype.pause=
function(a){function c(){n("paused");e.readyState="paused";a()}var e=this;this.readyState="pausing";if(this.polling||!this.writable){var d=0;this.polling&&(n("we are currently polling - waiting to pause"),d++,this.once("pollComplete",function(){n("pre-pause polling complete");--d||c()}));this.writable||(n("we are currently writing - waiting to pause"),d++,this.once("drain",function(){n("pre-pause writing complete");--d||c()}))}else c()};l.prototype.poll=function(){n("polling");this.polling=!0;this.doPoll();
this.emit("poll")};l.prototype.onData=function(a){var c=this;n("polling got data %s",a);m.decodePayload(a,this.socket.binaryType,function(a,e,d){if("opening"==c.readyState)c.onOpen();if("close"==a.type)return c.onClose(),!1;c.onPacket(a)});"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():n('ignoring poll - transport state "%s"',this.readyState))};l.prototype.doClose=function(){function a(){n("writing close packet");c.write([{type:"close"}])}
var c=this;"open"==this.readyState?(n("transport open - closing"),a()):(n("transport not open - deferring close"),this.once("open",a))};l.prototype.write=function(a){var c=this;this.writable=!1;var e=function(){c.writable=!0;c.emit("drain")},c=this;m.encodePayload(a,this.supportsBinary,function(a){c.doWrite(a,e)})};l.prototype.uri=function(){var c=this.query||{},d=this.secure?"https":"http",f="";!1!==this.timestampRequests&&(c[this.timestampParam]=+new Date+"-"+a.timestamps++);this.supportsBinary||
c.sid||(c.b64=1);c=e.encode(c);this.port&&("https"==d&&443!=this.port||"http"==d&&80!=this.port)&&(f=":"+this.port);c.length&&(c="?"+c);return d+"://"+this.hostname+f+this.path+c}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,xmlhttprequest:20}],19:[function(d,c,k){function l(c){c&&c.forceBase64&&(this.supportsBinary=!1);a.call(this,c)}var a=d("../transport"),e=d("engine.io-parser"),m=d("parseqs");k=d("component-inherit");var n=d("debug")("engine.io-client:websocket"),
f=d("ws");c.exports=l;k(l,a);l.prototype.name="websocket";l.prototype.supportsBinary=!0;l.prototype.doOpen=function(){if(this.check()){var a=this.uri(),c={agent:this.agent};c.pfx=this.pfx;c.key=this.key;c.passphrase=this.passphrase;c.cert=this.cert;c.ca=this.ca;c.ciphers=this.ciphers;c.rejectUnauthorized=this.rejectUnauthorized;this.ws=new f(a,void 0,c);void 0===this.ws.binaryType&&(this.supportsBinary=!1);this.ws.binaryType="arraybuffer";this.addEventListeners()}};l.prototype.addEventListeners=function(){var a=
this;this.ws.onopen=function(){a.onOpen()};this.ws.onclose=function(){a.onClose()};this.ws.onmessage=function(c){a.onData(c.data)};this.ws.onerror=function(c){a.onError("websocket error",c)}};"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(l.prototype.onData=function(c){var e=this;setTimeout(function(){a.prototype.onData.call(e,c)},0)});l.prototype.write=function(a){var c=this;this.writable=!1;for(var d=0,f=a.length;d<f;d++)e.encodePacket(a[d],this.supportsBinary,function(a){try{c.ws.send(a)}catch(e){n("websocket closed before onclose event")}});
setTimeout(function(){c.writable=!0;c.emit("drain")},0)};l.prototype.onClose=function(){a.prototype.onClose.call(this)};l.prototype.doClose=function(){"undefined"!==typeof this.ws&&this.ws.close()};l.prototype.uri=function(){var a=this.query||{},c=this.secure?"wss":"ws",e="";this.port&&("wss"==c&&443!=this.port||"ws"==c&&80!=this.port)&&(e=":"+this.port);this.timestampRequests&&(a[this.timestampParam]=+new Date);this.supportsBinary||(a.b64=1);a=m.encode(a);a.length&&(a="?"+a);return c+"://"+this.hostname+
e+this.path+a};l.prototype.check=function(){return!!f&&!("__initialize"in f&&this.name===l.prototype.name)}},{"../transport":14,"component-inherit":21,debug:22,"engine.io-parser":25,parseqs:33,ws:35}],20:[function(d,c,k){var l=d("has-cors");c.exports=function(a){var c=a.xdomain,d=a.xscheme;a=a.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!c||l))return new XMLHttpRequest}catch(n){}try{if("undefined"!=typeof XDomainRequest&&!d&&a)return new XDomainRequest}catch(f){}if(!c)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(h){}}},
{"has-cors":38}],21:[function(d,c,k){c.exports=function(c,a){var e=function(){};e.prototype=a.prototype;c.prototype=new e;c.prototype.constructor=c}},{}],22:[function(d,c,k){function l(){var a;try{a=localStorage.debug}catch(c){}return a}k=c.exports=d("./debug");k.log=function(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)};k.formatArgs=function(){var a=arguments,c=this.useColors;a[0]=(c?"%c":"")+this.namespace+(c?" %c":
" ")+a[0]+(c?"%c ":" ")+"+"+k.humanize(this.diff);if(!c)return a;var c="color: "+this.color,a=[a[0],c,"color: inherit"].concat(Array.prototype.slice.call(a,1)),d=0,n=0;a[0].replace(/%[a-z%]/g,function(a){"%%"!==a&&(d++,"%c"===a&&(n=d))});a.splice(n,0,c);return a};k.save=function(a){try{null==a?localStorage.removeItem("debug"):localStorage.debug=a}catch(c){}};k.load=l;k.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&
console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)};k.colors="lightseagreen forestgreen goldenrod dodgerblue darkorchid crimson".split(" ");k.formatters.j=function(a){return JSON.stringify(a)};k.enable(l())},{"./debug":23}],23:[function(d,c,k){k=c.exports=function(c){function d(){}function n(){var c=+new Date;n.diff=c-(a||c);n.prev=a;a=n.curr=c;null==n.useColors&&(n.useColors=k.useColors());null==n.color&&n.useColors&&(n.color=k.colors[l++%k.colors.length]);
var e=Array.prototype.slice.call(arguments);e[0]=k.coerce(e[0]);"string"!==typeof e[0]&&(e=["%o"].concat(e));var d=0;e[0]=e[0].replace(/%([a-z%])/g,function(a,c){if("%%"===a)return a;d++;var f=k.formatters[c];"function"===typeof f&&(a=f.call(n,e[d]),e.splice(d,1),d--);return a});"function"===typeof k.formatArgs&&(e=k.formatArgs.apply(n,e));(n.log||k.log||console.log.bind(console)).apply(n,e)}d.enabled=!1;n.enabled=!0;var f=k.enabled(c)?n:d;f.namespace=c;return f};k.coerce=function(a){return a instanceof
Error?a.stack||a.message:a};k.disable=function(){k.enable("")};k.enable=function(a){k.save(a);for(var c=(a||"").split(/[\s,]+/),d=c.length,f=0;f<d;f++)c[f]&&(a=c[f].replace(/\*/g,".*?"),"-"===a[0]?k.skips.push(new RegExp("^"+a.substr(1)+"$")):k.names.push(new RegExp("^"+a+"$")))};k.enabled=function(a){var c,d;c=0;for(d=k.skips.length;c<d;c++)if(k.skips[c].test(a))return!1;c=0;for(d=k.names.length;c<d;c++)if(k.names[c].test(a))return!0;return!1};k.humanize=d("ms");k.names=[];k.skips=[];k.formatters=
{};var l=0,a},{ms:24}],24:[function(d,c,k){function l(a){if(a=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(a)){var c=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case "years":case "year":case "y":return 315576E5*c;case "days":case "day":case "d":return 864E5*c;case "hours":case "hour":case "h":return 36E5*c;case "minutes":case "minute":case "m":return 6E4*c;case "seconds":case "second":case "s":return 1E3*c;case "ms":return c}}}function a(a,c,d){if(!(a<
c))return a<1.5*c?Math.floor(a/c)+" "+d:Math.ceil(a/c)+" "+d+"s"}c.exports=function(c,d){d=d||{};return"string"==typeof c?l(c):d["long"]?a(c,864E5,"day")||a(c,36E5,"hour")||a(c,6E4,"minute")||a(c,1E3,"second")||c+" ms":864E5<=c?Math.round(c/864E5)+"d":36E5<=c?Math.round(c/36E5)+"h":6E4<=c?Math.round(c/6E4)+"m":1E3<=c?Math.round(c/1E3)+"s":c+"ms"}},{}],25:[function(d,c,k){(function(c){function a(a,c,e){if(!c)return k.encodeBase64Packet(a,e);var d=new FileReader;d.onload=function(){a.data=d.result;
k.encodePacket(a,c,!0,e)};return d.readAsArrayBuffer(a.data)}function e(a,c,e){var d=Array(a.length);e=q(a.length,e);for(var f=function(a,e,f){c(e,function(c,e){d[a]=e;f(c,d)})},h=0;h<a.length;h++)f(h,a[h],e)}var m=d("./keys"),n=d("has-binary"),f=d("arraybuffer.slice"),h=d("base64-arraybuffer"),q=d("after"),s=d("utf8"),r=navigator.userAgent.match(/Android/i),B=/PhantomJS/i.test(navigator.userAgent),y=r||B;k.protocol=3;var v=k.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},u=m(v),
C={type:"error",data:"parser error"},A=d("blob");k.encodePacket=function(e,d,f,h){"function"==typeof d&&(h=d,d=!1);"function"==typeof f&&(h=f,f=null);var m=void 0===e.data?void 0:e.data.buffer||e.data;if(c.ArrayBuffer&&m instanceof ArrayBuffer){if(d){f=e.data;d=new Uint8Array(f);f=new Uint8Array(1+f.byteLength);f[0]=v[e.type];for(e=0;e<d.length;e++)f[e+1]=d[e];e=h(f.buffer)}else e=k.encodeBase64Packet(e,h);return e}if(A&&m instanceof c.Blob)return d?y?e=a(e,d,h):(d=new Uint8Array(1),d[0]=v[e.type],
e=new A([d.buffer,e.data]),e=h(e)):e=k.encodeBase64Packet(e,h),e;if(m&&m.base64)return h("b"+k.packets[e.type]+e.data.data);d=v[e.type];void 0!==e.data&&(d+=f?s.encode(String(e.data)):String(e.data));return h(""+d)};k.encodeBase64Packet=function(a,e){var d="b"+k.packets[a.type];if(A&&a.data instanceof A){var f=new FileReader;f.onload=function(){var a=f.result.split(",")[1];e(d+a)};return f.readAsDataURL(a.data)}var h;try{h=String.fromCharCode.apply(null,new Uint8Array(a.data))}catch(m){h=new Uint8Array(a.data);
for(var n=Array(h.length),q=0;q<h.length;q++)n[q]=h[q];h=String.fromCharCode.apply(null,n)}d+=c.btoa(h);return e(d)};k.decodePacket=function(a,c,e){if("string"==typeof a||void 0===a){if("b"==a.charAt(0))return k.decodeBase64Packet(a.substr(1),c);if(e)try{a=s.decode(a)}catch(d){return C}e=a.charAt(0);return Number(e)==e&&u[e]?1<a.length?{type:u[e],data:a.substring(1)}:{type:u[e]}:C}e=(new Uint8Array(a))[0];a=f(a,1);A&&"blob"===c&&(a=new A([a]));return{type:u[e],data:a}};k.decodeBase64Packet=function(a,
e){var d=u[a.charAt(0)];if(!c.ArrayBuffer)return{type:d,data:{base64:!0,data:a.substr(1)}};var f=h.decode(a.substr(1));"blob"===e&&A&&(f=new A([f]));return{type:d,data:f}};k.encodePayload=function(a,c,d){"function"==typeof c&&(d=c,c=null);var f=n(a);if(c&&f)return A&&!y?k.encodePayloadAsBlob(a,d):k.encodePayloadAsArrayBuffer(a,d);if(!a.length)return d("0:");e(a,function(a,e){k.encodePacket(a,f?c:!1,!0,function(a){e(null,a.length+":"+a)})},function(a,c){return d(c.join(""))})};k.decodePayload=function(a,
c,e){if("string"!=typeof a)return k.decodePayloadAsBinary(a,c,e);"function"===typeof c&&(e=c,c=null);var d;if(""==a)return e(C,0,1);d="";for(var f,h,m=0,n=a.length;m<n;m++)if(h=a.charAt(m),":"!=h)d+=h;else{if(""==d||d!=(f=Number(d)))return e(C,0,1);h=a.substr(m+1,f);if(d!=h.length)return e(C,0,1);if(h.length){d=k.decodePacket(h,c,!0);if(C.type==d.type&&C.data==d.data)return e(C,0,1);if(!1===e(d,m+f,n))return}m+=f;d=""}if(""!=d)return e(C,0,1)};k.encodePayloadAsArrayBuffer=function(a,c){if(!a.length)return c(new ArrayBuffer(0));
e(a,function(a,c){k.encodePacket(a,!0,!0,function(a){return c(null,a)})},function(a,e){var d=e.reduce(function(a,c){var e;e="string"===typeof c?c.length:c.byteLength;return a+e.toString().length+e+2},0),f=new Uint8Array(d),h=0;e.forEach(function(a){var c="string"===typeof a,e=a;if(c){for(var e=new Uint8Array(a.length),d=0;d<a.length;d++)e[d]=a.charCodeAt(d);e=e.buffer}c?f[h++]=0:f[h++]=1;a=e.byteLength.toString();for(d=0;d<a.length;d++)f[h++]=parseInt(a[d]);f[h++]=255;e=new Uint8Array(e);for(d=0;d<
e.length;d++)f[h++]=e[d]});return c(f.buffer)})};k.encodePayloadAsBlob=function(a,c){e(a,function(a,c){k.encodePacket(a,!0,!0,function(a){var e=new Uint8Array(1);e[0]=1;if("string"===typeof a){for(var d=new Uint8Array(a.length),f=0;f<a.length;f++)d[f]=a.charCodeAt(f);a=d.buffer;e[0]=0}for(var d=(a instanceof ArrayBuffer?a.byteLength:a.size).toString(),h=new Uint8Array(d.length+1),f=0;f<d.length;f++)h[f]=parseInt(d[f]);h[d.length]=255;A&&(a=new A([e.buffer,h.buffer,a]),c(null,a))})},function(a,e){return c(new A(e))})};
k.decodePayloadAsBinary=function(a,c,e){"function"===typeof c&&(e=c,c=null);for(var d=[],h=!1;0<a.byteLength;){for(var m=new Uint8Array(a),n=0===m[0],l="",q=1;255!=m[q];q++){if(310<l.length){h=!0;break}l+=m[q]}if(h)return e(C,0,1);a=f(a,2+l.length);l=parseInt(l);m=f(a,0,l);if(n)try{m=String.fromCharCode.apply(null,new Uint8Array(m))}catch(r){for(n=new Uint8Array(m),m="",q=0;q<n.length;q++)m+=String.fromCharCode(n[q])}d.push(m);a=f(a,l)}var s=d.length;d.forEach(function(a,d){e(k.decodePacket(a,c,!0),
d,s)})}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./keys":26,after:27,"arraybuffer.slice":28,"base64-arraybuffer":29,blob:30,"has-binary":36,utf8:31}],26:[function(d,c,k){c.exports=Object.keys||function(c){var a=[],e=Object.prototype.hasOwnProperty,d;for(d in c)e.call(c,d)&&a.push(d);return a}},{}],27:[function(d,c,k){function l(){}c.exports=function(a,c,d){function n(a,l){if(0>=n.count)throw Error("after called too many times");--n.count;a?(f=!0,c(a),c=
d):0!==n.count||f||c(null,l)}var f=!1;d=d||l;n.count=a;return 0===a?c():n}},{}],28:[function(d,c,k){c.exports=function(c,a,e){var d=c.byteLength;a=a||0;e=e||d;if(c.slice)return c.slice(a,e);0>a&&(a+=d);0>e&&(e+=d);e>d&&(e=d);if(a>=d||a>=e||0===d)return new ArrayBuffer(0);c=new Uint8Array(c);for(var d=new Uint8Array(e-a),n=0;a<e;a++,n++)d[n]=c[a];return d.buffer}},{}],29:[function(d,c,k){(function(c){k.encode=function(a){a=new Uint8Array(a);var e,d=a.length,n="";for(e=0;e<d;e+=3)n+=c[a[e]>>2],n+=c[(a[e]&
3)<<4|a[e+1]>>4],n+=c[(a[e+1]&15)<<2|a[e+2]>>6],n+=c[a[e+2]&63];2===d%3?n=n.substring(0,n.length-1)+"\x3d":1===d%3&&(n=n.substring(0,n.length-2)+"\x3d\x3d");return n};k.decode=function(a){var e=.75*a.length,d=a.length,n=0,f,h,k,s;"\x3d"===a[a.length-1]&&(e--,"\x3d"===a[a.length-2]&&e--);for(var r=new ArrayBuffer(e),B=new Uint8Array(r),e=0;e<d;e+=4)f=c.indexOf(a[e]),h=c.indexOf(a[e+1]),k=c.indexOf(a[e+2]),s=c.indexOf(a[e+3]),B[n++]=f<<2|h>>4,B[n++]=(h&15)<<4|k>>2,B[n++]=(k&3)<<6|s&63;return r}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},
{}],30:[function(d,c,k){(function(d){function a(a){for(var c=0;c<a.length;c++){var e=a[c];if(e.buffer instanceof ArrayBuffer){var d=e.buffer;if(e.byteLength!==d.byteLength){var f=new Uint8Array(e.byteLength);f.set(new Uint8Array(d,e.byteOffset,e.byteLength));d=f.buffer}a[c]=d}}}function e(c,e){e=e||{};var d=new n;a(c);for(var f=0;f<c.length;f++)d.append(c[f]);return e.type?d.getBlob(e.type):d.getBlob()}function m(c,e){a(c);return new Blob(c,e||{})}var n=d.BlobBuilder||d.WebKitBlobBuilder||d.MSBlobBuilder||
d.MozBlobBuilder,f;try{f=2===(new Blob(["hi"])).size}catch(h){f=!1}var k;if(k=f)try{k=2===(new Blob([new Uint8Array([1,2])])).size}catch(s){k=!1}var r=n&&n.prototype.append&&n.prototype.getBlob;d=f?k?d.Blob:m:r?e:void 0;c.exports=d}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],31:[function(d,c,k){(function(d){(function(a){function e(a){for(var c=[],e=0,d=a.length,f,h;e<d;)f=a.charCodeAt(e++),55296<=f&&56319>=f&&e<d?(h=a.charCodeAt(e++),56320==(h&64512)?c.push(((f&
1023)<<10)+(h&1023)+65536):(c.push(f),e--)):c.push(f);return c}function m(a){if(55296<=a&&57343>=a)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");}function n(){if(v>=y)throw Error("Invalid byte index");var a=B[v]&255;v++;if(128==(a&192))return a&63;throw Error("Invalid continuation byte");}function f(){var a,c,e,d;if(v>y)throw Error("Invalid byte index");if(v==y)return!1;a=B[v]&255;v++;if(0==(a&128))return a;if(192==(a&224)){c=n();a=(a&31)<<6|c;if(128<=a)return a;
throw Error("Invalid continuation byte");}if(224==(a&240)){c=n();e=n();a=(a&15)<<12|c<<6|e;if(2048<=a)return m(a),a;throw Error("Invalid continuation byte");}if(240==(a&248)&&(c=n(),e=n(),d=n(),a=(a&15)<<18|c<<12|e<<6|d,65536<=a&&1114111>=a))return a;throw Error("Invalid UTF-8 detected");}var h="object"==typeof k&&k,q="object"==typeof c&&c&&c.exports==h&&c,s="object"==typeof d&&d;if(s.global===s||s.window===s)a=s;var r=String.fromCharCode,B,y,v,s={version:"2.0.0",encode:function(a){a=e(a);for(var c=
a.length,d=-1,f,h="";++d<c;){f=a[d];if(0==(f&4294967168))f=r(f);else{var n="";0==(f&4294965248)?n=r(f>>6&31|192):0==(f&4294901760)?(m(f),n=r(f>>12&15|224),n+=r(f>>6&63|128)):0==(f&4292870144)&&(n=r(f>>18&7|240),n+=r(f>>12&63|128),n+=r(f>>6&63|128));f=n+=r(f&63|128)}h+=f}return h},decode:function(a){B=e(a);y=B.length;v=0;a=[];for(var c;!1!==(c=f());)a.push(c);c=a.length;for(var d=-1,h,m="";++d<c;)h=a[d],65535<h&&(h-=65536,m+=r(h>>>10&1023|55296),h=56320|h&1023),m+=r(h);return m}};if(h&&!h.nodeType)if(q)q.exports=
s;else{a={}.hasOwnProperty;for(var u in s)a.call(s,u)&&(h[u]=s[u])}else a.utf8=s})(this)}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],32:[function(d,c,k){(function(d){var a=/^[\],:{}\s]*$/,e=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,m=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,n=/(?:^|:|,)(?:\s*\[)+/g,f=/^\s+/,h=/\s+$/;c.exports=function(c){if("string"!=typeof c||!c)return null;c=c.replace(f,"").replace(h,"");if(d.JSON&&JSON.parse)return JSON.parse(c);
if(a.test(c.replace(e,"@").replace(m,"]").replace(n,"")))return(new Function("return "+c))()}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],33:[function(d,c,k){k.encode=function(c){var a="",e;for(e in c)c.hasOwnProperty(e)&&(a.length&&(a+="\x26"),a+=encodeURIComponent(e)+"\x3d"+encodeURIComponent(c[e]));return a};k.decode=function(c){var a={};c=c.split("\x26");for(var e=0,d=c.length;e<d;e++){var n=c[e].split("\x3d");a[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return a}},
{}],34:[function(d,c,k){var l=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");c.exports=function(c){var d=c,n=c.indexOf("["),f=c.indexOf("]");-1!=n&&-1!=f&&(c=c.substring(0,n)+c.substring(n,f).replace(/:/g,
";")+c.substring(f,c.length));c=l.exec(c||"");for(var h={},k=14;k--;)h[a[k]]=c[k]||"";-1!=n&&-1!=f&&(h.source=d,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0);return h}},{}],35:[function(d,c,k){function l(c,d,n){return d?new a(c,d):new a(c)}d=function(){return this}();var a=d.WebSocket||d.MozWebSocket;c.exports=a?l:null;a&&(l.prototype=a.prototype)},{}],36:[function(d,c,k){(function(l){var a=d("isarray");
c.exports=function(c){function d(c){if(!c)return!1;if(l.Buffer&&l.Buffer.isBuffer(c)||l.ArrayBuffer&&c instanceof ArrayBuffer||l.Blob&&c instanceof Blob||l.File&&c instanceof File)return!0;if(a(c))for(var e=0;e<c.length;e++){if(d(c[e]))return!0}else if(c&&"object"==typeof c)for(e in c.toJSON&&(c=c.toJSON()),c)if(Object.prototype.hasOwnProperty.call(c,e)&&d(c[e]))return!0;return!1}return d(c)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{isarray:37}],37:[function(d,
c,k){c.exports=Array.isArray||function(c){return"[object Array]"==Object.prototype.toString.call(c)}},{}],38:[function(d,c,k){d=d("global");try{c.exports="XMLHttpRequest"in d&&"withCredentials"in new d.XMLHttpRequest}catch(l){c.exports=!1}},{global:39}],39:[function(d,c,k){c.exports=function(){return this}()},{}],40:[function(d,c,k){var l=[].indexOf;c.exports=function(a,c){if(l)return a.indexOf(c);for(var d=0;d<a.length;++d)if(a[d]===c)return d;return-1}},{}],41:[function(d,c,k){var l=Object.prototype.hasOwnProperty;
k.keys=Object.keys||function(a){var c=[],d;for(d in a)l.call(a,d)&&c.push(d);return c};k.values=function(a){var c=[],d;for(d in a)l.call(a,d)&&c.push(a[d]);return c};k.merge=function(a,c){for(var d in c)l.call(c,d)&&(a[d]=c[d]);return a};k.length=function(a){return k.keys(a).length};k.isEmpty=function(a){return 0==k.length(a)}},{}],42:[function(d,c,k){var l=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,
a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");c.exports=function(c){c=l.exec(c||"");for(var d={},n=14;n--;)d[a[n]]=c[n]||"";return d}},{}],43:[function(d,c,k){(function(c){var a=d("isarray"),e=d("./is-buffer");k.deconstructPacket=function(c){function d(c){if(!c)return c;if(e(c)){var m={_placeholder:!0,num:f.length};f.push(c);return m}if(a(c)){for(var m=Array(c.length),l=0;l<c.length;l++)m[l]=d(c[l]);return m}if("object"==typeof c&&
!(c instanceof Date)){m={};for(l in c)m[l]=d(c[l]);return m}return c}var f=[];c.data=d(c.data);c.attachments=f.length;return{packet:c,buffers:f}};k.reconstructPacket=function(c,e){function d(c){if(c&&c._placeholder)return e[c.num];if(a(c))for(var m=0;m<c.length;m++)c[m]=d(c[m]);else if(c&&"object"==typeof c)for(m in c)c[m]=d(c[m]);return c}c.data=d(c.data);c.attachments=void 0;return c};k.removeBlobs=function(d,n){function f(d,m,B){if(!d)return d;if(c.Blob&&d instanceof Blob||c.File&&d instanceof
File){h++;var y=new FileReader;y.onload=function(){B?B[m]=this.result:k=this.result;--h||n(k)};y.readAsArrayBuffer(d)}else if(a(d))for(y=0;y<d.length;y++)f(d[y],y,d);else if(d&&"object"==typeof d&&!e(d))for(y in d)f(d[y],y,d)}var h=0,k=d;f(k);h||n(k)}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./is-buffer":45,isarray:46}],44:[function(d,c,k){function l(){}function a(a){var c,e=!1;c=""+a.type;if(k.BINARY_EVENT==a.type||k.BINARY_ACK==a.type)c+=a.attachments,
c+="-";a.nsp&&"/"!=a.nsp&&(e=!0,c+=a.nsp);null!=a.id&&(e&&(c+=",",e=!1),c+=a.id);null!=a.data&&(e&&(c+=","),c+=h.stringify(a.data));f("encoded %j as %s",a,c);return c}function e(c,e){q.removeBlobs(c,function(c){var d=q.deconstructPacket(c);c=a(d.packet);d=d.buffers;d.unshift(c);e(d)})}function m(){this.reconstructor=null}function n(a){this.reconPack=a;this.buffers=[]}var f=d("debug")("socket.io-parser"),h=d("json3");d("isarray");c=d("component-emitter");var q=d("./binary"),s=d("./is-buffer");k.protocol=
4;k.types="CONNECT DISCONNECT EVENT BINARY_EVENT ACK BINARY_ACK ERROR".split(" ");k.CONNECT=0;k.DISCONNECT=1;k.EVENT=2;k.ACK=3;k.ERROR=4;k.BINARY_EVENT=5;k.BINARY_ACK=6;k.Encoder=l;k.Decoder=m;l.prototype.encode=function(c,d){f("encoding packet %j",c);if(k.BINARY_EVENT==c.type||k.BINARY_ACK==c.type)e(c,d);else{var h=a(c);d([h])}};c(m.prototype);m.prototype.add=function(a){if("string"==typeof a){a:{var c={},e=0;c.type=Number(a.charAt(0));if(null==k.types[c.type])a={type:k.ERROR,data:"parser error"};
else{if(k.BINARY_EVENT==c.type||k.BINARY_ACK==c.type){for(var d="";"-"!=a.charAt(++e)&&(d+=a.charAt(e),e!=a.length););if(d!=Number(d)||"-"!=a.charAt(e))throw Error("Illegal attachments");c.attachments=Number(d)}if("/"==a.charAt(e+1))for(c.nsp="";++e;){d=a.charAt(e);if(","==d)break;c.nsp+=d;if(e==a.length)break}else c.nsp="/";d=a.charAt(e+1);if(""!==d&&Number(d)==d){for(c.id="";++e;){d=a.charAt(e);if(null==d||Number(d)!=d){--e;break}c.id+=a.charAt(e);if(e==a.length)break}c.id=Number(c.id)}if(a.charAt(++e))try{c.data=
h.parse(a.substr(e))}catch(m){a={type:k.ERROR,data:"parser error"};break a}f("decoded %s as %j",a,c);a=c}}k.BINARY_EVENT==a.type||k.BINARY_ACK==a.type?(this.reconstructor=new n(a),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",a)):this.emit("decoded",a)}else if(s(a)||a.base64)if(this.reconstructor){if(a=this.reconstructor.takeBinaryData(a))this.reconstructor=null,this.emit("decoded",a)}else throw Error("got binary data when not reconstructing a packet");else throw Error("Unknown type: "+
a);};m.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};n.prototype.takeBinaryData=function(a){this.buffers.push(a);return this.buffers.length==this.reconPack.attachments?(a=q.reconstructPacket(this.reconPack,this.buffers),this.finishedReconstruction(),a):null};n.prototype.finishedReconstruction=function(){this.reconPack=null;this.buffers=[]}},{"./binary":43,"./is-buffer":45,"component-emitter":9,debug:10,isarray:46,json3:47}],45:[function(d,c,k){(function(d){c.exports=
function(a){return d.Buffer&&d.Buffer.isBuffer(a)||d.ArrayBuffer&&a instanceof ArrayBuffer}}).call(this,"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],46:[function(d,c,k){c.exports=d(37)},{}],47:[function(d,c,k){(function(c){function a(c){if(a[c]!==f)return a[c];var d;if("bug-string-char-index"==c)d="a"!="a"[0];else if("json"==c)d=a("json-stringify")&&a("json-parse");else{var h;if("json-stringify"==c){d=q.stringify;var m="function"==typeof d&&s;if(m){(h=function(){return 1}).toJSON=
h;try{m="0"===d(0)&&"0"===d(new Number)&&'""'==d(new String)&&d(e)===f&&d(f)===f&&d()===f&&"1"===d(h)&&"[1]"==d([h])&&"[null]"==d([f])&&"null"==d(null)&&"[null,null,null]"==d([f,e,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==d({a:[h,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===d(null,h)&&"[\n 1,\n 2\n]"==d([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==d(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==d(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==d(new Date(-621987552E5))&&
'"1969-12-31T23:59:59.999Z"'==d(new Date(-1))}catch(n){m=!1}}d=m}if("json-parse"==c){d=q.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){h=d('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var l=5==h.a.length&&1===h.a[0];if(l){try{l=!d('"\t"')}catch(k){}if(l)try{l=1!==d("01")}catch(t){}if(l)try{l=1!==d("1.")}catch(G){}}}}catch(L){l=!1}d=l}}return a[c]=!!d}var e={}.toString,d,n,f,h="object"==typeof JSON&&JSON,q="object"==typeof k&&k&&!k.nodeType&&k;q&&h?(q.stringify=h.stringify,q.parse=
h.parse):q=c.JSON=h||{};var s=new Date(-0xc782b5b800cec);try{s=-109252==s.getUTCFullYear()&&0===s.getUTCMonth()&&1===s.getUTCDate()&&10==s.getUTCHours()&&37==s.getUTCMinutes()&&6==s.getUTCSeconds()&&708==s.getUTCMilliseconds()}catch(r){}if(!a("json")){var B=a("bug-string-char-index");if(!s)var y=Math.floor,v=[0,31,59,90,120,151,181,212,243,273,304,334],u=function(a,c){return v[c]+365*(a-1970)+y((a-1969+(c=+(1<c)))/4)-y((a-1901+c)/100)+y((a-1601+c)/400)};(d={}.hasOwnProperty)||(d=function(a){var c=
{},f;(c.__proto__=null,c.__proto__={toString:1},c).toString!=e?d=function(a){var c=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=c;return a}:(f=c.constructor,d=function(a){var c=(this.constructor||f).prototype;return a in this&&!(a in c&&this[a]===c[a])});c=null;return d.call(this,a)});var C={"boolean":1,number:1,string:1,undefined:1};n=function(a,c){var f=0,h,l,k;(h=function(){this.valueOf=0}).prototype.valueOf=0;l=new h;for(k in l)d.call(l,k)&&f++;h=l=null;f?n=2==f?function(a,c){var f=
{},h="[object Function]"==e.call(a),n;for(n in a)h&&"prototype"==n||d.call(f,n)||!(f[n]=1)||!d.call(a,n)||c(n)}:function(a,c){var f="[object Function]"==e.call(a),h,n;for(h in a)f&&"prototype"==h||!d.call(a,h)||(n="constructor"===h)||c(h);(n||d.call(a,h="constructor"))&&c(h)}:(l="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),n=function(a,c){var f="[object Function]"==e.call(a),h,n;if(n=!f&&"function"!=typeof a.constructor)n=typeof a.hasOwnProperty,
n="object"==n?!!a.hasOwnProperty:!C[n];n=n?a.hasOwnProperty:d;for(h in a)f&&"prototype"==h||!n.call(a,h)||c(h);for(f=l.length;h=l[--f];n.call(a,h)&&c(h));});return n(a,c)};if(!a("json-stringify")){var A={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},t=function(a,c){return("000000"+(c||0)).slice(-a)},G=function(a){var c='"',e=0,d=a.length,f=10<d&&B,h;for(f&&(h=a.split(""));e<d;e++){var m=a.charCodeAt(e);switch(m){case 8:case 9:case 10:case 12:case 13:case 34:case 92:c+=A[m];break;
default:if(32>m){c+="\\u00"+t(2,m.toString(16));break}c+=f?h[e]:B?a.charAt(e):a[e]}}return c+'"'},L=function(a,c,h,l,k,q,s){var r,M,Q,w,v,B,K,N,C;try{r=c[a]}catch(A){}if("object"==typeof r&&r)if(M=e.call(r),"[object Date]"!=M||d.call(r,"toJSON"))"function"==typeof r.toJSON&&("[object Number]"!=M&&"[object String]"!=M&&"[object Array]"!=M||d.call(r,"toJSON"))&&(r=r.toJSON(a));else if(r>-1/0&&r<1/0){if(u){w=y(r/864E5);for(M=y(w/365.2425)+1970-1;u(M+1,0)<=w;M++);for(Q=y((w-u(M,0))/30.42);u(M,Q+1)<=w;Q++);
w=1+w-u(M,Q);v=(r%864E5+864E5)%864E5;B=y(v/36E5)%24;K=y(v/6E4)%60;N=y(v/1E3)%60;v%=1E3}else M=r.getUTCFullYear(),Q=r.getUTCMonth(),w=r.getUTCDate(),B=r.getUTCHours(),K=r.getUTCMinutes(),N=r.getUTCSeconds(),v=r.getUTCMilliseconds();r=(0>=M||1E4<=M?(0>M?"-":"+")+t(6,0>M?-M:M):t(4,M))+"-"+t(2,Q+1)+"-"+t(2,w)+"T"+t(2,B)+":"+t(2,K)+":"+t(2,N)+"."+t(3,v)+"Z"}else r=null;h&&(r=h.call(c,a,r));if(null===r)return"null";M=e.call(r);if("[object Boolean]"==M)return""+r;if("[object Number]"==M)return r>-1/0&&r<
1/0?""+r:"null";if("[object String]"==M)return G(""+r);if("object"==typeof r){for(a=s.length;a--;)if(s[a]===r)throw TypeError();s.push(r);C=[];c=q;q+=k;if("[object Array]"==M){Q=0;for(a=r.length;Q<a;Q++)M=L(Q,r,h,l,k,q,s),C.push(M===f?"null":M);a=C.length?k?"[\n"+q+C.join(",\n"+q)+"\n"+c+"]":"["+C.join(",")+"]":"[]"}else n(l||r,function(a){var c=L(a,r,h,l,k,q,s);c!==f&&C.push(G(a)+":"+(k?" ":"")+c)}),a=C.length?k?"{\n"+q+C.join(",\n"+q)+"\n"+c+"}":"{"+C.join(",")+"}":"{}";s.pop();return a}};q.stringify=
function(a,c,d){var f,h,m,n;if("function"==typeof c||"object"==typeof c&&c)if("[object Function]"==(n=e.call(c)))h=c;else if("[object Array]"==n){m={};for(var l=0,k=c.length,t;l<k;t=c[l++],(n=e.call(t),"[object String]"==n||"[object Number]"==n)&&(m[t]=1));}if(d)if("[object Number]"==(n=e.call(d))){if(0<(d-=d%1))for(f="",10<d&&(d=10);f.length<d;f+=" ");}else"[object String]"==n&&(f=10>=d.length?d:d.slice(0,10));return L("",(t={},t[""]=a,t),h,m,f,"",[])}}if(!a("json-parse")){var M=String.fromCharCode,
Q={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},w,K,N=function(){w=K=null;throw SyntaxError();},T=function(){for(var a=K,c=a.length,e,d,f,h,m;w<c;)switch(m=a.charCodeAt(w),m){case 9:case 10:case 13:case 32:w++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=B?a.charAt(w):a[w],w++,e;case 34:e="@";for(w++;w<c;)if(m=a.charCodeAt(w),32>m)N();else if(92==m)switch(m=a.charCodeAt(++w),m){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=Q[m];w++;
break;case 117:d=++w;for(f=w+4;w<f;w++)m=a.charCodeAt(w),48<=m&&57>=m||97<=m&&102>=m||65<=m&&70>=m||N();e+=M("0x"+a.slice(d,w));break;default:N()}else{if(34==m)break;m=a.charCodeAt(w);for(d=w;32<=m&&92!=m&&34!=m;)m=a.charCodeAt(++w);e+=a.slice(d,w)}if(34==a.charCodeAt(w))return w++,e;N();default:d=w;45==m&&(h=!0,m=a.charCodeAt(++w));if(48<=m&&57>=m){for(48==m&&(m=a.charCodeAt(w+1),48<=m&&57>=m)&&N();w<c&&(m=a.charCodeAt(w),48<=m&&57>=m);w++);if(46==a.charCodeAt(w)){for(f=++w;f<c&&(m=a.charCodeAt(f),
48<=m&&57>=m);f++);f==w&&N();w=f}m=a.charCodeAt(w);if(101==m||69==m){m=a.charCodeAt(++w);43!=m&&45!=m||w++;for(f=w;f<c&&(m=a.charCodeAt(f),48<=m&&57>=m);f++);f==w&&N();w=f}return+a.slice(d,w)}h&&N();if("true"==a.slice(w,w+4))return w+=4,!0;if("false"==a.slice(w,w+5))return w+=5,!1;if("null"==a.slice(w,w+4))return w+=4,null;N()}return"$"},V=function(a){var c,e;"$"==a&&N();if("string"==typeof a){if("@"==(B?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(c=[];;e||(e=!0)){a=T();if("]"==a)break;e&&
(","==a?(a=T(),"]"==a&&N()):N());","==a&&N();c.push(V(a))}return c}if("{"==a){for(c={};;e||(e=!0)){a=T();if("}"==a)break;e&&(","==a?(a=T(),"}"==a&&N()):N());","!=a&&"string"==typeof a&&"@"==(B?a.charAt(0):a[0])&&":"==T()||N();c[a.slice(1)]=V(T())}return c}N()}return a},ta=function(a,c,e){e=ja(a,c,e);e===f?delete a[c]:a[c]=e},ja=function(a,c,d){var f=a[c],h;if("object"==typeof f&&f)if("[object Array]"==e.call(f))for(h=f.length;h--;)ta(f,h,d);else n(f,function(a){ta(f,a,d)});return d.call(a,c,f)};q.parse=
function(a,c){var d,f;w=0;K=""+a;d=V(T());"$"!=T()&&N();w=K=null;return c&&"[object Function]"==e.call(c)?ja((f={},f[""]=d,f),"",c):d}}}})(this)},{}],48:[function(d,c,k){c.exports=function(c,a){for(var e=[],d=(a=a||0)||0;d<c.length;d++)e[d-a]=c[d];return e}},{}]},{},[1])(1)});window.PUBSUBio=window.io;window.io=window.previous_io;"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);"undefined"!==typeof define&&"undefined"!==typeof define.amd&&(amdOriginal=define.amd,define.amd=null);
RTS=function(b){this.timeoutPeriod=3E4;this.channels={};this.timeouts={};this.callbacks={};b=b||{};this.reconnectionAttempts=b.reconnectionAttempts||Infinity;this.reconnectionDelay=b.reconnectionDelay||1E3;this.reconnectionDelayMax=b.reconnectionDelayMax||6E4;this.debug=b.debug||!1;this.logger=b.logger||window.console;this.origin=b.origin||"https://pubsub.rtschannel.io/";this.onConnect=b.onConnect||function(){};this.onReconnect=b.onReconnect||function(){};this.onDisconnect=b.onDisconnect||function(){};
this.disconnectCount=0;b.accId?this.accId=b.accId:this._throw("accId not provided");b.userId?this.userId=b.userId:this._throw("userId not provided");b.token?this.token=encodeURIComponent(b.token):!1;b.webURL?this.webURL=b.webURL:!1;b.leaveOnUnload?this.leaveOnUnload():!1;"undefined"==typeof window.PUBSUBio&&null==window.PUBSUBio&&this._throw("Could not find the Socket IO object for RTS!");this.io=window.PUBSUBio;this.initializeSocket()};
RTS.prototype={constructor:RTS,initializeSocket:function(){this.log("Initializing socket connection...");this.checkCookieSupport(function(b){var d=["accId\x3d",this.accId,"\x26userId\x3d",this.userId,"\x26token\x3d",this.token].join("");!0===b&&(d+="\x26nocookie\x3dtrue");this.socket=this.io.Manager(this.origin+"?"+d,{forceBase64:!0,reconnectionAttempts:this.reconnectionAttempts,reconnectionDelay:this.reconnectionDelay,reconnectionDelayMax:this.reconnectionDelayMax}).socket("/");this.initializeSocketListeners()}.bind(this))},
initializeSocketListeners:function(){this.log("Binding the socket listeners...");this.socket.on("connect",this._onConnect.bind(this));this.socket.on("reconnecting",this._onReconnecting.bind(this));this.socket.on("reconnect",this._onReconnect.bind(this));this.socket.on("disconnect",this._onDisconnect.bind(this));this.socket.on("message",this._onMessage.bind(this))},checkCookieSupport:function(b){1==(/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!==
typeof safari&&safari.pushNotification).toString())?b(!0):"true"===localStorage.getItem("pubsub_cookie")?b(!1):this.sendCookieRequest("getcookie",function(d){d?this.sendCookieRequest("checkcookie",function(c){c?(this.log("Browser supports cookie from a different domain"),b(!1)):(this.log("Browser does not support cookie from a different domain"),b(!0))}.bind(this)):(this.log("Browser does not support cookie from a different domain"),b(!0))}.bind(this))},sendCookieRequest:function(b,d){var c=new XMLHttpRequest,
k=this;this.origin&&"/"!=this.origin[this.origin.length-1]&&(this.origin+="/");c.open("GET",this.origin+b);c.onreadystatechange=function(){4==this.readyState&&(k.log("Cookie request :: "+b+" response",this.responseText),200<=this.status&&300>this.status||304===this.status?d(!0):d(!1))};c.onerror=function(b){k.log(c.statusText)};c.withCredentials=!0;c.send()},subscribe:function(b,d,c){this.log("Trying to subscribe to channel: ",b);var k=this;if(this._connectionCheck(c))if(this._isChannelSubscribed(b)){var l=
"Already subscribed to "+b;this.log(l);k.channels[b]={connected:!0,onMessage:d};c&&c(null,l)}else this._sendMessage({event:"subscribe",channel:b},function(a,e){a&&k.log("Could not subscribe to channel: ",a,b);k.channels[b]={connected:!0,onMessage:d};c&&c(a,e)})},unsubscribe:function(b,d){if(this._connectionCheck(d)&&this._isChannelSubscribed(b,d)){var c=this;this._sendMessage({event:"unsubscribe",channel:b},function(k,l){k?c.log("Could not unsubscribe from channel: ",k,b):delete c.channels[b];d&&
d(k,l)})}},unsubscribeAll:function(b){this._connectionCheck&&(this._sendMessage({event:"unsubscribeall"}),this.channels={},b&&b(null,this.channels))},destroy:function(b){this.unsubscribeAll(b)},publish:function(b,d){this._connectionCheck&&this._isChannelSubscribed(b.channelName,d)&&(this._sendMessage({event:"send",channel:b.channelName,msg:JSON.stringify(b.message),opt:b.persist?1:0},d),this.log("Message sent",b.message))},channelWho:function(b,d,c){if(this._connectionCheck(c)){var k=this;this._sendMessage({event:"channel_who",
channel:b,msg:JSON.stringify(d)},function(d,a){d&&k.log("Could not fetch channel_who: ",d,b);c&&c(d,a)})}},userWhere:function(b){if(this._connectionCheck(b)){var d=this;this._sendMessage({event:"user_where"},function(c,k){c&&d.log("Could not fetch user_where: ",c);b&&b(c,k)})}},grant:function(b,d){if(this._connectionCheck(d)){var c=this;this._sendMessage({event:"grant",msg:b},function(b,l){b&&c.log("Could not grant access: ",b);d&&d(b,l)})}},revoke:function(b,d){if(this._connectionCheck(d)){var c=
this;this._sendMessage({event:"revoke",msg:b},function(b,l){b&&c.log("Could not revoke access: ",b);d&&d(b,l)})}},on:function(){},off:function(){},save:function(b,d,c){if(this._connectionCheck()&&this._isChannelSubscribed(b)){var k=this;this._sendMessage({event:"save",channel:b,msg:JSON.stringify(d)},function(b,a){b?k.log("Could not fetch user_where: ",b):k.log("Saved data.",d);c&&c(b,a)})}},fetch:function(b,d,c){if(this._connectionCheck(c)&&this._isChannelSubscribed(b,c)){var k=this;this._sendMessage({event:"fetch",
channel:b,userId:d},function(b,a){b&&k.log("Could not fetch user data: ",b);c&&c(b,a)})}},pull:function(b,d,c){if(this._connectionCheck(c)&&this._isChannelSubscribed(b,c)){var k=this;this._sendMessage({event:"pull",channel:b,from:d},function(b,a){b&&k.log("Could not execute a pull: ",b);c&&c(null,a)})}},pullRange:function(b,d,c){if(this._connectionCheck(c)&&this._isChannelSubscribed(b,c)){var k=this;this._sendMessage({event:"pull_range",channel:b,from:d},function(b,a){b&&k.log("Could not execute a pull range: ",
b);c&&c(null,a)})}},sendAck:function(b,d,c,k){this._connectionCheck(k)&&this._isChannelSubscribed(b,k)&&(this._sendMessage({event:"ack",channel:b,msgId:d,userId:c}),k&&k(null,"Sent ack message"))},createChannel:function(b,d){b.rts=this;d(null,new RTSChannel(b))},leaveOnUnload:function(){var b=this;window.addEventListener?window.addEventListener("beforeunload",function(){b.close()},!1):window.attachEvent("onbeforeunload",function(){b.close()})},close:function(b){this._connectionCheck(b)&&(this._sendMessage({event:"close"}),
b&&b(null,"Connection Closed"))},disconnect:function(){this.socket.io.disconnect()},reconnect:function(){this.socket.io.connect()},log:function(){if(!0===this.debug&&this.logger){var b=Array.prototype.slice.call(arguments);b.unshift("RTS:");b.unshift(arguments.callee.caller.name);b.unshift((new Date).toLocaleTimeString());this.logger.log.apply(this.logger,b)}},_throw:function(b){console.log("error throne!!!",b);throw Error(b);},_generateUid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(b){var d=16*Math.random()|0;return("x"==b?d:d&3|8).toString(16)})},_connectionCheck:function(b){!1===this.connected&&(this.log("Not performing action as client is not connected."),b&&b("Not performing action as client is not connected."));return this.connected},_isChannelSubscribed:function(b,d){if(!this.channels[b]){var c="Channel "+b+" is not subscribed yet.";this.log(c);d&&d(c)}return!!this.channels[b]},_startTimeoutErrorTimer:function(b){var d=this;d.timeouts[b]=setTimeout(function(){if(d.callbacks[b])d.callbacks[b]("Timeout Error");
delete d.timeouts[b]},this.timeoutPeriod)},_sendMessage:function(b,d){if(d){var c=this._generateUid();this.callbacks[c]=d;b.clientId=c;this._startTimeoutErrorTimer(c)}b.accId=this.accId;this.log("Sending data",b);this.socket.emit("message",JSON.stringify(b))},_onConnect:function(){var b=this;this.log("Socket Connected");this.connected=!0;this.socket_id=this.socket.id;this.userWhere(function(d,c){if("undefined"!=typeof c&&c.msg&&c.Local&&JSON.parse(c.msg).List&&JSON.parse(c.msg).List.length){for(var k=
JSON.parse(c.msg).List,l=k.length-1;0<=l;l--)b.channels[k[l]]={connected:!0};b.log("RTS Channels:",b.channels)}b.onConnect()})},_onReconnecting:function(){this.log("Socket reconnecting")},_onReconnect:function(){this.log("Socket reconnected");window.clearTimeout(this.disconnect_timer);this.connected=!0;this.onReconnect()},_onDisconnect:function(b){this.log("Disconnect timer begins...");var d=this;this.disconnect_timer=window.setTimeout(function(){d.log("Disconnected");d.connected=!1;d.channels={};
d.disconnectCount++;d.onDisconnect(b)},3E3)},_onMessage:function(b){try{b=JSON.parse(b)}catch(d){this.log("MessageParseError",b);return}this.log("Received Data.",b);this._onEvent(b)},_onEvent:function(b){if(b.clientId&&(this.timeouts[b.clientId]&&(clearTimeout(this.timeouts[b.clientId]),delete this.timeouts[b.clientId]),this.callbacks[b.clientId])){if(""!==b.err&&b.err)this.log("Error: ",b),this.callbacks[b.clientId](b.err);else this.callbacks[b.clientId](null,b);delete this.callbacks[b.clientId]}if("send"==
b.event&&b.channel&&this.channels[b.channel]&&"function"==typeof this.channels[b.channel].onMessage)this.channels[b.channel].onMessage(b)}};
RTSChannel=function(b){if("object"!=typeof b||!b)throw Error("RTSChannel needs an options object");if("undefined"==typeof b.rts||!b.rts||!b.rts.connected)throw Error("RTSChannel needs a connected RTS instance in the options object to initialize");if("undefined"==typeof b.name||!b.name)throw Error("RTSChannel needs a `name` parameter in the options object");this._name=b.name;this._rts=b.rts;this.subscribe(b.onMessage,b.onSubscribe)};
RTSChannel.prototype={constructor:RTSChannel,subscribe:function(b,d){this._rts.subscribe(this._name,b,d)},unsubscribe:function(b){this._rts.unsubscribe(this._name,b)},publish:function(b,d){this._rts.publish({channelName:this._name,message:b},d)},who:function(b,d){this._rts.channelWho(this._name,b,d)},save:function(b,d){this._rts.save(this._name,b,d)},fetch:function(b,d){this._rts.fetch(this._name,b,d)},pull:function(b,d){this._rts.pull(this._name,b,d)},pullRange:function(b,d){this._rts.pullRange(this._name,
b,d)},sendAck:function(b,d,c){this._rts.sendAck(this._name,b,d,c)}};"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);"undefined"!==typeof define&&"undefined"!==typeof define.amd&&(amdOriginal=define.amd,define.amd=null);
!function(b,d){"object"==typeof exports&&"object"==typeof module?module.exports=d():"function"==typeof define&&define.amd?define([],d):"object"==typeof exports?exports.Pusher=d():b.Pusher=d()}(this,function(){return function(b){function d(k){if(c[k])return c[k].exports;var l=c[k]={exports:{},id:k,loaded:!1};return b[k].call(l.exports,l,l.exports,d),l.loaded=!0,l.exports}var c={};return d.m=b,d.c=c,d.p="",d(0)}([function(b,d,c){d=c(1);b.exports=d["default"]},function(b,d,c){var k=c(2),l=c(9),a=c(24),
e=c(39),m=c(40),n=c(41),f=c(12),h=c(5),q=c(63),s=c(8),r=c(43),B=c(14);b=function(){function b(c,d){var f=this;if(null===c||void 0===c)throw"You must pass your app key when you instantiate Pusher.";if(d=d||{},!d.cluster&&!d.wsHost&&!d.httpHost){var A=B["default"].buildLogSuffix("javascriptQuickStart");s["default"].warn("You should always specify a cluster when connecting. "+A)}this.key=c;this.config=l.extend(q.getGlobalConfig(),d.cluster?q.getClusterConfig(d.cluster):{},d);this.channels=r["default"].createChannels();
this.global_emitter=new a["default"];this.sessionID=Math.floor(1E9*Math.random());this.timeline=new e["default"](this.key,this.sessionID,{cluster:this.config.cluster,features:b.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:m["default"].INFO,version:h["default"].VERSION});this.config.disableStats||(this.timelineSender=r["default"].createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+k["default"].TimelineTransport.name}));this.connection=r["default"].createConnectionManager(this.key,
l.extend({getStrategy:function(a){a=l.extend({},f.config,a);return n.build(k["default"].getDefaultStrategy(a),a)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()}));this.connection.bind("connected",function(){f.subscribeAll();f.timelineSender&&f.timelineSender.send(f.connection.isEncrypted())});this.connection.bind("message",function(a){var b=0===a.event.indexOf("pusher_internal:");
if(a.channel){var c=f.channel(a.channel);c&&c.handleEvent(a.event,a.data)}b||f.global_emitter.emit(a.event,a.data)});this.connection.bind("connecting",function(){f.channels.disconnect()});this.connection.bind("disconnected",function(){f.channels.disconnect()});this.connection.bind("error",function(a){s["default"].warn("Error",a)});b.instances.push(this);this.timeline.info({instances:b.instances.length});b.isReady&&this.connect()}return b.ready=function(){b.isReady=!0;for(var a=0,c=b.instances.length;a<
c;a++)b.instances[a].connect()},b.log=function(a){b.logToConsole&&window.console&&window.console.log&&window.console.log(a)},b.getClientFeatures=function(){return l.keys(l.filterObject({ws:k["default"].Transports.ws},function(a){return a.isSupported({})}))},b.prototype.channel=function(a){return this.channels.find(a)},b.prototype.allChannels=function(){return this.channels.all()},b.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var a=this.connection.isEncrypted(),
b=this.timelineSender;this.timelineSenderTimer=new f.PeriodicTimer(6E4,function(){b.send(a)})}},b.prototype.disconnect=function(){this.connection.disconnect();this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},b.prototype.bind=function(a,b,c){return this.global_emitter.bind(a,b,c),this},b.prototype.unbind=function(a,b,c){return this.global_emitter.unbind(a,b,c),this},b.prototype.bind_global=function(a){return this.global_emitter.bind_global(a),this},
b.prototype.unbind_global=function(a){return this.global_emitter.unbind_global(a),this},b.prototype.unbind_all=function(a){return this.global_emitter.unbind_all(),this},b.prototype.subscribeAll=function(){for(var a in this.channels.channels)this.channels.channels.hasOwnProperty(a)&&this.subscribe(a)},b.prototype.subscribe=function(a){a=this.channels.add(a,this);return a.subscriptionPending&&a.subscriptionCancelled?a.reinstateSubscription():a.subscriptionPending||"connected"!==this.connection.state||
a.subscribe(),a},b.prototype.unsubscribe=function(a){var b=this.channels.find(a);b&&b.subscriptionPending?b.cancelSubscription():(b=this.channels.remove(a),b&&"connected"===this.connection.state&&b.unsubscribe())},b.prototype.send_event=function(a,b,c){return this.connection.send_event(a,b,c)},b.prototype.isEncrypted=function(){return"https:"===k["default"].getProtocol()||Boolean(this.config.encrypted)},b.instances=[],b.isReady=!1,b.logToConsole=!1,b.Runtime=k["default"],b.ScriptReceivers=k["default"].ScriptReceivers,
b.DependenciesReceivers=k["default"].DependenciesReceivers,b.auth_callbacks=k["default"].auth_callbacks,b}();d.__esModule=!0;d["default"]=b;k["default"].setup(b)},function(b,d,c){var k=c(3),l=c(7),a=c(15),e=c(16),m=c(17);b=c(4);var n=c(18),f=c(19),h=c(26),q=c(27),s=c(28);c=c(29);c={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:b.ScriptReceivers,DependenciesReceivers:k.DependenciesReceivers,getDefaultStrategy:q["default"],Transports:f["default"],transportConnectionInitializer:s["default"],
HTTPFactory:c["default"],TimelineTransport:n["default"],getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(a){var b=this;window.Pusher=a;var c=function(){b.onDocumentBody(a.ready)};window.JSON?c():k.Dependencies.load("json2",{},c)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:l["default"],jsonp:a["default"]}},onDocumentBody:function(a){var b=
this;document.body?a():setTimeout(function(){b.onDocumentBody(a)},0)},createJSONPRequest:function(a,b){return new m["default"](a,b)},createScriptRequest:function(a){return new e["default"](a)},getLocalStorage:function(){try{return window.localStorage}catch(a){}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new (this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},
getNetwork:function(){return h.Network},createWebSocket:function(a){return new (this.getWebSocketAPI())(a)},createSocketRequest:function(a,b){if(this.isXHRSupported())return this.HTTPFactory.createXHR(a,b);if(this.isXDRSupported(0===b.indexOf("https:")))return this.HTTPFactory.createXDR(a,b);throw"Cross-origin HTTP requests are not supported";},isXHRSupported:function(){var a=this.getXHRAPI();return Boolean(a)&&void 0!==(new a).withCredentials},isXDRSupported:function(a){a=a?"https:":"http:";var b=
this.getProtocol();return Boolean(window.XDomainRequest)&&b===a},addUnloadListener:function(a){void 0!==window.addEventListener?window.addEventListener("unload",a,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",a)},removeUnloadListener:function(a){void 0!==window.addEventListener?window.removeEventListener("unload",a,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",a)}};d.__esModule=!0;d["default"]=c},function(b,d,c){b=c(4);var k=c(5);c=c(6);d.DependenciesReceivers=new b.ScriptReceiverFactory("_pusher_dependencies",
"Pusher.DependenciesReceivers");d.Dependencies=new c["default"]({cdn_http:k["default"].cdn_http,cdn_https:k["default"].cdn_https,version:k["default"].VERSION,suffix:k["default"].dependency_suffix,receivers:d.DependenciesReceivers})},function(b,d){var c=function(){function b(c,a){this.lastId=0;this.prefix=c;this.name=a}return b.prototype.create=function(b){this.lastId++;var a=this.lastId,c=this.prefix+a,d=this.name+"["+a+"]",n=!1,f=function(){n||(b.apply(null,arguments),n=!0)};return this[a]=f,{number:a,
id:c,name:d,callback:f}},b.prototype.remove=function(b){delete this[b.number]},b}();d.ScriptReceiverFactory=c;d.ScriptReceivers=new c("_pusher_script_","Pusher.ScriptReceivers")},function(b,d){d.__esModule=!0;d["default"]={VERSION:"4.2.2",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,ws_path:"",sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",
activity_timeout:12E4,pong_timeout:3E4,unavailable_timeout:1E4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:".min"}},function(b,d,c){var k=c(4),l=c(2);b=function(){function a(a){this.options=a;this.receivers=a.receivers||k.ScriptReceivers;this.loading={}}return a.prototype.load=function(a,b,c){var d=this;if(d.loading[a]&&0<d.loading[a].length)d.loading[a].push(c);else{d.loading[a]=[c];var h=l["default"].createScriptRequest(d.getPath(a,b)),k=d.receivers.create(function(b){if(d.receivers.remove(k),
d.loading[a]){var c=d.loading[a];delete d.loading[a];for(var m=function(a){a||h.cleanup()},n=0;n<c.length;n++)c[n](b,m)}});h.send(k)}},a.prototype.getRoot=function(a){var b,c=l["default"].getDocument().location.protocol;return b=a&&a.encrypted||"https:"===c?this.options.cdn_https:this.options.cdn_http,b.replace(/\/*$/,"")+"/"+this.options.version},a.prototype.getPath=function(a,b){return this.getRoot(b)+"/"+a+this.options.suffix+".js"},a}();d.__esModule=!0;d["default"]=b},function(b,d,c){var k=c(8),
l=c(2),a=c(14);d.__esModule=!0;d["default"]=function(b,c,d){var f;f=l["default"].createXHR();f.open("POST",this.options.authEndpoint,!0);f.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var h in this.authOptions.headers)f.setRequestHeader(h,this.authOptions.headers[h]);return f.onreadystatechange=function(){if(4===f.readyState)if(200===f.status){var b,c=!1;try{b=JSON.parse(f.responseText),c=!0}catch(e){d(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+
f.responseText)}c&&d(!1,b)}else b=a["default"].buildLogSuffix("authenticationEndpoint"),k["default"].warn("Couldn't retrieve authentication info. "+f.status+("Clients must be authenticated to join private or presence channels. "+b)),d(!0,f.status)},f.send(this.composeQuery(c)),f}},function(b,d,c){var k=c(9),l=c(1);d.__esModule=!0;d["default"]={debug:function(){for(var a=0;a<arguments.length;a++);l["default"].log&&l["default"].log(k.stringify.apply(this,arguments))},warn:function(){for(var a=0;a<arguments.length;a++);
a=k.stringify.apply(this,arguments);l["default"].log?l["default"].log(a):window.console&&(window.console.warn?window.console.warn(a):window.console.log&&window.console.log(a))}}},function(b,d,c){function k(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];for(c=0;c<b.length;c++){var e=b[c],d;for(d in e)e[d]&&e[d].constructor&&e[d].constructor===Object?a[d]=k(a[d]||{},e[d]):a[d]=e[d]}return a}function l(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(a[c],c,a)}function a(a,
b){for(var c=[],e=0;e<a.length;e++)c.push(b(a[e],e,a,c));return c}function e(a,b){var c={};return l(a,function(a,e){c[e]=b(a)}),c}function m(a,b){var c={};return l(a,function(e,d){(b&&b(e,d,a,c)||Boolean(e))&&(c[d]=e)}),c}function n(a){var b=[];return l(a,function(a,c){b.push([c,a])}),b}function f(a){return e(a,function(a){return"object"==typeof a&&(a=q(a)),encodeURIComponent(s["default"](a.toString()))})}function h(a){var b=[],c=[];return function C(a,e){var d,f,h;switch(typeof a){case "object":if(!a)return null;
for(d=0;d<b.length;d+=1)if(b[d]===a)return{$ref:c[d]};if(b.push(a),c.push(e),"[object Array]"===Object.prototype.toString.apply(a))for(h=[],d=0;d<a.length;d+=1)h[d]=C(a[d],e+"["+d+"]");else for(f in h={},a)Object.prototype.hasOwnProperty.call(a,f)&&(h[f]=C(a[f],e+"["+JSON.stringify(f)+"]"));return h;case "number":case "string":case "boolean":return a}}(a,"$")}function q(a){try{return JSON.stringify(a)}catch(b){return JSON.stringify(h(a))}}var s=c(10),r=c(11);d.extend=k;d.stringify=function(){for(var a=
["Pusher"],b=0;b<arguments.length;b++)"string"==typeof arguments[b]?a.push(arguments[b]):a.push(q(arguments[b]));return a.join(" : ")};d.arrayIndexOf=function(a,b){var c=Array.prototype.indexOf;if(null===a)return-1;if(c&&a.indexOf===c)return a.indexOf(b);for(var c=0,e=a.length;c<e;c++)if(a[c]===b)return c;return-1};d.objectApply=l;d.keys=function(a){var b=[];return l(a,function(a,c){b.push(c)}),b};d.values=function(a){var b=[];return l(a,function(a){b.push(a)}),b};d.apply=function(a,b,c){for(var e=
0;e<a.length;e++)b.call(c||window,a[e],e,a)};d.map=a;d.mapObject=e;d.filter=function(a,b){b=b||function(a){return!!a};for(var c=[],e=0;e<a.length;e++)b(a[e],e,a,c)&&c.push(a[e]);return c};d.filterObject=m;d.flatten=n;d.any=function(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c,a))return!0;return!1};d.all=function(a,b){for(var c=0;c<a.length;c++)if(!b(a[c],c,a))return!1;return!0};d.encodeParamsObject=f;d.buildQueryString=function(b){b=m(b,function(a){return void 0!==a});return a(n(f(b)),r["default"].method("join",
"\x3d")).join("\x26")};d.decycleObject=h;d.safeJSONStringify=q},function(b,d,c){d.__esModule=!0;d["default"]=function(a){return e(a.replace(/[^\x00-\x7F]/g,l))};var k=String.fromCharCode;for(b=0;64>b;b++)"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(b);var l=function(a){var b=a.charCodeAt(0);return 128>b?a:2048>b?k(192|b>>>6)+k(128|63&b):k(224|b>>>12&15)+k(128|b>>>6&63)+k(128|63&b)},a=function(a){var b=[0,2,1][a.length%3];a=a.charCodeAt(0)<<16|(1<a.length?a.charCodeAt(1):
0)<<8|(2<a.length?a.charCodeAt(2):0);return["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>18),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>12&63),2<=b?"\x3d":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6&63),1<=b?"\x3d":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&a)].join("")},e=window.btoa||function(b){return b.replace(/[\s\S]{1,3}/g,a)}},function(b,d,c){var k=c(12);
d.__esModule=!0;d["default"]={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(b){return new k.OneOffTimer(0,b)},method:function(b){for(var a=1;a<arguments.length;a++);var c=Array.prototype.slice.call(arguments,1);return function(a){return a[b].apply(a,c.concat(arguments))}}}},function(b,d,c){function k(a){window.clearTimeout(a)}function l(a){window.clearInterval(a)}var a=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=c(13);c=function(b){function c(a,d){b.call(this,setTimeout,k,a,function(a){return d(),null})}return a(c,b),c}(b["default"]);d.OneOffTimer=c;b=function(b){function c(a,d){b.call(this,setInterval,l,a,function(a){return d(),a})}return a(c,b),c}(b["default"]);d.PeriodicTimer=b},function(b,d){var c=function(){function b(c,a,e,d){var n=this;this.clear=a;this.timer=c(function(){n.timer&&(n.timer=d(n.timer))},e)}return b.prototype.isRunning=
function(){return null!==this.timer},b.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},b}();d.__esModule=!0;d["default"]=c},function(b,d){var c={authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"}};d.__esModule=!0;d["default"]={buildLogSuffix:function(b){b=c[b];if(!b)return"";var d;return b.fullUrl?d=b.fullUrl:b.path&&(d="https://pusher.com"+b.path),d?"See: "+d:""}}},function(b,d,c){var k=c(8);
d.__esModule=!0;d["default"]=function(b,a,c){void 0!==this.authOptions.headers&&k["default"].warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var d=b.nextAuthCallbackID.toString();b.nextAuthCallbackID++;var n=b.getDocument(),f=n.createElement("script");b.auth_callbacks[d]=function(a){c(!1,a)};f.src=this.options.authEndpoint+"?callback\x3d"+encodeURIComponent("Pusher.auth_callbacks['"+d+"']")+"\x26"+this.composeQuery(a);b=n.getElementsByTagName("head")[0]||
n.documentElement;b.insertBefore(f,b.firstChild)}},function(b,d){var c=function(){function b(c){this.src=c}return b.prototype.send=function(b){var a=this,c="Error loading "+a.src;a.script=document.createElement("script");a.script.id=b.id;a.script.src=a.src;a.script.type="text/javascript";a.script.charset="UTF-8";a.script.addEventListener?(a.script.onerror=function(){b.callback(c)},a.script.onload=function(){b.callback(null)}):a.script.onreadystatechange=function(){"loaded"!==a.script.readyState&&
"complete"!==a.script.readyState||b.callback(null)};void 0===a.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(a.errorScript=document.createElement("script"),a.errorScript.id=b.id+"_error",a.errorScript.text=b.name+"('"+c+"');",a.script.async=a.errorScript.async=!1):a.script.async=!0;var d=document.getElementsByTagName("head")[0];d.insertBefore(a.script,d.firstChild);a.errorScript&&d.insertBefore(a.errorScript,a.script.nextSibling)},b.prototype.cleanup=function(){this.script&&
(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null);this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script);this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript);this.errorScript=this.script=null},b}();d.__esModule=!0;d["default"]=c},function(b,d,c){var k=c(9),l=c(2);b=function(){function a(a,b){this.url=a;this.data=b}return a.prototype.send=function(a){if(!this.request){var b=k.buildQueryString(this.data);
this.request=l["default"].createScriptRequest(this.url+"/"+a.number+"?"+b);this.request.send(a)}},a.prototype.cleanup=function(){this.request&&this.request.cleanup()},a}();d.__esModule=!0;d["default"]=b},function(b,d,c){var k=c(2),l=c(4);d.__esModule=!0;d["default"]={name:"jsonp",getAgent:function(a,b){return function(c,d){var f=k["default"].createJSONPRequest("http"+(b?"s":"")+"://"+(a.host||a.options.host)+a.options.path,c),h=k["default"].ScriptReceivers.create(function(b,c){l.ScriptReceivers.remove(h);
f.cleanup();c&&c.host&&(a.host=c.host);d&&d(b,c)});f.send(h)}}}},function(b,d,c){b=c(20);var k=c(22),l=c(21),a=c(2),e=c(3);c=c(9);var l=new k["default"]({file:"sockjs",urls:l.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(a,b){return new window.SockJS(a,null,{js_path:e.Dependencies.getPath("sockjs",{encrypted:b.encrypted}),ignore_null_origin:b.ignoreNullOrigin})},beforeOpen:function(a,b){a.send(JSON.stringify({path:b}))}}),
m={isSupported:function(b){return a["default"].isXDRSupported(b.encrypted)}},n=new k["default"](c.extend({},b.streamingConfiguration,m)),k=new k["default"](c.extend({},b.pollingConfiguration,m));b["default"].xdr_streaming=n;b["default"].xdr_polling=k;b["default"].sockjs=l;d.__esModule=!0;d["default"]=b["default"]},function(b,d,c){var k=c(21);b=c(22);var l=c(9),a=c(2);c=new b["default"]({urls:k.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(a["default"].getWebSocketAPI())},
isSupported:function(){return Boolean(a["default"].getWebSocketAPI())},getSocket:function(b){return a["default"].createWebSocket(b)}});k={urls:k.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};d.streamingConfiguration=l.extend({getSocket:function(b){return a["default"].HTTPFactory.createStreamingSocket(b)}},k);d.pollingConfiguration=l.extend({getSocket:function(b){return a["default"].HTTPFactory.createPollingSocket(b)}},k);var e={isSupported:function(){return a["default"].isXHRSupported()}},
k=new b["default"](l.extend({},d.streamingConfiguration,e));b=new b["default"](l.extend({},d.pollingConfiguration,e));b={ws:c,xhr_streaming:k,xhr_polling:b};d.__esModule=!0;d["default"]=b},function(b,d,c){function k(a,b,c){return a+(b.encrypted?"s":"")+"://"+(b.encrypted?b.hostEncrypted:b.hostUnencrypted)+c}function l(b,c){return"/app/"+b+("?protocol\x3d"+a["default"].PROTOCOL+"\x26client\x3djs\x26version\x3d"+a["default"].VERSION+(c?"\x26"+c:""))}var a=c(5);d.ws={getInitial:function(a,b){var c=(b.httpPath||
"")+l(a,"flash\x3dfalse");return k("ws",b,c)}};d.http={getInitial:function(a,b){var c=(b.httpPath||"/pusher")+l(a);return k("http",b,c)}};d.sockjs={getInitial:function(a,b){return k("http",b,b.httpPath||"/pusher")},getPath:function(a,b){return l(a)}}},function(b,d,c){var k=c(23);b=function(){function b(a){this.hooks=a}return b.prototype.isSupported=function(a){return this.hooks.isSupported(a)},b.prototype.createConnection=function(a,b,c,d){return new k["default"](this.hooks,a,b,c,d)},b}();d.__esModule=
!0;d["default"]=b},function(b,d,c){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=c(11),a=c(9);b=c(24);var e=c(8),m=c(2);c=function(b){function c(a,e,d,f,l){b.call(this);this.initialize=m["default"].transportConnectionInitializer;this.hooks=a;this.name=e;this.priority=d;this.key=f;this.options=l;this.state="new";this.timeline=l.timeline;this.activityTimeout=
l.activityTimeout;this.id=this.timeline.generateUniqueID()}return k(c,b),c.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},c.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},c.prototype.connect=function(){var a=this;if(this.socket||"initialized"!==this.state)return!1;var b=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(b,this.options)}catch(c){return l["default"].defer(function(){a.onError(c);
a.changeState("closed")}),!1}return this.bindListeners(),e["default"].debug("Connecting",{transport:this.name,url:b}),this.changeState("connecting"),!0},c.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},c.prototype.send=function(a){var b=this;return"open"===this.state&&(l["default"].defer(function(){b.socket&&b.socket.send(a)}),!0)},c.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},c.prototype.onOpen=function(){this.hooks.beforeOpen&&
this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options));this.changeState("open");this.socket.onopen=void 0},c.prototype.onError=function(a){this.emit("error",{type:"WebSocketError",error:a});this.timeline.error(this.buildTimelineMessage({error:a.toString()}))},c.prototype.onClose=function(a){a?this.changeState("closed",{code:a.code,reason:a.reason,wasClean:a.wasClean}):this.changeState("closed");this.unbindListeners();this.socket=void 0},c.prototype.onMessage=function(a){this.emit("message",
a)},c.prototype.onActivity=function(){this.emit("activity")},c.prototype.bindListeners=function(){var a=this;this.socket.onopen=function(){a.onOpen()};this.socket.onerror=function(b){a.onError(b)};this.socket.onclose=function(b){a.onClose(b)};this.socket.onmessage=function(b){a.onMessage(b)};this.supportsPing()&&(this.socket.onactivity=function(){a.onActivity()})},c.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=
void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},c.prototype.changeState=function(a,b){this.state=a;this.timeline.info(this.buildTimelineMessage({state:a,params:b}));this.emit(a,b)},c.prototype.buildTimelineMessage=function(b){return a.extend({cid:this.id},b)},c}(b["default"]);d.__esModule=!0;d["default"]=c},function(b,d,c){var k=c(9),l=c(25);b=function(){function a(a){this.callbacks=new l["default"];this.global_callbacks=[];this.failThrough=a}return a.prototype.bind=function(a,b,c){return this.callbacks.add(a,
b,c),this},a.prototype.bind_global=function(a){return this.global_callbacks.push(a),this},a.prototype.unbind=function(a,b,c){return this.callbacks.remove(a,b,c),this},a.prototype.unbind_global=function(a){return a?(this.global_callbacks=k.filter(this.global_callbacks||[],function(b){return b!==a}),this):(this.global_callbacks=[],this)},a.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},a.prototype.emit=function(a,b){var c;for(c=0;c<this.global_callbacks.length;c++)this.global_callbacks[c](a,
b);var d=this.callbacks.get(a);if(d&&0<d.length)for(c=0;c<d.length;c++)d[c].fn.call(d[c].context||window,b);else this.failThrough&&this.failThrough(a,b);return this},a}();d.__esModule=!0;d["default"]=b},function(b,d,c){var k=c(9);b=function(){function b(){this._callbacks={}}return b.prototype.get=function(a){return this._callbacks["_"+a]},b.prototype.add=function(a,b,c){a="_"+a;this._callbacks[a]=this._callbacks[a]||[];this._callbacks[a].push({fn:b,context:c})},b.prototype.remove=function(a,b,c){if(!a&&
!b&&!c)return void(this._callbacks={});a=a?["_"+a]:k.keys(this._callbacks);b||c?this.removeCallback(a,b,c):this.removeAllCallbacks(a)},b.prototype.removeCallback=function(a,b,c){k.apply(a,function(a){this._callbacks[a]=k.filter(this._callbacks[a]||[],function(a){return b&&b!==a.fn||c&&c!==a.context});0===this._callbacks[a].length&&delete this._callbacks[a]},this)},b.prototype.removeAllCallbacks=function(a){k.apply(a,function(a){delete this._callbacks[a]},this)},b}();d.__esModule=!0;d["default"]=b},
function(b,d,c){var k=this&&this.__extends||function(b,a){function c(){this.constructor=b}for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)};b=function(b){function a(){b.call(this);var a=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){a.emit("online")},!1),window.addEventListener("offline",function(){a.emit("offline")},!1))}return k(a,b),a.prototype.isOnline=function(){return void 0===window.navigator.onLine||
window.navigator.onLine},a}(c(24)["default"]);d.NetInfo=b;d.Network=new b},function(b,d){d.__esModule=!0;d["default"]=function(b){var d;return d=b.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2E3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2E3,[":wss_loop"]],[":delayed",5E3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:b.wsHost+":"+b.wsPort,hostEncrypted:b.wsHost+":"+b.wssPort,httpPath:b.wsPath}],[":def","wss_options",[":extend",":ws_options",
{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:b.httpHost+":"+b.httpPort,hostEncrypted:b.httpHost+":"+b.httpsPort,httpPath:b.httpPath}],[":def","timeouts",{loop:!0,timeout:15E3,timeoutLimit:6E4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1E4,maxPingDelay:b.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1E4,maxPingDelay:b.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss",
"ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",
":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4E3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",
[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18E5,[":first_connected",[":if",[":is_supported",":ws"],d,":http_fallback_loop"]]]]]}},function(b,d,c){var k=c(3);d.__esModule=!0;d["default"]=function(){var b=this;b.timeline.info(b.buildTimelineMessage({transport:b.name+(b.options.encrypted?"s":"")}));b.hooks.isInitialized()?b.changeState("initialized"):b.hooks.file?(b.changeState("initializing"),k.Dependencies.load(b.hooks.file,{encrypted:b.options.encrypted},
function(a,c){b.hooks.isInitialized()?(b.changeState("initialized"),c(!0)):(a&&b.onError(a),b.onClose(),c(!1))})):b.onClose()}},function(b,d,c){var k=c(30);b=c(32);b["default"].createXDR=function(b,a){return this.createRequest(k["default"],b,a)};d.__esModule=!0;d["default"]=b["default"]},function(b,d,c){var k=c(31);d.__esModule=!0;d["default"]={getRequest:function(b){var a=new window.XDomainRequest;return a.ontimeout=function(){b.emit("error",new k.RequestTimedOut);b.close()},a.onerror=function(a){b.emit("error",
a);b.close()},a.onprogress=function(){a.responseText&&0<a.responseText.length&&b.onChunk(200,a.responseText)},a.onload=function(){a.responseText&&0<a.responseText.length&&b.onChunk(200,a.responseText);b.emit("finished",200);b.close()},a},abortRequest:function(b){b.ontimeout=b.onerror=b.onprogress=b.onload=null;b.abort()}}},function(b,d){var c=this&&this.__extends||function(b,a){function c(){this.constructor=b}for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d]);b.prototype=null===a?Object.create(a):(c.prototype=
a.prototype,new c)},k=function(b){function a(){b.apply(this,arguments)}return c(a,b),a}(Error);d.BadEventName=k;k=function(b){function a(){b.apply(this,arguments)}return c(a,b),a}(Error);d.RequestTimedOut=k;k=function(b){function a(){b.apply(this,arguments)}return c(a,b),a}(Error);d.TransportPriorityTooLow=k;k=function(b){function a(){b.apply(this,arguments)}return c(a,b),a}(Error);d.TransportClosed=k;k=function(b){function a(){b.apply(this,arguments)}return c(a,b),a}(Error);d.UnsupportedTransport=
k;k=function(b){function a(){b.apply(this,arguments)}return c(a,b),a}(Error);d.UnsupportedStrategy=k},function(b,d,c){var k=c(33),l=c(34),a=c(36),e=c(37),m=c(38);d.__esModule=!0;d["default"]={createStreamingSocket:function(b){return this.createSocket(a["default"],b)},createPollingSocket:function(a){return this.createSocket(e["default"],a)},createSocket:function(a,b){return new l["default"](a,b)},createXHR:function(a,b){return this.createRequest(m["default"],a,b)},createRequest:function(a,b,c){return new k["default"](a,
b,c)}}},function(b,d,c){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=c(2);b=function(a){function b(c,e,d){a.call(this);this.hooks=c;this.method=e;this.url=d}return k(b,a),b.prototype.start=function(a){var b=this;this.position=0;this.xhr=this.hooks.getRequest(this);this.unloader=function(){b.close()};l["default"].addUnloadListener(this.unloader);this.xhr.open(this.method,
this.url,!0);this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json");this.xhr.send(a)},b.prototype.close=function(){this.unloader&&(l["default"].removeUnloadListener(this.unloader),this.unloader=null);this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},b.prototype.onChunk=function(a,b){for(;;){var c=this.advanceBuffer(b);if(!c)break;this.emit("chunk",{status:a,data:c})}this.isBufferTooLong(b)&&this.emit("buffer_too_long")},b.prototype.advanceBuffer=function(a){a=
a.slice(this.position);var b=a.indexOf("\n");return-1!==b?(this.position+=b+1,a.slice(0,b)):null},b.prototype.isBufferTooLong=function(a){return this.position===a.length&&262144<a.length},b}(c(24)["default"]);d.__esModule=!0;d["default"]=b},function(b,d,c){function k(a){var b=-1===a.indexOf("?")?"?":"\x26";return a+b+"t\x3d"+ +new Date+"\x26n\x3d"+m++}var l=c(35),a=c(11),e=c(2),m=1;b=function(){function b(a,c){this.hooks=a;var e=Math.floor(1E3*Math.random())+"/",d;d=[];for(var m=0;8>m;m++)d.push(Math.floor(32*
Math.random()).toString(32));d=d.join("");this.session=e+d;e=/([^\?]*)\/*(\??.*)/.exec(c);this.location={base:e[1],queryString:e[2]};this.readyState=l["default"].CONNECTING;this.openStream()}return b.prototype.send=function(a){return this.sendRaw(JSON.stringify([a]))},b.prototype.ping=function(){this.hooks.sendHeartbeat(this)},b.prototype.close=function(a,b){this.onClose(a,b,!0)},b.prototype.sendRaw=function(a){if(this.readyState!==l["default"].OPEN)return!1;try{return e["default"].createSocketRequest("POST",
k(this.location.base+"/"+this.session+"/xhr_send")).start(a),!0}catch(b){return!1}},b.prototype.reconnect=function(){this.closeStream();this.openStream()},b.prototype.onClose=function(a,b,c){this.closeStream();this.readyState=l["default"].CLOSED;this.onclose&&this.onclose({code:a,reason:b,wasClean:c})},b.prototype.onChunk=function(a){if(200===a.status)switch(this.readyState===l["default"].OPEN&&this.onActivity(),a.data.slice(0,1)){case "o":a=JSON.parse(a.data.slice(1)||"{}");this.onOpen(a);break;
case "a":a=JSON.parse(a.data.slice(1)||"[]");for(var b=0;b<a.length;b++)this.onEvent(a[b]);break;case "m":a=JSON.parse(a.data.slice(1)||"null");this.onEvent(a);break;case "h":this.hooks.onHeartbeat(this);break;case "c":a=JSON.parse(a.data.slice(1)||"[]"),this.onClose(a[0],a[1],!0)}},b.prototype.onOpen=function(a){if(this.readyState===l["default"].CONNECTING){if(a&&a.hostname){var b=this.location;a=a.hostname;var c=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(this.location.base);b.base=c[1]+a+c[3]}this.readyState=
l["default"].OPEN;this.onopen&&this.onopen()}else this.onClose(1006,"Server lost session",!0)},b.prototype.onEvent=function(a){this.readyState===l["default"].OPEN&&this.onmessage&&this.onmessage({data:a})},b.prototype.onActivity=function(){this.onactivity&&this.onactivity()},b.prototype.onError=function(a){this.onerror&&this.onerror(a)},b.prototype.openStream=function(){var b=this;this.stream=e["default"].createSocketRequest("POST",k(this.hooks.getReceiveURL(this.location,this.session)));this.stream.bind("chunk",
function(a){b.onChunk(a)});this.stream.bind("finished",function(a){b.hooks.onFinished(b,a)});this.stream.bind("buffer_too_long",function(){b.reconnect()});try{this.stream.start()}catch(c){a["default"].defer(function(){b.onError(c);b.onClose(1006,"Could not start streaming",!1)})}},b.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},b}();d.__esModule=!0;d["default"]=b},function(b,d){var c,k=c||(c={});k[k.CONNECTING=0]="CONNECTING";k[k.OPEN=
1]="OPEN";k[k.CLOSED=3]="CLOSED";!0;d.__esModule=!0;d["default"]=c},function(b,d){d.__esModule=!0;d["default"]={getReceiveURL:function(b,d){return b.base+"/"+d+"/xhr_streaming"+b.queryString},onHeartbeat:function(b){b.sendRaw("[]")},sendHeartbeat:function(b){b.sendRaw("[]")},onFinished:function(b,d){b.onClose(1006,"Connection interrupted ("+d+")",!1)}}},function(b,d){d.__esModule=!0;d["default"]={getReceiveURL:function(b,d){return b.base+"/"+d+"/xhr"+b.queryString},onHeartbeat:function(){},sendHeartbeat:function(b){b.sendRaw("[]")},
onFinished:function(b,d){200===d?b.reconnect():b.onClose(1006,"Connection interrupted ("+d+")",!1)}}},function(b,d,c){var k=c(2);d.__esModule=!0;d["default"]={getRequest:function(b){var a=new (k["default"].getXHRAPI());return a.onreadystatechange=a.onprogress=function(){switch(a.readyState){case 3:a.responseText&&0<a.responseText.length&&b.onChunk(a.status,a.responseText);break;case 4:a.responseText&&0<a.responseText.length&&b.onChunk(a.status,a.responseText),b.emit("finished",a.status),b.close()}},
a},abortRequest:function(b){b.onreadystatechange=null;b.abort()}}},function(b,d,c){var k=c(9),l=c(11),a=c(40);b=function(){function b(a,c,d){this.key=a;this.session=c;this.events=[];this.options=d||{};this.uniqueID=this.sent=0}return b.prototype.log=function(a,b){a<=this.options.level&&(this.events.push(k.extend({},b,{timestamp:l["default"].now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},b.prototype.error=function(b){this.log(a["default"].ERROR,b)},b.prototype.info=
function(b){this.log(a["default"].INFO,b)},b.prototype.debug=function(b){this.log(a["default"].DEBUG,b)},b.prototype.isEmpty=function(){return 0===this.events.length},b.prototype.send=function(a,b){var c=this,d=k.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],a(d,function(a,d){a||c.sent++;b&&b(a,d)}),!0},b.prototype.generateUniqueID=
function(){return this.uniqueID++,this.uniqueID},b}();d.__esModule=!0;d["default"]=b},function(b,d){var c,k=c||(c={});k[k.ERROR=3]="ERROR";k[k.INFO=6]="INFO";k[k.DEBUG=7]="DEBUG";!0;d.__esModule=!0;d["default"]=c},function(b,d,c){function k(a){return function(b){return[a.apply(this,arguments),b]}}function l(a){return"string"==typeof a&&":"===a.charAt(0)}function a(b,c){if(0===b.length)return[[],c];var d=m(b[0],c),e=a(b.slice(1),d[1]);return[[d[0]].concat(e[0]),e[1]]}function e(b,c){if(l(b[0])){var d=
c[b[0].slice(1)];if(1<b.length){if("function"!=typeof d)throw"Calling non-function "+b[0];var e=[n.extend({},c)].concat(n.map(b.slice(1),function(a){return m(a,n.extend({},c))[0]}));return d.apply(this,e)}return[d,c]}return a(b,c)}function m(a,b){var c;if("string"==typeof a)if(l(a)){c=b[a.slice(1)];if(void 0===c)throw"Undefined symbol "+a;c=[c,b]}else c=[a,b];else c="object"==typeof a&&a instanceof Array&&0<a.length?e(a,b):[a,b];return c}var n=c(9),f=c(11),h=c(42),q=c(31),s=c(56),r=c(57),B=c(58),
y=c(59),v=c(60),u=c(61),C=c(62),A=c(2)["default"].Transports;d.build=function(a,b){var c=n.extend({},G,b);return m(a,c)[1].strategy};var t={isSupported:function(){return!1},connect:function(a,b){var c=f["default"].defer(function(){b(new q.UnsupportedStrategy)});return{abort:function(){c.ensureAborted()},forceMinPriority:function(){}}}},G={extend:function(a,b,c){return[n.extend({},b,c),a]},def:function(a,b,c){if(void 0!==a[b])throw"Redefining symbol "+b;return a[b]=c,[void 0,a]},def_transport:function(a,
b,c,d,e,f){var h=A[c];if(!h)throw new q.UnsupportedTransport(c);c=a.enabledTransports&&-1===n.arrayIndexOf(a.enabledTransports,b)||a.disabledTransports&&-1!==n.arrayIndexOf(a.disabledTransports,b)?t:new s["default"](b,d,f?f.getAssistant(h):h,n.extend({key:a.key,encrypted:a.encrypted,timeline:a.timeline,ignoreNullOrigin:a.ignoreNullOrigin},e));d=a.def(a,b,c)[1];return d.Transports=a.Transports||{},d.Transports[b]=c,[void 0,d]},transport_manager:k(function(a,b){return new h["default"](b)}),sequential:k(function(a,
b){var c=Array.prototype.slice.call(arguments,2);return new r["default"](c,b)}),cached:k(function(a,b,c){return new y["default"](c,a.Transports,{ttl:b,timeline:a.timeline,encrypted:a.encrypted})}),first_connected:k(function(a,b){return new C["default"](b)}),best_connected_ever:k(function(){var a=Array.prototype.slice.call(arguments,1);return new B["default"](a)}),delayed:k(function(a,b,c){return new v["default"](c,{delay:b})}),"if":k(function(a,b,c,d){return new u["default"](b,c,d)}),is_supported:k(function(a,
b){return function(){return b.isSupported()}})}},function(b,d,c){var k=c(43);b=function(){function b(a){this.options=a||{};this.livesLeft=this.options.lives||1/0}return b.prototype.getAssistant=function(a){return k["default"].createAssistantToTheTransportManager(this,a,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},b.prototype.isAlive=function(){return 0<this.livesLeft},b.prototype.reportDeath=function(){this.livesLeft-=1},b}();d.__esModule=!0;d["default"]=b},function(b,
d,c){var k=c(44),l=c(45),a=c(48),e=c(49),m=c(50),n=c(51),f=c(52),h=c(54),q=c(55);d.__esModule=!0;d["default"]={createChannels:function(){return new q["default"]},createConnectionManager:function(a,b){return new h["default"](a,b)},createChannel:function(a,b){return new f["default"](a,b)},createPrivateChannel:function(a,b){return new n["default"](a,b)},createPresenceChannel:function(a,b){return new m["default"](a,b)},createTimelineSender:function(a,b){return new e["default"](a,b)},createAuthorizer:function(b,
c){return c.authorizer?c.authorizer(b,c):new a["default"](b,c)},createHandshake:function(a,b){return new l["default"](a,b)},createAssistantToTheTransportManager:function(a,b,c){return new k["default"](a,b,c)}}},function(b,d,c){var k=c(11),l=c(9);b=function(){function a(a,b,c){this.manager=a;this.transport=b;this.minPingDelay=c.minPingDelay;this.maxPingDelay=c.maxPingDelay;this.pingDelay=void 0}return a.prototype.createConnection=function(a,b,c,d){var h=this;d=l.extend({},d,{activityTimeout:this.pingDelay});
var q=this.transport.createConnection(a,b,c,d),s=null,r=function(){q.unbind("open",r);q.bind("closed",B);s=k["default"].now()},B=function(a){(q.unbind("closed",B),1002===a.code||1003===a.code)?h.manager.reportDeath():!a.wasClean&&s&&(a=k["default"].now()-s,a<2*h.maxPingDelay&&(h.manager.reportDeath(),h.pingDelay=Math.max(a/2,h.minPingDelay)))};return q.bind("open",r),q},a.prototype.isSupported=function(a){return this.manager.isAlive()&&this.transport.isSupported(a)},a}();d.__esModule=!0;d["default"]=
b},function(b,d,c){var k=c(9),l=c(46),a=c(47);b=function(){function b(a,c){this.transport=a;this.callback=c;this.bindListeners()}return b.prototype.close=function(){this.unbindListeners();this.transport.close()},b.prototype.bindListeners=function(){var b=this;this.onMessage=function(c){b.unbindListeners();var d;try{d=l.processHandshake(c)}catch(e){return b.finish("error",{error:e}),void b.transport.close()}"connected"===d.action?b.finish("connected",{connection:new a["default"](d.id,b.transport),
activityTimeout:d.activityTimeout}):(b.finish(d.action,{error:d.error}),b.transport.close())};this.onClosed=function(a){b.unbindListeners();var c=l.getCloseAction(a)||"backoff";a=l.getCloseError(a);b.finish(c,{error:a})};this.transport.bind("message",this.onMessage);this.transport.bind("closed",this.onClosed)},b.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage);this.transport.unbind("closed",this.onClosed)},b.prototype.finish=function(a,b){this.callback(k.extend({transport:this.transport,
action:a},b))},b}();d.__esModule=!0;d["default"]=b},function(b,d){d.decodeMessage=function(b){try{var d=JSON.parse(b.data);if("string"==typeof d.data)try{d.data=JSON.parse(d.data)}catch(l){if(!(l instanceof SyntaxError))throw l;}return d}catch(a){throw{type:"MessageParseError",error:a,data:b.data};}};d.encodeMessage=function(b){return JSON.stringify(b)};d.processHandshake=function(b){if(b=d.decodeMessage(b),"pusher:connection_established"===b.event){if(!b.data.activity_timeout)throw"No activity timeout specified in handshake";
return{action:"connected",id:b.data.socket_id,activityTimeout:1E3*b.data.activity_timeout}}if("pusher:error"===b.event)return{action:this.getCloseAction(b.data),error:this.getCloseError(b.data)};throw"Invalid handshake";};d.getCloseAction=function(b){return 4E3>b.code?1002<=b.code&&1004>=b.code?"backoff":null:4E3===b.code?"ssl_only":4100>b.code?"refused":4200>b.code?"backoff":4300>b.code?"retry":"refused"};d.getCloseError=function(b){return 1E3!==b.code&&1001!==b.code?{type:"PusherError",data:{code:b.code,
message:b.reason||b.message}}:null}},function(b,d,c){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=c(9);b=c(24);var a=c(46),e=c(8);c=function(b){function c(a,d){b.call(this);this.id=a;this.transport=d;this.activityTimeout=d.activityTimeout;this.bindListeners()}return k(c,b),c.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},
c.prototype.send=function(a){return this.transport.send(a)},c.prototype.send_event=function(b,c,d){b={event:b,data:c};return d&&(b.channel=d),e["default"].debug("Event sent",b),this.send(a.encodeMessage(b))},c.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},c.prototype.close=function(){this.transport.close()},c.prototype.bindListeners=function(){var b=this,c={message:function(c){var d;try{d=a.decodeMessage(c)}catch(h){b.emit("error",
{type:"MessageParseError",error:h,data:c.data})}if(void 0!==d){switch(e["default"].debug("Event recd",d),d.event){case "pusher:error":b.emit("error",{type:"PusherError",data:d.data});break;case "pusher:ping":b.emit("ping");break;case "pusher:pong":b.emit("pong")}b.emit("message",d)}},activity:function(){b.emit("activity")},error:function(a){b.emit("error",{type:"WebSocketError",error:a})},closed:function(a){d();a&&a.code&&b.handleCloseEvent(a);b.transport=null;b.emit("closed")}},d=function(){l.objectApply(c,
function(a,c){b.transport.unbind(c,a)})};l.objectApply(c,function(a,c){b.transport.bind(c,a)})},c.prototype.handleCloseEvent=function(b){var c=a.getCloseAction(b);(b=a.getCloseError(b))&&this.emit("error",b);c&&this.emit(c)},c}(b["default"]);d.__esModule=!0;d["default"]=c},function(b,d,c){var k=c(2);b=function(){function b(a,c){this.channel=a;var d=c.authTransport;if("undefined"==typeof k["default"].getAuthorizers()[d])throw"'"+d+"' is not a recognized auth transport";this.type=d;this.options=c;this.authOptions=
(c||{}).auth||{}}return b.prototype.composeQuery=function(a){a="socket_id\x3d"+encodeURIComponent(a)+"\x26channel_name\x3d"+encodeURIComponent(this.channel.name);for(var b in this.authOptions.params)a+="\x26"+encodeURIComponent(b)+"\x3d"+encodeURIComponent(this.authOptions.params[b]);return a},b.prototype.authorize=function(a,c){return b.authorizers=b.authorizers||k["default"].getAuthorizers(),b.authorizers[this.type].call(this,k["default"],a,c)},b}();d.__esModule=!0;d["default"]=b},function(b,d,
c){var k=c(2);b=function(){function b(a,c){this.timeline=a;this.options=c||{}}return b.prototype.send=function(a,b){this.timeline.isEmpty()||this.timeline.send(k["default"].TimelineTransport.getAgent(this,a),b)},b}();d.__esModule=!0;d["default"]=b},function(b,d,c){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=c(51),a=c(8),e=c(53),m=c(14);b=function(b){function c(a,
d){b.call(this,a,d);this.members=new e["default"]}return k(c,b),c.prototype.authorize=function(c,d){var e=this;b.prototype.authorize.call(this,c,function(b,c){if(!b){if(void 0===c.channel_data){var f=m["default"].buildLogSuffix("authenticationEndpoint");return a["default"].warn("Invalid auth response for channel '"+e.name+"',expected 'channel_data' field. "+f),void d("Invalid auth response")}f=JSON.parse(c.channel_data);e.members.setMyID(f.user_id)}d(b,c)})},c.prototype.handleEvent=function(a,b){switch(a){case "pusher_internal:subscription_succeeded":this.subscriptionPending=
!1;this.subscribed=!0;this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(b),this.emit("pusher:subscription_succeeded",this.members));break;case "pusher_internal:member_added":var c=this.members.addMember(b);this.emit("pusher:member_added",c);break;case "pusher_internal:member_removed":(c=this.members.removeMember(b))&&this.emit("pusher:member_removed",c);break;default:l["default"].prototype.handleEvent.call(this,a,b)}},c.prototype.disconnect=function(){this.members.reset();
b.prototype.disconnect.call(this)},c}(l["default"]);d.__esModule=!0;d["default"]=b},function(b,d,c){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=c(43);b=function(a){function b(){a.apply(this,arguments)}return k(b,a),b.prototype.authorize=function(a,b){return l["default"].createAuthorizer(this,this.pusher.config).authorize(a,b)},b}(c(52)["default"]);
d.__esModule=!0;d["default"]=b},function(b,d,c){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=c(24);var l=c(31),a=c(8);c=function(b){function c(d,f){b.call(this,function(b,c){a["default"].debug("No callbacks on "+d+" for "+b)});this.name=d;this.pusher=f;this.subscriptionCancelled=this.subscriptionPending=this.subscribed=!1}return k(c,b),c.prototype.authorize=
function(a,b){return b(!1,{})},c.prototype.trigger=function(a,b){if(0!==a.indexOf("client-"))throw new l.BadEventName("Event '"+a+"' does not start with 'client-'");return this.pusher.send_event(a,b,this.name)},c.prototype.disconnect=function(){this.subscriptionPending=this.subscribed=!1},c.prototype.handleEvent=function(a,b){0===a.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===a&&(this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):
this.emit("pusher:subscription_succeeded",b)):this.emit(a,b)},c.prototype.subscribe=function(){var a=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(b,c){b?a.handleEvent("pusher:subscription_error",c):a.pusher.send_event("pusher:subscribe",{auth:c.auth,channel_data:c.channel_data,channel:a.name})}))},c.prototype.unsubscribe=function(){this.subscribed=!1;this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},
c.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},c.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},c}(b["default"]);d.__esModule=!0;d["default"]=c},function(b,d,c){var k=c(9);b=function(){function b(){this.reset()}return b.prototype.get=function(a){return Object.prototype.hasOwnProperty.call(this.members,a)?{id:a,info:this.members[a]}:null},b.prototype.each=function(a){var b=this;k.objectApply(this.members,function(c,d){a(b.get(d))})},b.prototype.setMyID=
function(a){this.myID=a},b.prototype.onSubscription=function(a){this.members=a.presence.hash;this.count=a.presence.count;this.me=this.get(this.myID)},b.prototype.addMember=function(a){return null===this.get(a.user_id)&&this.count++,this.members[a.user_id]=a.user_info,this.get(a.user_id)},b.prototype.removeMember=function(a){var b=this.get(a.user_id);return b&&(delete this.members[a.user_id],this.count--),b},b.prototype.reset=function(){this.members={};this.count=0;this.me=this.myID=null},b}();d.__esModule=
!0;d["default"]=b},function(b,d,c){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=c(24);var l=c(12),a=c(8),e=c(9),m=c(2);c=function(b){function c(a,d){var e=this;b.call(this);this.key=a;this.options=d||{};this.state="initialized";this.connection=null;this.encrypted=!!d.encrypted;this.timeline=this.options.timeline;this.connectionCallbacks=this.buildConnectionCallbacks();
this.errorCallbacks=this.buildErrorCallbacks();this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var f=m["default"].getNetwork();f.bind("online",function(){e.timeline.info({netinfo:"online"});"connecting"!==e.state&&"unavailable"!==e.state||e.retryIn(0)});f.bind("offline",function(){e.timeline.info({netinfo:"offline"});e.connection&&e.sendActivityCheck()});this.updateStrategy()}return k(c,b),c.prototype.connect=function(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported())return void this.updateState("failed");
this.updateState("connecting");this.startConnecting();this.setUnavailableTimer()}},c.prototype.send=function(a){return!!this.connection&&this.connection.send(a)},c.prototype.send_event=function(a,b,c){return!!this.connection&&this.connection.send_event(a,b,c)},c.prototype.disconnect=function(){this.disconnectInternally();this.updateState("disconnected")},c.prototype.isEncrypted=function(){return this.encrypted},c.prototype.startConnecting=function(){var a=this,b=function(c,d){c?a.runner=a.strategy.connect(0,
b):"error"===d.action?(a.emit("error",{type:"HandshakeError",error:d.error}),a.timeline.error({handshakeError:d.error})):(a.abortConnecting(),a.handshakeCallbacks[d.action](d))};this.runner=this.strategy.connect(0,b)},c.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},c.prototype.disconnectInternally=function(){(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection)&&this.abandonConnection().close()},c.prototype.updateStrategy=
function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},c.prototype.retryIn=function(a){var b=this;this.timeline.info({action:"retry",delay:a});0<a&&this.emit("connecting_in",Math.round(a/1E3));this.retryTimer=new l.OneOffTimer(a||0,function(){b.disconnectInternally();b.connect()})},c.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},c.prototype.setUnavailableTimer=function(){var a=
this;this.unavailableTimer=new l.OneOffTimer(this.options.unavailableTimeout,function(){a.updateState("unavailable")})},c.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},c.prototype.sendActivityCheck=function(){var a=this;this.stopActivityCheck();this.connection.ping();this.activityTimer=new l.OneOffTimer(this.options.pongTimeout,function(){a.timeline.error({pong_timed_out:a.options.pongTimeout});a.retryIn(0)})},c.prototype.resetActivityCheck=
function(){var a=this;this.stopActivityCheck();this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new l.OneOffTimer(this.activityTimeout,function(){a.sendActivityCheck()}))},c.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},c.prototype.buildConnectionCallbacks=function(){var a=this;return{message:function(b){a.resetActivityCheck();a.emit("message",b)},ping:function(){a.send_event("pusher:pong",{})},activity:function(){a.resetActivityCheck()},
error:function(b){a.emit("error",{type:"WebSocketError",error:b})},closed:function(){a.abandonConnection();a.shouldRetry()&&a.retryIn(1E3)}}},c.prototype.buildHandshakeCallbacks=function(a){var b=this;return e.extend({},a,{connected:function(a){b.activityTimeout=Math.min(b.options.activityTimeout,a.activityTimeout,a.connection.activityTimeout||1/0);b.clearUnavailableTimer();b.setConnection(a.connection);b.socket_id=b.connection.id;b.updateState("connected",{socket_id:b.socket_id})}})},c.prototype.buildErrorCallbacks=
function(){var a=this,b=function(b){return function(c){c.error&&a.emit("error",{type:"WebSocketError",error:c.error});b(c)}};return{ssl_only:b(function(){a.encrypted=!0;a.updateStrategy();a.retryIn(0)}),refused:b(function(){a.disconnect()}),backoff:b(function(){a.retryIn(1E3)}),retry:b(function(){a.retryIn(0)})}},c.prototype.setConnection=function(a){this.connection=a;for(var b in this.connectionCallbacks)this.connection.bind(b,this.connectionCallbacks[b]);this.resetActivityCheck()},c.prototype.abandonConnection=
function(){if(this.connection){this.stopActivityCheck();for(var a in this.connectionCallbacks)this.connection.unbind(a,this.connectionCallbacks[a]);a=this.connection;return this.connection=null,a}},c.prototype.updateState=function(b,c){var d=this.state;if(this.state=b,d!==b){var e=b;"connected"===e&&(e+=" with new socket ID "+c.socket_id);a["default"].debug("State changed",d+" -\x3e "+e);this.timeline.info({state:b,params:c});this.emit("state_change",{previous:d,current:b});this.emit(b,c)}},c.prototype.shouldRetry=
function(){return"connecting"===this.state||"connected"===this.state},c}(b["default"]);d.__esModule=!0;d["default"]=c},function(b,d,c){var k=c(9),l=c(43);b=function(){function a(){this.channels={}}return a.prototype.add=function(a,b){if(!this.channels[a]){var c=this.channels,d;d=0===a.indexOf("private-")?l["default"].createPrivateChannel(a,b):0===a.indexOf("presence-")?l["default"].createPresenceChannel(a,b):l["default"].createChannel(a,b);c[a]=d}return this.channels[a]},a.prototype.all=function(){return k.values(this.channels)},
a.prototype.find=function(a){return this.channels[a]},a.prototype.remove=function(a){var b=this.channels[a];return delete this.channels[a],b},a.prototype.disconnect=function(){k.objectApply(this.channels,function(a){a.disconnect()})},a}();d.__esModule=!0;d["default"]=b},function(b,d,c){function k(b,c){return a["default"].defer(function(){c(b)}),{abort:function(){},forceMinPriority:function(){}}}var l=c(43),a=c(11),e=c(31),m=c(9);b=function(){function a(b,c,d,e){this.name=b;this.priority=c;this.transport=
d;this.options=e||{}}return a.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},a.prototype.connect=function(a,b){var c=this;if(!this.isSupported())return k(new e.UnsupportedStrategy,b);if(this.priority<a)return k(new e.TransportPriorityTooLow,b);var d=!1,n=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),B=null,y=function(){n.unbind("initialized",y);n.connect()},v=function(){B=l["default"].createHandshake(n,
function(a){d=!0;A();b(null,a)})},u=function(a){A();b(a)},C=function(){A();var a;a=m.safeJSONStringify(n);b(new e.TransportClosed(a))},A=function(){n.unbind("initialized",y);n.unbind("open",v);n.unbind("error",u);n.unbind("closed",C)};return n.bind("initialized",y),n.bind("open",v),n.bind("error",u),n.bind("closed",C),n.initialize(),{abort:function(){d||(A(),B?B.close():n.close())},forceMinPriority:function(a){d||c.priority<a&&(B?B.close():n.close())}}},a}();d.__esModule=!0;d["default"]=b},function(b,
d,c){var k=c(9),l=c(11),a=c(12);b=function(){function b(a,c){this.strategies=a;this.loop=Boolean(c.loop);this.failFast=Boolean(c.failFast);this.timeout=c.timeout;this.timeoutLimit=c.timeoutLimit}return b.prototype.isSupported=function(){return k.any(this.strategies,l["default"].method("isSupported"))},b.prototype.connect=function(a,b){var c=this,d=this.strategies,e=0,k=this.timeout,l=null,B=function(y,v){v?b(null,v):(e+=1,c.loop&&(e%=d.length),e<d.length?(k&&(k*=2,c.timeoutLimit&&(k=Math.min(k,c.timeoutLimit))),
l=c.tryStrategy(d[e],a,{timeout:k,failFast:c.failFast},B)):b(!0))};return l=this.tryStrategy(d[e],a,{timeout:k,failFast:this.failFast},B),{abort:function(){l.abort()},forceMinPriority:function(b){a=b;l&&l.forceMinPriority(b)}}},b.prototype.tryStrategy=function(b,c,d,e){var k=null,l=null;return 0<d.timeout&&(k=new a.OneOffTimer(d.timeout,function(){l.abort();e(!0)})),l=b.connect(c,function(a,b){a&&k&&k.isRunning()&&!d.failFast||(k&&k.ensureAborted(),e(a,b))}),{abort:function(){k&&k.ensureAborted();
l.abort()},forceMinPriority:function(a){l.forceMinPriority(a)}}},b}();d.__esModule=!0;d["default"]=b},function(b,d,c){function k(b,c,d){var k=e.map(b,function(a,b,e,k){return a.connect(c,d(b,k))});return{abort:function(){e.apply(k,a)},forceMinPriority:function(a){e.apply(k,function(b){b.forceMinPriority(a)})}}}function l(a){return e.all(a,function(a){return Boolean(a.error)})}function a(a){a.error||a.aborted||(a.abort(),a.aborted=!0)}var e=c(9),m=c(11);b=function(){function a(b){this.strategies=b}
return a.prototype.isSupported=function(){return e.any(this.strategies,m["default"].method("isSupported"))},a.prototype.connect=function(a,b){return k(this.strategies,a,function(a,c){return function(d,f){return c[a].error=d,d?void(l(c)&&b(!0)):(e.apply(c,function(a){a.forceMinPriority(f.transport.priority)}),void b(null,f))}})},a}();d.__esModule=!0;d["default"]=b},function(b,d,c){function k(a){return"pusherTransport"+(a?"Encrypted":"Unencrypted")}function l(b){var c=m["default"].getLocalStorage();
if(c)try{var d=c[k(b)];if(d)return JSON.parse(d)}catch(e){a(b)}return null}function a(a){var b=m["default"].getLocalStorage();if(b)try{delete b[k(a)]}catch(c){}}var e=c(11),m=c(2),n=c(57),f=c(9);b=function(){function b(a,c,d){this.strategy=a;this.transports=c;this.ttl=d.ttl||18E5;this.encrypted=d.encrypted;this.timeline=d.timeline}return b.prototype.isSupported=function(){return this.strategy.isSupported()},b.prototype.connect=function(b,c){var d=this.encrypted,h=l(d),y=[this.strategy];if(h&&h.timestamp+
this.ttl>=e["default"].now()){var v=this.transports[h.transport];v&&(this.timeline.info({cached:!0,transport:h.transport,latency:h.latency}),y.push(new n["default"]([v],{timeout:2*h.latency+1E3,failFast:!0})))}var u=e["default"].now(),C=y.pop().connect(b,function t(h,l){if(h)a(d),0<y.length?(u=e["default"].now(),C=y.pop().connect(b,t)):c(h);else{var n=l.transport.name,Q=e["default"].now()-u,w=m["default"].getLocalStorage();if(w)try{w[k(d)]=f.safeJSONStringify({timestamp:e["default"].now(),transport:n,
latency:Q})}catch(K){}c(null,l)}});return{abort:function(){C.abort()},forceMinPriority:function(a){b=a;C&&C.forceMinPriority(a)}}},b}();d.__esModule=!0;d["default"]=b},function(b,d,c){var k=c(12);b=function(){function b(a,c){var d=c.delay;this.strategy=a;this.options={delay:d}}return b.prototype.isSupported=function(){return this.strategy.isSupported()},b.prototype.connect=function(a,b){var c,d=this.strategy,f=new k.OneOffTimer(this.options.delay,function(){c=d.connect(a,b)});return{abort:function(){f.ensureAborted();
c&&c.abort()},forceMinPriority:function(b){a=b;c&&c.forceMinPriority(b)}}},b}();d.__esModule=!0;d["default"]=b},function(b,d){var c=function(){function b(c,a,d){this.test=c;this.trueBranch=a;this.falseBranch=d}return b.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},b.prototype.connect=function(b,a){return(this.test()?this.trueBranch:this.falseBranch).connect(b,a)},b}();d.__esModule=!0;d["default"]=c},function(b,d){var c=function(){function b(c){this.strategy=
c}return b.prototype.isSupported=function(){return this.strategy.isSupported()},b.prototype.connect=function(b,a){var c=this.strategy.connect(b,function(b,d){d&&c.abort();a(b,d)});return c},b}();d.__esModule=!0;d["default"]=c},function(b,d,c){var k=c(5);d.getGlobalConfig=function(){return{wsHost:k["default"].host,wsPort:k["default"].ws_port,wssPort:k["default"].wss_port,wsPath:k["default"].ws_path,httpHost:k["default"].sockjs_host,httpPort:k["default"].sockjs_http_port,httpsPort:k["default"].sockjs_https_port,
httpPath:k["default"].sockjs_path,statsHost:k["default"].stats_host,authEndpoint:k["default"].channel_auth_endpoint,authTransport:k["default"].channel_auth_transport,activity_timeout:k["default"].activity_timeout,pong_timeout:k["default"].pong_timeout,unavailable_timeout:k["default"].unavailable_timeout}};d.getClusterConfig=function(b){return{wsHost:"ws-"+b+".pusher.com",httpHost:"sockjs-"+b+".pusher.com"}}}])});"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);
"undefined"!==typeof define&&"undefined"!==typeof define.amd&&(amdOriginal=define.amd,define.amd=null);
(function(b,d){"function"===typeof define&&define.amd?define("sifter",d):"object"===typeof exports?module.exports=d():b.Sifter=d()})(this,function(){var b=function(a,b){this.items=a;this.settings=b||{diacritics:!0}};b.prototype.tokenize=function(a){a=(String(a||"").toLowerCase()+"").replace(/^\s+|\s+$|/g,"");if(!a||!a.length)return[];var b,c,d,h=[],k=a.split(/ +/);a=0;for(b=k.length;a<b;a++){c=(k[a]+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");if(this.settings.diacritics)for(d in l)l.hasOwnProperty(d)&&
(c=c.replace(new RegExp(d,"g"),l[d]));h.push({string:k[a],regex:new RegExp(c,"i")})}return h};b.prototype.iterator=function(a,b){(k(a)?Array.prototype.forEach||function(a){for(var b=0,c=this.length;b<c;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)}).apply(a,[b])};b.prototype.getScoreFunction=function(a,b){var c,d,h;a=this.prepareSearch(a,b);d=a.tokens;c=a.options.fields;h=d.length;var k=function(a,b){var c,d;if(!a)return 0;a=String(a||"");d=a.search(b.regex);
if(-1===d)return 0;c=b.string.length/a.length;0===d&&(c+=.5);return c},l=function(){var a=c.length;return a?1===a?function(a,b){return k(b[c[0]],a)}:function(b,d){for(var e=0,f=0;e<a;e++)f+=k(d[c[e]],b);return f/a}:function(){return 0}}();return h?1===h?function(a){return l(d[0],a)}:"and"===a.options.conjunction?function(a){for(var b,c=0,e=0;c<h;c++){b=l(d[c],a);if(0>=b)return 0;e+=b}return e/h}:function(a){for(var b=0,c=0;b<h;b++)c+=l(d[b],a);return c/h}:function(){return 0}};b.prototype.getSortFunction=
function(a,b){var c,f,h,k,l,r,B,y,v,u;h=this;a=h.prepareSearch(a,b);u=!a.query&&b.sort_empty||b.sort;v=function(a,b){return"$score"===a?b.score:h.items[b.id][a]};l=[];if(u)for(c=0,f=u.length;c<f;c++)(a.query||"$score"!==u[c].field)&&l.push(u[c]);if(a.query){u=!0;c=0;for(f=l.length;c<f;c++)if("$score"===l[c].field){u=!1;break}u&&l.unshift({field:"$score",direction:"desc"})}else for(c=0,f=l.length;c<f;c++)if("$score"===l[c].field){l.splice(c,1);break}y=[];c=0;for(f=l.length;c<f;c++)y.push("desc"===
l[c].direction?-1:1);return(r=l.length)?1===r?(k=l[0].field,B=y[0],function(a,b){return B*d(v(k,a),v(k,b))}):function(a,b){var c,e;for(c=0;c<r;c++)if(e=l[c].field,e=y[c]*d(v(e,a),v(e,b)))return e;return 0}:null};b.prototype.prepareSearch=function(a,b){if("object"===typeof a)return a;b=c({},b);var d=b.fields,f=b.sort,h=b.sort_empty;d&&!k(d)&&(b.fields=[d]);f&&!k(f)&&(b.sort=[f]);h&&!k(h)&&(b.sort_empty=[h]);return{options:b,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}};
b.prototype.search=function(a,b){var c,d,h,k;d=this.prepareSearch(a,b);b=d.options;a=d.query;k=b.score||this.getScoreFunction(d);a.length?this.iterator(this.items,function(a,e){c=k(a);(!1===b.filter||0<c)&&d.items.push({score:c,id:e})}):this.iterator(this.items,function(a,b){d.items.push({score:1,id:b})});(h=this.getSortFunction(d,b))&&d.items.sort(h);d.total=d.items.length;"number"===typeof b.limit&&(d.items=d.items.slice(0,b.limit));return d};var d=function(b,c){if("number"===typeof b&&"number"===
typeof c)return b>c?1:b<c?-1:0;b=a(String(b||""));c=a(String(c||""));return b>c?1:c>b?-1:0},c=function(a,b){var c,d,h,k;c=1;for(d=arguments.length;c<d;c++)if(k=arguments[c])for(h in k)k.hasOwnProperty(h)&&(a[h]=k[h]);return a},k=Array.isArray||$&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},l={a:"[aÀ�?ÂÃÄÅàáâãäåĀ�?ąĄ]",c:"[cÇçćĆ�?Č]",d:"[dđ�?�?Ď]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌ�?Î�?ìíîïĪī]",l:"[lł�?]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌ�?]",r:"[rřŘ]",s:"[sŠšśŚ]",
t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿý�?]",z:"[zŽžżŻźŹ]"},a=function(){var a,b,c,d,h="",k={};for(c in l)if(l.hasOwnProperty(c))for(d=l[c].substring(2,l[c].length-1),h+=d,a=0,b=d.length;a<b;a++)k[d.charAt(a)]=c;var s=new RegExp("["+h+"]","g");return function(a){return a.replace(s,function(a){return k[a]}).toLowerCase()}}();return b});
(function(b,d){"function"===typeof define&&define.amd?define("microplugin",d):"object"===typeof exports?module.exports=d():b.MicroPlugin=d()})(this,function(){var b={isArray:Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)}};return{mixin:function(d){d.plugins={};d.prototype.initializePlugins=function(c){var d,l,a=[];this.plugins={names:[],settings:{},requested:{},loaded:{}};if(b.isArray(c))for(d=0,l=c.length;d<l;d++)"string"===typeof c[d]?a.push(c[d]):(this.plugins.settings[c[d].name]=
c[d].options,a.push(c[d].name));else if(c)for(d in c)c.hasOwnProperty(d)&&(this.plugins.settings[d]=c[d],a.push(d));for(;a.length;)this.require(a.shift())};d.prototype.loadPlugin=function(b){var k=this.plugins,l=d.plugins[b];if(!d.plugins.hasOwnProperty(b))throw Error('Unable to find "'+b+'" plugin');k.requested[b]=!0;k.loaded[b]=l.fn.apply(this,[this.plugins.settings[b]||{}]);k.names.push(b)};d.prototype.require=function(b){var d=this.plugins;if(!this.plugins.loaded.hasOwnProperty(b)){if(d.requested[b])throw Error('Plugin has circular dependency ("'+
b+'")');this.loadPlugin(b)}return d.loaded[b]};d.define=function(b,k){d.plugins[b]={name:b,fn:k}}}}});
(function(b,d){"function"===typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],d):"object"===typeof exports?module.exports=d(require("jquery"),require("sifter"),require("microplugin")):b.Selectize=d(b.jQuery,b.Sifter,b.MicroPlugin)})(this,function(b,d,c){var k=function(a,b){if("string"!==typeof b||b.length){var c="string"===typeof b?new RegExp(b,"i"):b,d=function(a){var b=0;if(3===a.nodeType){var e=a.data.search(c);if(0<=e&&0<a.data.length){var f=a.data.match(c),b=document.createElement("span");
b.className="highlight";a=a.splitText(e);a.splitText(f[0].length);e=a.cloneNode(!0);b.appendChild(e);a.parentNode.replaceChild(b,a);b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(e=0;e<a.childNodes.length;++e)e+=d(a.childNodes[e]);return b};return a.each(function(){d(this)})}},l=function(){};l.prototype={on:function(a,b){this._events=this._events||{};this._events[a]=this._events[a]||[];this._events[a].push(b)},off:function(a,b){var c=arguments.length;if(0===c)return delete this._events;
if(1===c)return delete this._events[a];this._events=this._events||{};!1!==a in this._events&&this._events[a].splice(this._events[a].indexOf(b),1)},trigger:function(a){this._events=this._events||{};if(!1!==a in this._events)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}};l.mixin=function(a){for(var b=["on","off","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=l.prototype[b[c]]};var a=/Mac/.test(navigator.userAgent),e=a?91:17,m=a?18:
17,n=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,f=function(a){return"undefined"===typeof a||null===a?null:"boolean"===typeof a?a?"1":"0":a+""},h=function(a){return(a+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;")},q=function(a){return(a+"").replace(/\$/g,"$$$$")},s={before:function(a,b,c){var d=a[b];a[b]=function(){c.apply(a,arguments);return d.apply(a,arguments)}},after:function(a,b,c){var d=a[b];
a[b]=function(){var b=d.apply(a,arguments);c.apply(a,arguments);return b}}},r=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},B=function(a,b){var c;return function(){var d=this,e=arguments;window.clearTimeout(c);c=window.setTimeout(function(){a.apply(d,e)},b)}},y=function(a,b,c){var d,e=a.trigger,f={};a.trigger=function(){var c=arguments[0];if(-1!==b.indexOf(c))f[c]=arguments;else return e.apply(a,arguments)};c.apply(a,[]);a.trigger=e;for(d in f)f.hasOwnProperty(d)&&e.apply(a,
f[d])},v=function(a,b,c,d){a.on(b,c,function(b){for(var c=b.target;c&&c.parentNode!==a[0];)c=c.parentNode;b.currentTarget=c;return d.apply(this,[b])})},u=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var c=document.selection.createRange(),d=document.selection.createRange().text.length;c.moveStart("character",-a.value.length);b.start=c.text.length-d;b.length=d}return b},C=function(a,c){var d=null,e=function(e,
f){var h,k,l;e=e||window.event||{};f=f||{};if(!e.metaKey&&!e.altKey&&(f.force||!1!==c.data("grow"))){h=c.val();e.type&&"keydown"===e.type.toLowerCase()&&(k=e.keyCode,l=97<=k&&122>=k||65<=k&&90>=k||48<=k&&57>=k||32===k,46===k||8===k?(l=u(c[0]),l.length?h=h.substring(0,l.start)+h.substring(l.start+l.length):8===k&&l.start?h=h.substring(0,l.start-1)+h.substring(l.start+1):46===k&&"undefined"!==typeof l.start&&(h=h.substring(0,l.start)+h.substring(l.start+1))):l&&(k=e.shiftKey,l=String.fromCharCode(e.keyCode),
l=k?l.toUpperCase():l.toLowerCase(),h+=l));k=c.attr("placeholder");!h&&k&&(h=k);if("single"==a.settings.mode){if(h){h=b("\x3ctest\x3e").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(h).appendTo("body");k=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];var m,n={};if(k)for(l=0,m=k.length;l<m;l++)n[k[l]]=c.css(k[l]);else n=c.css();h.css(n);k=h.width();h.remove();h=k}else h=0;h+=4}else{k=1;if(h){h=b(a.$control.find(".item"));for(l=
k=0;l<h.length;l++)k+=h[l].offsetWidth;k=a.$control[0].offsetWidth-90-k}h=k}h!==d&&(d=h,c.width(h),c.triggerHandler("resize"))}};c.on("keydown keyup update blur",e);e()},A=function(a,c){var e,f;e=a[0];e.selectize=this;f=(f=(f=window.getComputedStyle&&window.getComputedStyle(e,null))?f.getPropertyValue("direction"):e.currentStyle&&e.currentStyle.direction)||a.parents("[dir]:first").attr("dir")||"";b.extend(this,{order:0,settings:c,$input:a,tabIndex:a.attr("tabindex")||"",tagType:"select"===e.tagName.toLowerCase()?
1:2,rtl:/rtl/i.test(f),eventNS:".selectize"+ ++A.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:a.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===c.loadThrottle?
this.onSearchChange:B(this.onSearchChange,c.loadThrottle)});this.sifter=new d(this.options,{diacritics:c.diacritics});if(this.settings.options){e=0;for(f=this.settings.options.length;e<f;e++)this.registerOption(this.settings.options[e]);delete this.settings.options}if(this.settings.optgroups){e=0;for(f=this.settings.optgroups.length;e<f;e++)this.registerOptionGroup(this.settings.optgroups[e]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":
"multi");this.settings.dropdownDirection=this.settings.dropdownDirection||"auto";"boolean"!==typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode);this.initializePlugins(this.settings.plugins);this.setupCallbacks();this.setupTemplates();this.setup()};l.mixin(A);c.mixin(A);b.extend(A.prototype,{setup:function(){var c=this,d=c.settings,f=c.eventNS,h=b(window),k=b(document),l=c.$input,q=Math.floor(1E3*Math.random()),r,s,u,y,A,z;A=c.settings.mode;z=l.attr("class")||
"";r=b("\x3cdiv\x3e").addClass(d.wrapperClass).addClass(z).addClass(A);s=b("\x3cdiv\x3e").addClass(d.inputClass).addClass("items").appendTo(r);u=b('\x3cinput type\x3d"text" autocomplete\x3d"off" /\x3e').appendTo(s).attr("tabindex",l.is(":disabled")?"-1":c.tabIndex).attr({"aria-autocomplete":"list","aria-labelledby":"label-"+q,role:"combobox","aria-expanded":"false","aria-owns":"grid-"+q,"aria-haspopup":"grid"});"multi"===c.settings.mode&&b('\x3cspan class\x3d"multi-dropdown-send-btn"\x3e\x3c/span\x3e').appendTo(r);
y=b(d.dropdownParent||r);q=b("\x3cdiv\x3e").addClass(d.dropdownClass).addClass(A).hide().appendTo(y).attr({"aria-labelledby":"label-"+q,role:"grid",id:"grid-"+q});y=b("\x3cdiv\x3e").addClass(d.dropdownContentClass).appendTo(q);c.settings.copyClassesToDropdown&&q.addClass(z);r.css({width:l[0].style.width});c.plugins.names.length&&(z="plugin-"+c.plugins.names.join(" plugin-"),r.addClass(z),q.addClass(z));(null===d.maxItems||1<d.maxItems)&&1===c.tagType&&l.attr("multiple","multiple");c.settings.placeholder&&
u.attr("placeholder",d.placeholder);!c.settings.splitOn&&c.settings.delimiter&&(z=c.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26"),c.settings.splitOn=new RegExp("\\s*"+z+"+\\s*"));l.attr("autocorrect")&&u.attr("autocorrect",l.attr("autocorrect"));l.attr("autocapitalize")&&u.attr("autocapitalize",l.attr("autocapitalize"));c.$wrapper=r;c.$control=s;c.$control_input=u;c.$dropdown=q;c.$dropdown_content=y;q.on("mouseenter","[data-selectable]",function(){return c.onOptionHover.apply(c,arguments)});
q.on("mouseup","[data-selectable]",function(){if("multi"===c.settings.mode)return c.onOptionSelect.apply(c,arguments)});q.on("mousedown click","[data-selectable]",function(){if("single"===c.settings.mode)return c.onOptionSelect.apply(c,arguments)});v(s,"mousedown","*:not(input)",function(){return c.onItemSelect.apply(c,arguments)});C(c,u);s.on({mousedown:function(){return c.onMouseDown.apply(c,arguments)},click:function(){return c.onClick.apply(c,arguments)}});u.on({mousedown:function(a){a.stopPropagation()},
keydown:function(){return c.onKeyDown.apply(c,arguments)},keyup:function(){return c.onKeyUp.apply(c,arguments)},keypress:function(){return c.onKeyPress.apply(c,arguments)},resize:function(){c.positionDropdown.apply(c,[])},blur:function(){return c.onBlur.apply(c,arguments)},focus:function(){c.ignoreBlur=!1;return c.onFocus.apply(c,arguments)},paste:function(){return c.onPaste.apply(c,arguments)}});k.on("keydown"+f,function(b){c.isCmdDown=b[a?"metaKey":"ctrlKey"];c.isCtrlDown=b[a?"altKey":"ctrlKey"];
c.isShiftDown=b.shiftKey});k.on("keyup"+f,function(a){a.keyCode===m&&(c.isCtrlDown=!1);16===a.keyCode&&(c.isShiftDown=!1);a.keyCode===e&&(c.isCmdDown=!1)});k.on("mousedown"+f,function(a){if(c.isFocused){if(a.target===c.$dropdown[0]||a.target.parentNode===c.$dropdown[0])return!1;c.$control.has(a.target).length||a.target===c.$control[0]||c.blur(a.target)}});h.on(["scroll"+f,"resize"+f].join(" "),function(){c.isOpen&&c.positionDropdown.apply(c,arguments)});h.on("mousemove"+f,function(){c.ignoreHover=
!1});this.revertSettings={$children:l.children().detach(),tabindex:l.attr("tabindex")};l.attr("tabindex",-1).hide().after(c.$wrapper);b.isArray(d.items)&&(c.setValue(d.items),delete d.items);if(n)l.on("invalid"+f,function(a){a.preventDefault();c.isInvalid=!0;c.refreshState()});c.updateOriginalInput();c.refreshItems();c.refreshState();c.updatePlaceholder();c.isSetup=!0;l.is(":disabled")&&c.disable();c.on("change",this.onChange);l.data("selectize",c);l.addClass("selectized");c.trigger("initialize");
if(!0===d.preload)c.onSearchChange("")},setupTemplates:function(){var a=this,c=a.settings.labelField,d=a.settings.optgroupLabelField;a.settings.render=b.extend({},{optgroup:function(a){return'\x3cdiv class\x3d"optgroup"\x3e'+a.html+"\x3c/div\x3e"},optgroup_header:function(a,b){return'\x3cdiv class\x3d"optgroup-header"\x3e'+b(a[d])+"\x3c/div\x3e"},option:function(b,d){return"multi"===a.settings.mode?a.$dropdown_content&&a.$dropdown_content.find("[data-value\x3d"+b.value+"]").length?a.$dropdown_content.find("[data-value\x3d"+
b.value+"]")[0].outerHTML:'\x3cdiv class\x3d"option"\x3e\x3clabel class\x3d"checkbox-container"\x3e'+b[c]+'\x3cinput type\x3d"checkbox"\x3e\x3cspan class\x3d"checkmark"\x3e\x3c/span\x3e\x3c/label\x3e\x3c/div\x3e':'\x3cdiv class\x3d"option"\x3e'+b[c]+"\x3c/div\x3e"},item:function(a,b){return'\x3cdiv class\x3d"item"\x3e\x3cdiv class\x3d"caret-text"\x3e'+b(a[c])+"\x3c/div\x3e\x3c/div\x3e"},option_create:function(a,b){return'\x3cdiv class\x3d"create"\x3eAdd \x3cstrong\x3e'+b(a.input)+"\x3c/strong\x3e\x26hellip;\x3c/div\x3e"}},
a.settings.render)},setupCallbacks:function(){var a,b,c={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in c)if(c.hasOwnProperty(a)&&
(b=this.settings[c[a]]))this.on(a,b)},onClick:function(a){this.isFocused||(this.focus(),a.preventDefault())},onMouseDown:function(a){var c=a.isDefaultPrevented();b(a.target);this.focus();if(a.target!==this.$control_input[0])return"single"===this.settings.mode||"multi"===this.settings.mode?this.isOpen?this.close():this.open():c||this.setActiveItem(null),!1},onChange:function(){this.$input.trigger("change")},onPaste:function(a){var c=this;c.isFull()||c.isInputHidden||c.isLocked?a.preventDefault():c.settings.splitOn&&
setTimeout(function(){for(var a=b.trim(c.$control_input.val()||"").split(c.settings.splitOn),d=0,e=a.length;d<e;d++)c.createItem(a[d])},0)},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);if(this.settings.create&&"multi"===this.settings.mode&&b===this.settings.delimiter)return this.createItem(),a.preventDefault(),!1},onKeyDown:function(b){if(this.isLocked)9!==b.keyCode&&b.preventDefault();else{switch(b.keyCode){case 65:if(this.isCmdDown)return;
break;case 27:this.isOpen&&(b.preventDefault(),b.stopPropagation(),this.close());return;case 78:if(!b.ctrlKey||b.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var c=this.getAdjacentOption(this.$activeOption,1);c.length&&this.setActiveOption(c,!0,!0)}b.preventDefault();return;case 80:if(!b.ctrlKey||b.altKey)break;case 38:this.$activeOption&&(this.ignoreHover=!0,c=this.getAdjacentOption(this.$activeOption,-1),c.length&&this.setActiveOption(c,
!0,!0));b.preventDefault();return;case 13:this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption},!0,!0),b.preventDefault());return;case 37:return;case 39:return;case 9:this.settings.selectOnTab&&this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),this.isFull()||b.preventDefault());this.settings.create&&this.createItem()&&b.preventDefault();return;case 8:case 46:this.deleteSelection(b);return}!this.isFull()&&!this.isInputHidden||
(a?b.metaKey:b.ctrlKey)||b.preventDefault()}},onKeyUp:function(a){if(Object.keys(this.options).length==this.items.length&&a.currentTarget.value)this.close();else{if(this.isLocked)return a&&a.preventDefault();a=this.$control_input.val()||"";if(this.lastValue!==a){this.lastValue=a;this.onSearchChange(a);this.refreshOptions();if(!a)for(var c=0;c<this.items.length;c++)this.$dropdown_content.find(b("[data-value\x3d"+this.items[c]+"]")).find("input").prop("checked",!0);this.trigger("type",a)}}},onSearchChange:function(a){var b=
this,c=b.settings.load;c&&!b.loadedSearches.hasOwnProperty(a)&&(b.loadedSearches[a]=!0,b.load(function(d){c.apply(b,[a,d])}))},onFocus:function(a){var b=this.isFocused;if(this.isDisabled)return this.blur(),a&&a.preventDefault(),!1;if(!this.ignoreFocus){this.isFocused=!0;if("focus"===this.settings.preload)this.onSearchChange("");b||this.trigger("focus");this.$activeItems.length||(this.showInput(),this.setActiveItem(null),("single"===this.settings.mode||"multi"===this.settings.mode&&this.items&&0==
this.items.length)&&this.refreshOptions(!!this.settings.openOnFocus));this.refreshState()}},onBlur:function(a,b){var c=this;if(c.isFocused&&("single"===c.settings.mode&&(c.isFocused=!1),!c.ignoreFocus))if(c.ignoreBlur||document.activeElement!==c.$dropdown_content[0]){var d=function(){"multi"!==c.settings.mode&&c.close();c.setTextboxValue("");c.setActiveItem(null);c.setActiveOption(null);c.setCaret(c.items.length);c.refreshState();(b||document.body).focus();c.ignoreFocus=!1;c.trigger("blur")};c.ignoreFocus=
!0;c.settings.create&&c.settings.createOnBlur?c.createItem(null,!1,d):"single"===c.settings.mode&&d()}else c.ignoreBlur=!0,c.onFocus(a)},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(a,c,d){var e,f=this;a.preventDefault&&"multi"!==f.settings.mode&&(a.preventDefault(),a.stopPropagation());e=b(a.currentTarget);e.hasClass("create")?f.createItem(null,function(){f.settings.closeAfterSelect&&f.close()}):(e=e.attr("data-value"),"undefined"!==
typeof e&&(f.lastQuery=null,f.setTextboxValue(""),f.$activeOption&&f.$activeOption.find("input").is(":checked")?d||f.removeItem(e):f.addItem(e,!1,"multi",void 0,c),f.settings.closeAfterSelect?f.close():!f.settings.hideSelected&&a.type&&/mouse/.test(a.type)&&f.setActiveOption(f.getOption(e))))},onItemSelect:function(a){this.isLocked||"multi"!==this.settings.mode||(a.preventDefault(),this.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,c=b.$wrapper.addClass(b.settings.loadingClass);b.loading++;
a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0);a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden));b.loading||c.removeClass(b.settings.loadingClass);b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input;b.val()!==a&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a,b){y(this,b?[]:["change"],
function(){this.clear(b);this.addItems(a,b)})},setActiveItem:function(a,c){var d,e,f;if("single"!==this.settings.mode)if(a=b(a),a.length){d=c&&c.type.toLowerCase();if("mousedown"===d&&this.isShiftDown&&this.$activeItems.length){d=this.$control.children(".active:last");e=Array.prototype.indexOf.apply(this.$control[0].childNodes,[d[0]]);d=Array.prototype.indexOf.apply(this.$control[0].childNodes,[a[0]]);e>d&&(f=e,e=d,d=f);for(;e<=d;e++)f=this.$control[0].childNodes[e],-1===this.$activeItems.indexOf(f)&&
(b(f).addClass("active"),this.$activeItems.push(f));c.preventDefault()}else"mousedown"===d&&this.isCtrlDown||"keydown"===d&&this.isShiftDown?a.hasClass("active")?(d=this.$activeItems.indexOf(a[0]),this.$activeItems.splice(d,1),a.removeClass("active")):this.$activeItems.push(a.addClass("active")[0]):(b(this.$activeItems).removeClass("active"),this.$activeItems=[a.addClass("active")[0]]);"multi"!==this.settings.mode&&this.hideInput();this.isFocused||this.focus()}else b(this.$activeItems).removeClass("active"),
this.$activeItems=[],this.isFocused&&this.showInput()},setActiveOption:function(a,c,d){var e,f,h;this.$activeOption&&(this.$activeOption.removeClass("active"),this.$control_input.attr("aria-activedescendant",""));this.$activeOption=null;a=b(a);a.length&&(this.$activeOption=a.addClass("active"),this.$control_input.attr("aria-activedescendant",this.$activeOption.attr("id")),c||"undefined"===typeof c)&&(a=this.$dropdown_content.height(),e=this.$activeOption.outerHeight(!0),c=this.$dropdown_content.scrollTop()||
0,f=this.$activeOption.offset().top-this.$dropdown_content.offset().top+c,h=f-a+e,f+e>a+c?this.$dropdown_content.stop().animate({scrollTop:h},d?this.settings.scrollDuration:0):f<c&&this.$dropdown_content.stop().animate({scrollTop:f},d?this.settings.scrollDuration:0))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue("");
this.$control_input.css({opacity:0,position:"relative",left:this.rtl?1E4:-1E4});this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0});this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1;a.onFocus()},0))},blur:function(a){this.$control_input[0].blur();this.onBlur(null,a)},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},
getSearchOptions:function(){var a=this.settings,b=a.sortField;"string"===typeof b&&(b=[{field:b}]);return{fields:a.searchField,conjunction:a.searchConjunction,sort:b}},search:function(a){var c,d=this.settings,e=this.getSearchOptions();if(d.score&&(c=this.settings.score.apply(this,[a]),"function"!==typeof c))throw Error('Selectize "score" setting must be a function that returns a function');a!==this.lastQuery?(this.lastQuery=a,this.currentResults=a=this.sifter.search(a,b.extend(e,{score:c}))):a=b.extend(!0,
{},this.currentResults);return a},updateDeletedOptionInList:function(a,b){var c="",c=a?a.attr("data-value"):b;this.$dropdown_content.find("[data-value\x3d'"+c+"']").find("input").prop("checked",!1)},refreshOptions:function(a,c,d){var e,h,l,m,n,q,r,s,u,z,v,y,A;"undefined"===typeof a&&(a=!0);var D=this;y=b.trim(D.$control_input.val());var B=D.search(y),C=D.$dropdown_content,ba=D.$activeOption&&f(D.$activeOption.attr("data-value"));m=B.items.length;"number"===typeof D.settings.maxOptions&&(m=Math.min(m,
D.settings.maxOptions));n={};q=[];for(e=0;e<m;e++){if(""==D.$control_input.val())r=D.options[B.items[e].id];else if(r=D.options[B.items[e].id],-1!==D.items.indexOf(r.value)){D.close();continue}s=D.render("option",r);u=r[D.settings.optgroupField]||"";z=b.isArray(u)?u:[u];h=0;for(l=z&&z.length;h<l;h++)u=z[h],D.optgroups.hasOwnProperty(u)||(u=""),n.hasOwnProperty(u)||(n[u]=[],q.push(u)),n[u].push(s)}h=[];e=0;for(m=q.length;e<m;e++)u=q[e],D.optgroups.hasOwnProperty(u)&&n[u].length?(l=D.render("optgroup_header",
D.optgroups[u])||"",l+=n[u].join(""),h.push(D.render("optgroup",b.extend({},D.optgroups[u],{html:l})))):h.push(n[u].join(""));"multi"!==c&&C.html(h.join(""));this.settings.lockOptgroupOrder&&q.sort(function(a,b){return(D.optgroups[a].$order||0)-(D.optgroups[b].$order||0)});if(D.settings.highlight&&B.query.length&&B.tokens.length)for(e=0,m=B.tokens.length;e<m;e++)k(C,B.tokens[e].regex);if(!D.settings.hideSelected)for(e=0,m=D.items.length;e<m;e++)D.getOption(D.items[e]).addClass("selected");if(e=D.canCreate(y))C.prepend(D.render("option_create",
{input:y})),A=b(C[0].childNodes[0]);D.hasOptions=0<B.items.length||e;D.hasOptions?(0<B.items.length?((y=ba&&D.getOption(ba))&&y.length?v=y:"single"===D.settings.mode&&D.items.length&&(v=D.getOption(D.items[0])),v&&v.length||(v=A&&!D.settings.addPrecedence?D.getAdjacentOption(A,1):C.find("[data-selectable]:first"))):v=A,"multi"===c?D.setActiveOption(d):D.setActiveOption(v),a&&!D.isOpen&&(-1===D.items.indexOf(r.value)?D.open():D.close())):(D.setActiveOption(null),a&&D.isOpen&&D.close());D.positionDropdown()},
addOption:function(a){var c,d;if(b.isArray(a))for(c=0,d=a.length;c<d;c++)this.addOption(a[c]);else if(c=this.registerOption(a))this.userOptions[c]=!0,this.lastQuery=null,this.trigger("option_add",c,a)},registerOption:function(a){var b=f(a[this.settings.valueField]);if(!b||this.options.hasOwnProperty(b))return!1;a.$order=a.$order||++this.order;this.options[b]=a;return b},registerOptionGroup:function(a){var b=f(a[this.settings.optgroupValueField]);if(!b)return!1;a.$order=a.$order||++this.order;this.optgroups[b]=
a;return b},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a;(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b)},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],this.renderCache={},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups={};this.renderCache={};this.trigger("optgroup_clear")},updateOption:function(a,c){var d,e,h;a=f(a);d=f(c[this.settings.valueField]);if(null!==a&&this.options.hasOwnProperty(a)){if("string"!==
typeof d)throw Error("Value must be set in option data");h=this.options[a].$order;d!==a&&(delete this.options[a],e=this.items.indexOf(a),-1!==e&&this.items.splice(e,1,d));c.$order=c.$order||h;this.options[d]=c;e=this.renderCache.item;h=this.renderCache.option;e&&(delete e[a],delete e[d]);h&&(delete h[a],delete h[d]);-1!==this.items.indexOf(d)&&(d=this.getItem(a),e=b(this.render("item",c)),d.hasClass("active")&&e.addClass("active"),d.replaceWith(e));this.lastQuery=null;this.isOpen&&this.refreshOptions(!1)}},
removeOption:function(a,b){a=f(a);var c=this.renderCache.item,d=this.renderCache.option;c&&delete c[a];d&&delete d[a];delete this.userOptions[a];delete this.options[a];this.lastQuery=null;this.trigger("option_remove",a);this.removeItem(a,b)},clearOptions:function(){this.loadedSearches={};this.userOptions={};this.renderCache={};this.options=this.sifter.items={};this.lastQuery=null;this.trigger("option_clear");this.clear()},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},
getAdjacentOption:function(a,c){var d=this.$dropdown.find("[data-selectable]"),e=d.index(a)+c;return 0<=e&&e<d.length?d.eq(e):b()},getElementWithValue:function(a,c){a=f(a);if("undefined"!==typeof a&&null!==a)for(var d=0,e=c.length;d<e;d++)if(c[d].getAttribute("data-value")===a)return b(c[d]);return b()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(a,c){for(var d=b.isArray(a)?a:[a],e=0,f=d.length;e<f;e++)this.isPending=e<f-1,this.addItem(d[e],c)},
addItem:function(a,c,d,e,h){y(this,c?[]:["change"],function(){var e,k,l,m=this.settings.mode,n;a=f(a);if(-1!==this.items.indexOf(a)&&"multi"!==m)"single"===m&&this.close();else if(this.options.hasOwnProperty(a)&&("single"===m&&this.clear(c),"multi"!==m||!this.isFull())&&(e=b(this.render("item",this.options[a])),k=this.isFull(),this.items.splice(this.caretPos,0,a),this.insertAtCaret(e,h),(!this.isPending||!k&&this.isFull())&&this.refreshState(),this.isSetup)){l=this.$dropdown_content.find("[data-selectable]");
this.isPending||(k=this.getOption(a),n=this.getAdjacentOption(k,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==m,d,k),n&&"multi"!==d&&this.setActiveOption(this.getOption(n)));!l.length||this.isFull()?this.close():this.positionDropdown();this.refreshOptions();for(m=0;m<this.items.length;m++)this.$dropdown_content.find(b("[data-value\x3d"+this.items[m]+"]")).find("input").prop("checked",!0);this.updatePlaceholder();this.trigger("item_add",a,e);this.updateOriginalInput({silent:c})}})},
removeAllItem:function(){this.refreshOptions();b(".chat-container .selectize-input div").remove();this.setActiveOption(null);this.items.length=0;b(this.$control).removeClass("generic-caret");this.updatePlaceholder();this.$activeItems.length=0},removeItem:function(a,c){var d,e,h;d="object"===typeof a?a:this.getItem(a);b(this.$control).hasClass("generic-caret")?(e=this.items.indexOf(a),this.items.splice(e,1)):(a=f(d.attr("data-value")),e=this.items.indexOf(a));-1!==e&&(b(this.$control).hasClass("generic-caret")?
this.updateCaretSet():(d.remove(),d.hasClass("active")&&(h=this.$activeItems.indexOf(d[0]),this.$activeItems.splice(h,1)),this.items.splice(e,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(a)&&this.removeOption(a,c),e<this.caretPos&&!b(this.$control).hasClass("generic-caret")&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:c}),this.positionDropdown(),this.trigger("item_remove",a,d)))},createItem:function(a,
c){var d=this,e=d.caretPos;a=a||b.trim(d.$control_input.val()||"");var h=arguments[arguments.length-1];"function"!==typeof h&&(h=function(){});"boolean"!==typeof c&&(c=!0);if(!d.canCreate(a))return h(),!1;d.lock();var k="function"===typeof d.settings.create?this.settings.create:function(a){var b={};b[d.settings.labelField]=a;b[d.settings.valueField]=a;return b},l=r(function(a){d.unlock();if(!a||"object"!==typeof a)return h();var b=f(a[d.settings.valueField]);if("string"!==typeof b)return h();d.setTextboxValue("");
d.addOption(a);d.setCaret(e);d.addItem(b);d.refreshOptions(c&&"single"!==d.settings.mode);h(a)}),k=k.apply(this,[a,l]);"undefined"!==typeof k&&l(k);return!0},refreshItems:function(){this.lastQuery=null;this.isSetup&&this.addItem(this.items);this.refreshState();this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&(this.isInvalid=!1),this.$control_input.prop("required",void 0));this.refreshClasses()},refreshClasses:function(){var a=this.isFull(),c=this.isLocked;this.$wrapper.toggleClass("rtl",
this.rtl);this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",c).toggleClass("full",a).toggleClass("not-full",!a).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!b.isEmptyObject(this.options)).toggleClass("has-items",0<this.items.length);this.isOpen?this.$control_input.attr("aria-expanded",
"true"):this.$control_input.attr("aria-expanded","false");this.$control_input.data("grow",!a&&!c)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b,c,d,e;a=a||{};if(1===this.tagType){d=[];b=0;for(c=this.items.length;b<c;b++)e=this.options[this.items[b]][this.settings.labelField]||"",d.push('\x3coption value\x3d"'+h(this.items[b])+'" selected\x3d"selected"\x3e'+h(e)+"\x3c/option\x3e");d.length||this.$input.attr("multiple")||
d.push('\x3coption value\x3d"" selected\x3d"selected"\x3e\x3c/option\x3e');this.$input.html(d.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(a.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder);a.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||
this.isOpen||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var a=this.isOpen;"single"===this.settings.mode&&this.items.length&&this.hideInput();this.isOpen=!1;this.$dropdown.hide();this.setActiveOption(null);this.refreshState();a&&this.trigger("dropdown_close",this.$dropdown)},
positionDropdown:function(){var a=this.settings.dropdownDirection;if("auto"!==a)return this.setDropdownDirection(a);this.setDropdownDirection("down");if(!(this.$dropdown[0].getBoundingClientRect().bottom<=(window.innerHeight||b(window).height())))return this.setDropdownDirection("up")},setDropdownDirection:function(a){var b=this.$control,c="body"===this.settings.dropdownParent?b.offset():b.position();c.top+=b.outerHeight(!0);this.$dropdown.css({width:"100%",left:c.left,top:"down"===a?c.top:"auto",
bottom:"down"===a?"auto":c.top+10}).toggleClass("dropdown-up","down"!==a)},clear:function(a){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:a}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(a){var c=Math.min(this.caretPos,this.items.length);if(0===c)this.$control.prepend(a);else{b(".chat-container .selectize-input input").before(a);
a=b(this.$control[0].childNodes);var d=0;this.updatePlaceholder();for(var e=0;e<a.length;e++)d+=a[e].offsetWidth;d>this.$control[0].offsetWidth-90||b(this.$control).hasClass("generic-caret")?(b(".chat-container .selectize-input div").remove(),a="\x3cdiv class\x3d'item' data-value\x3d''\x3e\x3cdiv class\x3d'caret-text'\x3e"+this.items.length+" selected\x3c/div\x3e\x3ca href\x3d'javascript:void(0)' class\x3d'remove remove-all' tabindex\x3d'-1' title\x3d'Remove'\x3e\x26times;\x3c/a\x3e\x3c/div\x3e",
b(".chat-container .selectize-input input").before(b(a)),b(this.$control).addClass("generic-caret")):b(this.$control).removeClass("generic-caret");this.caretPos-=1}this.setCaret(c+1)},updateCaretSet:function(){b(".chat-container .selectize-input div").remove();for(var a=0;a<this.items.length;a++){var c=b(this.render("item",this.options[this.items[a]]));b(this.$control[0].childNodes);b(".chat-container .selectize-input input").before(c)}var c=b(this.$control[0].childNodes),d=0;this.updatePlaceholder();
for(a=0;a<c.length;a++)d+=c[a].offsetWidth;d>this.$control[0].offsetWidth-90?(b(".chat-container .selectize-input div").remove(),c="\x3cdiv class\x3d'item' data-value\x3d''\x3e"+this.items.length+" selected \x3ca href\x3d'javascript:void(0)' class\x3d'remove remove-all' tabindex\x3d'-1' title\x3d'Remove'\x3e\x26times;\x3c/a\x3e\x3c/div\x3e",b(".chat-container .selectize-input input").before(b(c)),b(this.$control).addClass("generic-caret")):b(this.$control).removeClass("generic-caret");this.caretPos-=
1},deleteSelection:function(a){var c,d,e,f,h,k;c=a&&8===a.keyCode?-1:1;d=u(this.$control_input[0]);this.$activeOption&&!this.settings.hideSelected&&(h=this.getAdjacentOption(this.$activeOption,-1).attr("data-value"));e=[];if(this.$activeItems.length){k=this.$control.children(".active:"+(0<c?"last":"first"));f=this.$control.children(":not(input)").index(k);0<c&&f++;c=0;for(d=this.$activeItems.length;c<d;c++)e.push(b(this.$activeItems[c]).attr("data-value"));a&&"single"===this.settings.mode&&(a.preventDefault(),
a.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(0>c&&0===d.start&&0===d.length?e.push(this.items[this.caretPos-1]):0<c&&d.start===this.$control_input.val().length&&e.push(this.items[this.caretPos]));if(!e.length||"function"===typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[e]))return!1;if(b(this.$control).hasClass("generic-caret"))this.removeAllItem();else{for("undefined"!==typeof f&&0<=f&&this.setCaret(f);e.length;)this.updateDeletedOptionInList(k,
e[0]),this.removeItem(e.pop());this.showInput();this.positionDropdown();"multi"!==this.settings.mode&&this.refreshOptions(!0);h&&(a=this.getOption(h),a.length&&this.setActiveOption(a));return!0}},advanceSelection:function(a,b){var c,d;0!==a&&(this.rtl&&(a*=-1),c=0<a?"last":"first",d=u(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(c=this.$control_input.val().length,(d=0>a?0===d.start&&0===d.length:d.start===c)&&!c&&this.advanceCaret(a,b)):(d=this.$control.children(".active:"+c),d.length&&
(d=this.$control.children(":not(input)").index(d),this.setActiveItem(null),this.setCaret(0<a?d+1:d))))},advanceCaret:function(a,b){var c;0!==a&&(c=0<a?"next":"prev",this.isShiftDown?(c=this.$control_input[c](),c.length&&(this.hideInput(),this.setActiveItem(c),b&&b.preventDefault())):this.setCaret(this.caretPos+a))},setCaret:function(a){a="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,a));if(!this.isPending){var c,d,e,f;e=this.$control.children(":not(input)");
c=0;for(d=e.length;c<d;c++)f=b(e[c]).detach(),c<a?this.$control_input.before(f):this.$control.append(f)}this.caretPos=a},lock:function(){this.close();this.isLocked=!0;this.refreshState()},unlock:function(){this.isLocked=!1;this.refreshState()},disable:function(){this.$input.prop("disabled",!0);this.$control_input.prop("disabled",!0).prop("tabindex",-1);this.isDisabled=!0;this.lock()},enable:function(){this.$input.prop("disabled",!1);this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex);
this.isDisabled=!1;this.unlock()},destroy:function(){var a=this.eventNS,c=this.revertSettings;this.trigger("destroy");this.off();this.$wrapper.remove();this.$dropdown.remove();this.$input.html("").append(c.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:c.tabindex}).show();this.$control_input.removeData("grow");this.$input.removeData("selectize");b(window).off(a);b(document).off(a);b(document.body).off(a);delete this.$input[0].selectize},render:function(a,b){var c,d,e="",
k=!1,l=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i,m=Math.floor(1E7*Math.random());if("option"===a||"item"===a)c=f(b[this.settings.valueField]),"multi"!==this.settings.mode&&(k=!!c);if(k&&("undefined"===typeof this.renderCache[a]&&(this.renderCache[a]={}),this.renderCache[a].hasOwnProperty(c)))return this.renderCache[a][c];e=this.settings.render[a].apply(this,[b,h]);if("option"===a||"option_create"===a)e=e.replace(l,"\x3c$1 data-selectable");"optgroup"===a&&(d=b[this.settings.optgroupValueField]||
"",e=e.replace(l,'\x3c$1 data-group\x3d"'+q(h(d))+'"'));if("option"===a||"item"===a)e=e.replace(l,'\x3c$1 data-value\x3d"'+q(h(c||""))+'" role\x3d"option" id\x3d"option-'+q(h(c||""))+m+'"');k&&(this.renderCache[a][c]=e);return e},clearCache:function(a){"undefined"===typeof a?this.renderCache={}:delete this.renderCache[a]},canCreate:function(a){if(!this.settings.create)return!1;var b=this.settings.createFilter;return a.length&&("function"!==typeof b||b.apply(this,[a]))&&("string"!==typeof b||(new RegExp(b)).test(a))&&
(!(b instanceof RegExp)||b.test(a))}});A.count=0;A.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1E3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",
optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}};b.fn.selectize=function(a){var c=b.fn.selectize.defaults,d=b.extend({},c,a),e=d.dataAttr,h=d.labelField,k=d.valueField,l=d.optgroupField,m=d.optgroupLabelField,n=d.optgroupValueField,
q=function(a,c){var q,r,t,s,u=c.options,v={},G=function(a){a=e&&a.attr(e);return"string"===typeof a&&a.length?JSON.parse(a):null},y=function(a,e){a=b(a);var m=f(a.attr("value"));if(m||d.allowEmptyOption)if(v.hasOwnProperty(m)){if(e){var n=v[m][l];n?b.isArray(n)?n.push(e):v[m][l]=[n,e]:v[m][l]=e}}else n=G(a)||{},n[h]=n[h]||a.text(),n[k]=n[k]||m,n[l]=n[l]||e,v[m]=n,u.push(n),a.is(":selected")&&c.items.push(m)},A=function(a){var d,e,f;a=b(a);if(e=a.attr("label"))d=G(a)||{},d[m]=e,d[n]=e,c.optgroups.push(d);
f=b("option",a);a=0;for(d=f.length;a<d;a++)y(f[a],e)};c.maxItems=a.attr("multiple")?null:1;s=a.children();q=0;for(r=s.length;q<r;q++)t=s[q].tagName.toLowerCase(),"optgroup"===t?A(s[q]):"option"===t&&y(s[q])};return this.each(function(){if(!this.selectize){var f=b(this),l=this.tagName.toLowerCase(),m=f.attr("placeholder")||f.attr("data-placeholder");m||d.allowEmptyOption||(m=f.children('option[value\x3d""]').text());m={placeholder:m,options:[],optgroups:[],items:[]};if("select"===l)q(f,m);else{var n,
r,s;if(l=f.attr(e))for(m.options=JSON.parse(l),l=0,n=m.options.length;l<n;l++)m.items.push(m.options[l][k]);else if(l=b.trim(f.val()||""),d.allowEmptyOption||l.length){r=l.split(d.delimiter);l=0;for(n=r.length;l<n;l++)s={},s[h]=r[l],s[k]=r[l],m.options.push(s);m.items=r}}new A(f,b.extend(!0,{},c,m,a))}})};b.fn.selectize.defaults=A.defaults;b.fn.selectize.support={validity:n};A.define("drag_drop",function(a){if(!b.fn.sortable)throw Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===
this.settings.mode){var c=this;c.lock=function(){var a=c.lock;return function(){var b=c.$control.data("sortable");b&&b.disable();return a.apply(c,arguments)}}();c.unlock=function(){var a=c.unlock;return function(){var b=c.$control.data("sortable");b&&b.enable();return a.apply(c,arguments)}}();c.setup=function(){var a=c.setup;return function(){a.apply(this,arguments);var d=c.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:c.isLocked,start:function(a,b){b.placeholder.css("width",
b.helper.css("width"));d.css({overflow:"visible"})},stop:function(){d.css({overflow:"hidden"});var a=c.$activeItems?c.$activeItems.slice():null,e=[];d.children("[data-value]").each(function(){e.push(b(this).attr("data-value"))});c.setValue(e);c.setActiveItem(a)}})}}()}});A.define("dropdown_header",function(a){var c=this;a=b.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",
html:function(a){return'\x3cdiv class\x3d"'+a.headerClass+'"\x3e\x3cdiv class\x3d"'+a.titleRowClass+'"\x3e\x3cspan class\x3d"'+a.labelClass+'"\x3e'+a.title+'\x3c/span\x3e\x3ca href\x3d"javascript:void(0)" class\x3d"'+a.closeClass+'"\x3e\x26times;\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e'}},a);c.setup=function(){var d=c.setup;return function(){d.apply(c,arguments);c.$dropdown_header=b(a.html(a));c.$dropdown.prepend(c.$dropdown_header)}}()});A.define("optgroup_columns",function(a){var c=this;a=b.extend({equalizeWidth:!0,
equalizeHeight:!0},a);this.getAdjacentOption=function(a,c){var d=a.closest("[data-group]").find("[data-selectable]"),e=d.index(a)+c;return 0<=e&&e<d.length?d.eq(e):b()};this.onKeyDown=function(){var a=c.onKeyDown;return function(b){var d,e;if(!this.isOpen||37!==b.keyCode&&39!==b.keyCode)return a.apply(this,arguments);c.ignoreHover=!0;e=this.$activeOption.closest("[data-group]");d=e.find("[data-selectable]").index(this.$activeOption);e=37===b.keyCode?e.prev("[data-group]"):e.next("[data-group]");e=
e.find("[data-selectable]");d=e.eq(Math.min(e.length-1,d));d.length&&this.setActiveOption(d)}}();var d=function(){var a,b=d.width,c=document;"undefined"===typeof b&&(a=c.createElement("div"),a.innerHTML='\x3cdiv style\x3d"width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"\x3e\x3cdiv style\x3d"width:1px;height:100px;"\x3e\x3c/div\x3e\x3c/div\x3e',a=a.firstChild,c.body.appendChild(a),b=d.width=a.offsetWidth-a.clientWidth,c.body.removeChild(a));return b},e=function(){var e,
f,h,k;k=b("[data-group]",c.$dropdown_content);if((f=k.length)&&c.$dropdown_content.width()){if(a.equalizeHeight){for(e=h=0;e<f;e++)h=Math.max(h,k.eq(e).height());k.css({height:h})}a.equalizeWidth&&(h=c.$dropdown_content.innerWidth()-d(),e=Math.round(h/f),k.css({width:e}),1<f&&(e=h-e*(f-1),k.eq(f-1).css({width:e})))}};if(a.equalizeHeight||a.equalizeWidth)s.after(this,"positionDropdown",e),s.after(this,"refreshOptions",e)});A.define("remove_button",function(a){if("single"!==this.settings.mode){a=b.extend({label:"\x26times;",
title:"Remove",className:"remove",append:!0},a);var c=this,d='\x3ca href\x3d"javascript:void(0)" class\x3d"'+a.className+'" tabindex\x3d"-1" title\x3d"'+h(a.title)+'"\x3e'+a.label+"\x3c/a\x3e";this.setup=function(){var e=c.setup;return function(){if(a.append){var f=c.settings.render.item;c.settings.render.item=function(a){var b=f.apply(this,arguments),c=b.search(/(<\/[^>]+>\s*)$/);return b.substring(0,c)+d+b.substring(c)}}e.apply(this,arguments);this.$control.on("click","."+a.className,function(a){a.preventDefault();
c.isLocked||(a=b(a.currentTarget).parent(),c.setActiveItem(a),c.deleteSelection()&&c.setCaret(c.items.length))});this.$control.on("click",".remove-all",function(a){c.removeAllItem()})}}()}});A.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]};this.onKeyDown=function(){var c=b.onKeyDown;return function(b){var d;if(8===b.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(d=this.caretPos-1,0<=d&&d<this.items.length)){d=
this.options[this.items[d]];this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[d])),this.refreshOptions(!0));b.preventDefault();return}return c.apply(this,arguments)}}()});return A});"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);"undefined"!==typeof define&&"undefined"!==typeof define.amd&&(amdOriginal=define.amd,define.amd=null);var momentNoConflict;window.moment&&(momentNoConflict=window.moment);
!function(b,d){"object"==typeof exports&&"undefined"!=typeof module?module.exports=d():"function"==typeof define&&define.amd?define(d):b.moment=d()}(this,function(){function b(){return Vb.apply(null,arguments)}function d(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function c(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function k(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function l(a){return a instanceof
Date||"[object Date]"===Object.prototype.toString.call(a)}function a(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function e(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function m(a,b){for(var c in b)e(b,c)&&(a[c]=b[c]);return e(b,"toString")&&(a.toString=b.toString),e(b,"valueOf")&&(a.valueOf=b.valueOf),a}function n(a,b,c,d){return Wa(a,b,c,d,!0).utc()}function f(a){return null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,
invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),a._pf}function h(a){if(null==a._isValid){var b=f(a),c=cc.call(b.parsedDateParts,function(a){return null!=a}),c=!isNaN(a._d.getTime())&&0>b.overflow&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(c=c&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return c;
a._isValid=c}return a._isValid}function q(a){var b=n(NaN);return null!=a?m(f(b),a):f(b).userInvalidated=!0,b}function s(a){return void 0===a}function r(a,b){var c,d,g;if(s(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),s(b._i)||(a._i=b._i),s(b._f)||(a._f=b._f),s(b._l)||(a._l=b._l),s(b._strict)||(a._strict=b._strict),s(b._tzm)||(a._tzm=b._tzm),s(b._isUTC)||(a._isUTC=b._isUTC),s(b._offset)||(a._offset=b._offset),s(b._pf)||(a._pf=f(b)),s(b._locale)||(a._locale=b._locale),0<Ab.length)for(c in Ab)d=
Ab[c],g=b[d],s(g)||(a[d]=g);return a}function B(a){r(this,a);this._d=new Date(null!=a._d?a._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===rb&&(rb=!0,b.updateOffset(this),rb=!1)}function y(a){return a instanceof B||null!=a&&null!=a._isAMomentObject}function v(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function u(a){a=+a;var b=0;return 0!==a&&isFinite(a)&&(b=v(a)),b}function C(a,b,c){var d,g=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),f=0;for(d=0;d<g;d++)(c&&a[d]!==b[d]||
!c&&u(a[d])!==u(b[d]))&&f++;return f+e}function A(a){!1===b.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function t(a,c){var d=!0;return m(function(){if(null!=b.deprecationHandler&&b.deprecationHandler(null,a),d){for(var g,e=[],f=0;f<arguments.length;f++){if(g="","object"==typeof arguments[f]){g+="\n["+f+"] ";for(var h in arguments[0])g+=h+": "+arguments[0][h]+", ";g=g.slice(0,-2)}else g=arguments[f];e.push(g)}A(a+"\nArguments: "+
Array.prototype.slice.call(e).join("")+"\n"+Error().stack);d=!1}return c.apply(this,arguments)},c)}function G(a,c){null!=b.deprecationHandler&&b.deprecationHandler(a,c);qb[a]||(A(c),qb[a]=!0)}function L(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function M(a,b){var d,g=m({},a);for(d in b)e(b,d)&&(c(a[d])&&c(b[d])?(g[d]={},m(g[d],a[d]),m(g[d],b[d])):null!=b[d]?g[d]=b[d]:delete g[d]);for(d in a)e(a,d)&&!e(b,d)&&c(a[d])&&(g[d]=m({},g[d]));return g}function Q(a){null!=
a&&this.set(a)}function w(a,b){var c=a.toLowerCase();vb[c]=vb[c+"s"]=vb[b]=a}function K(a){return"string"==typeof a?vb[a]||vb[a.toLowerCase()]:void 0}function N(a){var b,c,d={};for(c in a)e(a,c)&&(b=K(c),b&&(d[b]=a[c]));return d}function T(a){var b=[],c;for(c in a)b.push({unit:c,priority:ra[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function V(a,c){return function(d){null!=d?(this.isValid()&&this._d["set"+(this._isUTC?"UTC":"")+a](d),d=(b.updateOffset(this,c),this)):d=ta(this,
a);return d}}function ta(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function ja(a,b,c){var d=""+Math.abs(a);return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,b-d.length)).toString().substr(1)+d}function z(a,b,c,d){var g=d;"string"==typeof d&&(g=function(){return this[d]()});a&&(Ca[a]=g);b&&(Ca[b[0]]=function(){return ja(g.apply(this,arguments),b[1],b[2])});c&&(Ca[c]=function(){return this.localeData().ordinal(g.apply(this,arguments),a)})}function pa(a){return a.match(/\[[\s\S]/)?
a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function U(a){var b,c,d=a.match(Jb);b=0;for(c=d.length;b<c;b++)Ca[d[b]]?d[b]=Ca[d[b]]:d[b]=pa(d[b]);return function(b){var g,e="";for(g=0;g<c;g++)e+=d[g]instanceof Function?d[g].call(b,a):d[g];return e}}function Ka(a,b){return a.isValid()?(b=D(b,a.localeData()),Sa[b]=Sa[b]||U(b),Sa[b](a)):a.localeData().invalidDate()}function D(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(sb.lastIndex=0;0<=d&&sb.test(a);)a=a.replace(sb,c),sb.lastIndex=0,
d-=1;return a}function I(a,b,c){Qb[a]=L(b)?b:function(a,d){return a&&c?c:b}}function ua(a,b){return e(Qb,a)?Qb[a](b._strict,b._locale):new RegExp(ba(a))}function ba(a){return ia(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,g){return b||c||d||g}))}function ia(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26")}function P(a,b){var c,d=b;"string"==typeof a&&(a=[a]);k(b)&&(d=function(a,c){c[b]=u(a)});for(c=0;c<a.length;c++)Rb[a[c]]=d}function ka(a,b){P(a,function(a,
c,d,g){d._w=d._w||{};b(a,d._w,d,g)})}function Z(a,b){return(new Date(Date.UTC(a,b+1,0))).getUTCDate()}function W(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=u(b);else if(b=a.localeData().monthsParse(b),!k(b))return a;return c=Math.min(a.date(),Z(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function qa(a){return null!=a?(W(this,a),b.updateOffset(this,!0),this):ta(this,"Month")}function $a(){function a(b,c){return c.length-b.length}var b,c,d=[],g=[],
e=[];for(b=0;12>b;b++)c=n([2E3,b]),d.push(this.monthsShort(c,"")),g.push(this.months(c,"")),e.push(this.months(c,"")),e.push(this.monthsShort(c,""));d.sort(a);g.sort(a);e.sort(a);for(b=0;12>b;b++)d[b]=ia(d[b]),g[b]=ia(g[b]);for(b=0;24>b;b++)e[b]=ia(e[b]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+e.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+g.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function ha(a){return 0===a%4&&0!==a%100||
0===a%400}function sa(a,b,c,d,g,e,f){b=new Date(a,b,c,d,g,e,f);return 100>a&&0<=a&&isFinite(b.getFullYear())&&b.setFullYear(a),b}function J(a){var b=new Date(Date.UTC.apply(null,arguments));return 100>a&&0<=a&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function ya(a,b,c){c=7+b-c;return-((7+J(a,0,c).getUTCDay()-b)%7)+c-1}function xa(a,b,c,d,g){var e,f;c=(7+c-d)%7;d=ya(a,d,g);b=1+7*(b-1)+c+d;return 0>=b?(e=a-1,f=(ha(e)?366:365)+b):b>(ha(a)?366:365)?(e=a+1,f=b-(ha(a)?366:365)):(e=a,f=b),{year:e,
dayOfYear:f}}function ma(a,b,c){var d,g,e=ya(a.year(),b,c),e=Math.floor((a.dayOfYear()-e-1)/7)+1;return 1>e?(g=a.year()-1,d=e+Da(g,b,c)):e>Da(a.year(),b,c)?(d=e-Da(a.year(),b,c),g=a.year()+1):(g=a.year(),d=e),{week:d,year:g}}function Da(a,b,c){var d=ya(a,b,c);b=ya(a+1,b,c);return((ha(a)?366:365)-d+b)/7}function Ga(){function a(b,c){return c.length-b.length}var b,c,d,g,e=[],f=[],h=[],x=[];for(b=0;7>b;b++)c=n([2E3,1]).day(b),d=this.weekdaysMin(c,""),g=this.weekdaysShort(c,""),c=this.weekdays(c,""),
e.push(d),f.push(g),h.push(c),x.push(d),x.push(g),x.push(c);e.sort(a);f.sort(a);h.sort(a);x.sort(a);for(b=0;7>b;b++)f[b]=ia(f[b]),h[b]=ia(h[b]),x[b]=ia(x[b]);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+x.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+h.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+f.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Ha(){return this.hours()%12||12}
function gb(a,b){z(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function La(a,b){return b._meridiemParse}function Ma(a){return a?a.toLowerCase().replace("_","-"):a}function hb(a){var b=null;if(!la[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Gb._abbr,require("./locale/"+a),S(b)}catch(c){}return la[a]}function S(a,b){var c;return a&&(c=s(b)?g(a):p(a,b),c&&(Gb=c)),Gb._abbr}function p(a,b){if(null!==b){var c=jc;if(b.abbr=a,null!=la[a])G("defineLocaleOverride",
"use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=la[a]._config;else if(null!=b.parentLocale){if(null==la[b.parentLocale])return Hb[b.parentLocale]||(Hb[b.parentLocale]=[]),Hb[b.parentLocale].push({name:a,config:b}),null;c=la[b.parentLocale]._config}return la[a]=new Q(M(c,b)),Hb[a]&&Hb[a].forEach(function(a){p(a.name,
a.config)}),S(a),la[a]}return delete la[a],null}function g(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Gb;if(!d(a)){if(b=hb(a))return b;a=[a]}a:{for(var c,g,e,f=0;f<a.length;){e=Ma(a[f]).split("-");b=e.length;for(c=(c=Ma(a[f+1]))?c.split("-"):null;0<b;){if(g=hb(e.slice(0,b).join("-"))){a=g;break a}if(c&&c.length>=b&&C(e,c,!0)>=b-1)break;b--}f++}a=null}return a}function x(a){var b,c=a._a;return c&&-2===f(a).overflow&&(b=0>c[Oa]||11<c[Oa]?Oa:1>c[Ia]||c[Ia]>Z(c[Fa],c[Oa])?
Ia:0>c[na]||24<c[na]||24===c[na]&&(0!==c[za]||0!==c[Ja]||0!==c[Pa])?na:0>c[za]||59<c[za]?za:0>c[Ja]||59<c[Ja]?Ja:0>c[Pa]||999<c[Pa]?Pa:-1,f(a)._overflowDayOfYear&&(b<Fa||b>Ia)&&(b=Ia),f(a)._overflowWeeks&&-1===b&&(b=ic),f(a)._overflowWeekday&&-1===b&&(b=yb),f(a).overflow=b),a}function aa(a){var b,c,d,g,e,h;b=a._i;var x=mc.exec(b)||nc.exec(b);if(x){f(a).iso=!0;b=0;for(c=Sb.length;b<c;b++)if(Sb[b][1].exec(x[1])){g=Sb[b][0];d=!1!==Sb[b][2];break}if(null==g)return void(a._isValid=!1);if(x[3]){b=0;for(c=
ac.length;b<c;b++)if(ac[b][1].exec(x[3])){e=(x[2]||" ")+ac[b][0];break}if(null==e)return void(a._isValid=!1)}if(!d&&null!=e)return void(a._isValid=!1);if(x[4]){if(!oc.exec(x[4]))return void(a._isValid=!1);h="Z"}a._f=g+(e||"")+(h||"");Aa(a)}else a._isValid=!1}function R(a){var c=pc.exec(a._i);return null!==c?void(a._d=new Date(+c[1])):(aa(a),void(!1===a._isValid&&(delete a._isValid,b.createFromInputFallback(a))))}function Y(a,b,c){return null!=a?a:null!=b?b:c}function ca(a){var c,d,g,e=[];if(!a._d){d=
new Date(b.now());d=a._useUTC?[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()]:[d.getFullYear(),d.getMonth(),d.getDate()];if(a._w&&null==a._a[Ia]&&null==a._a[Oa]){var h,x,k,l,m,n,p,aa;(h=a._w,null!=h.GG||null!=h.W||null!=h.E)?(m=1,n=4,x=Y(h.GG,a._a[Fa],ma(da(),1,4).year),k=Y(h.W,1),l=Y(h.E,1),(1>l||7<l)&&(aa=!0)):(m=a._locale._week.dow,n=a._locale._week.doy,k=ma(da(),m,n),x=Y(h.gg,a._a[Fa],k.year),k=Y(h.w,k.week),null!=h.d?(l=h.d,(0>l||6<l)&&(aa=!0)):null!=h.e?(l=h.e+m,(0>h.e||6<h.e)&&(aa=!0)):
l=m);1>k||k>Da(x,m,n)?f(a)._overflowWeeks=!0:null!=aa?f(a)._overflowWeekday=!0:(p=xa(x,k,l,m,n),a._a[Fa]=p.year,a._dayOfYear=p.dayOfYear)}a._dayOfYear&&(g=Y(a._a[Fa],d[Fa]),a._dayOfYear>(ha(g)?366:365)&&(f(a)._overflowDayOfYear=!0),c=J(g,0,a._dayOfYear),a._a[Oa]=c.getUTCMonth(),a._a[Ia]=c.getUTCDate());for(c=0;3>c&&null==a._a[c];++c)a._a[c]=e[c]=d[c];for(;7>c;c++)a._a[c]=e[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[na]&&0===a._a[za]&&0===a._a[Ja]&&0===a._a[Pa]&&(a._nextDay=!0,a._a[na]=0);a._d=(a._useUTC?
J:sa).apply(null,e);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[na]=24)}}function Aa(a){if(a._f===b.ISO_8601)return void aa(a);a._a=[];f(a).empty=!0;var c,d,g,h,k,l=""+a._i,m=l.length,n=0;g=D(a._f,a._locale).match(Jb)||[];for(c=0;c<g.length;c++)if(h=g[c],(d=(l.match(ua(h,a))||[])[0])&&(k=l.substr(0,l.indexOf(d)),0<k.length&&f(a).unusedInput.push(k),l=l.slice(l.indexOf(d)+d.length),n+=d.length),Ca[h]){d?f(a).empty=!1:f(a).unusedTokens.push(h);var p=a;null!=d&&e(Rb,
h)&&Rb[h](d,p._a,p,h)}else a._strict&&!d&&f(a).unusedTokens.push(h);f(a).charsLeftOver=m-n;0<l.length&&f(a).unusedInput.push(l);12>=a._a[na]&&!0===f(a).bigHour&&0<a._a[na]&&(f(a).bigHour=void 0);f(a).parsedDateParts=a._a.slice(0);f(a).meridiem=a._meridiem;c=a._a;g=na;l=a._locale;k=a._a[na];var m=a._meridiem,R,l=null==m?k:null!=l.meridiemHour?l.meridiemHour(k,m):null!=l.isPM?(R=l.isPM(m),R&&12>k&&(k+=12),R||12!==k||(k=0),k):k;c[g]=l;ca(a);x(a)}function Va(b){if(!b._d){var c=N(b._i);b._a=a([c.year,
c.month,c.day||c.date,c.hour,c.minute,c.second,c.millisecond],function(a){return a&&parseInt(a,10)});ca(b)}}function ub(a){var b=a._i,c=a._f;a._locale=a._locale||g(a._l);if(null===b||void 0===c&&""===b)a=q({nullInput:!0});else if("string"==typeof b&&(a._i=b=a._locale.preparse(b)),y(b))a=new B(x(b));else{if(l(b))a._d=b;else if(d(c)){var e,k,n;if(0===a._f.length)f(a).invalidFormat=!0,a._d=new Date(NaN);else{for(b=0;b<a._f.length;b++)c=0,e=r({},a),null!=a._useUTC&&(e._useUTC=a._useUTC),e._f=a._f[b],
Aa(e),h(e)&&(c+=f(e).charsLeftOver,c+=10*f(e).unusedTokens.length,f(e).score=c,(null==n||c<n)&&(n=c,k=e));m(a,k||e)}}else c?Aa(a):eb(a);a=(h(a)||(a._d=null),a)}return a}function eb(c){var g=c._i;void 0===g?c._d=new Date(b.now()):l(g)?c._d=new Date(g.valueOf()):"string"==typeof g?R(c):d(g)?(c._a=a(g.slice(0),function(a){return parseInt(a,10)}),ca(c)):"object"==typeof g?Va(c):k(g)?c._d=new Date(g):b.createFromInputFallback(c)}function Wa(a,b,g,e,f){var h={};!0!==g&&!1!==g||(e=g,g=void 0);var k;if(k=
c(a))a:{k=a;for(var l in k){k=!1;break a}k=!0}(k||d(a)&&0===a.length)&&(a=void 0);h._isAMomentObject=!0;h._useUTC=h._isUTC=f;h._l=g;h._i=a;h._f=b;h._strict=e;a=new B(x(ub(h)));return a._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function da(a,b,c,d){return Wa(a,b,c,d,!1)}function Xa(a,b){var c,g;if(1===b.length&&d(b[0])&&(b=b[0]),!b.length)return da();c=b[0];for(g=1;g<b.length;++g)b[g].isValid()&&!b[g][a](c)||(c=b[g]);return c}function bb(a){a=N(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,e=a.week||
0,f=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=+f+7*e;this._months=+d+3*c+12*b;this._data={};this._locale=g();this._bubble()}function fa(a){return a instanceof bb}function Kb(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function Bb(a,b){z(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+ja(~~(a/60),2)+b+ja(~~a%60,2)})}function Ea(a,b){var c=(b||"").match(a);if(null===c)return null;var c=((c[c.length-1]||
[])+"").match(rc)||["-",0,0],d=+(60*c[1])+u(c[2]);return 0===d?0:"+"===c[0]?d:-d}function lb(a,c){var d,g;return c._isUTC?(d=c.clone(),g=(y(a)||l(a)?a.valueOf():da(a).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+g),b.updateOffset(d,!1),d):da(a).local()}function O(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function va(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Qa(a,b){var c,d,g,f=a;g=null;fa(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:k(a)?(f={},b?f[b]=a:
f.milliseconds=a):(g=sc.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:u(g[Ia])*c,h:u(g[na])*c,m:u(g[za])*c,s:u(g[Ja])*c,ms:u(Kb(1E3*g[Pa]))*c}):(g=tc.exec(a))?(c="-"===g[1]?-1:1,f={y:Za(g[2],c),M:Za(g[3],c),w:Za(g[4],c),d:Za(g[5],c),h:Za(g[6],c),m:Za(g[7],c),s:Za(g[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(g=da(f.from),f=da(f.to),g=g.isValid()&&f.isValid()?(f=lb(f,g),g.isBefore(f)?c=Lb(g,f):(c=Lb(f,g),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},f=
{},f.ms=g.milliseconds,f.M=g.months);return d=new bb(f),fa(a)&&e(a,"_locale")&&(d._locale=a._locale),d}function Za(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Lb(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function fb(a,b){return function(c,d){var g,e;return null===d||isNaN(+d)||(G(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+
b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),e=c,c=d,d=e),c="string"==typeof c?+c:c,g=Qa(c,d),Ra(this,g,a),this}}function Ra(a,c,d,g){var e=c._milliseconds,f=Kb(c._days);c=Kb(c._months);a.isValid()&&(g=null==g||g,e&&a._d.setTime(a._d.valueOf()+e*d),f&&(e=ta(a,"Date")+f*d,a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+"Date"](e)),c&&W(a,ta(a,"Month")+c*d),g&&b.updateOffset(a,f||c))}function ob(a){var b;return void 0===a?this._locale._abbr:(b=g(a),
null!=b&&(this._locale=b),this)}function Mb(){return this._locale}function pb(a,b){z(0,[a,a.length],0,b)}function Nb(a,b,c,d,g){var e;null==a?a=ma(this,d,g).year:(e=Da(a,d,g),b>e&&(b=e),a=xa(a,b,c,d,g),a=J(a.year,0,a.dayOfYear),a=(this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this));return a}function Ub(a,b){b[Pa]=u(1E3*("0."+a))}function Ib(a){return a}function wa(a,b,c,d){var e=g();b=n().set(d,b);return e[c](b,a)}function Tb(a,b,c){if(k(a)&&(b=a,a=void 0),a=
a||"",null!=b)return wa(a,b,c,"month");var d=[];for(b=0;12>b;b++)d[b]=wa(a,b,c,"month");return d}function mb(a,b,c,d){"boolean"==typeof a?(k(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,k(b)&&(c=b,b=void 0),b=b||"");var e=g();a=a?e._week.dow:0;if(null!=c)return wa(b,(c+a)%7,d,"day");e=[];for(c=0;7>c;c++)e[c]=wa(b,(c+a)%7,d,"day");return e}function Wb(a,b,c,d){b=Qa(b,c);return a._milliseconds+=d*b._milliseconds,a._days+=d*b._days,a._months+=d*b._months,a._bubble()}function Xb(a){return 0>a?Math.floor(a):
Math.ceil(a)}function Na(a){return function(){return this.as(a)}}function cb(a){return function(){return this._data[a]}}function fc(a,b,c,d,g){return g.relativeTime(b||1,!!c,a,d)}function zb(){var a,b,c,d=ec(this._milliseconds)/1E3,g=ec(this._days),e=ec(this._months);a=v(d/60);b=v(a/60);d%=60;a%=60;c=v(e/12);var e=e%12,f=this.asSeconds();return f?(0>f?"-":"")+"P"+(c?c+"Y":"")+(e?e+"M":"")+(g?g+"D":"")+(b||a||d?"T":"")+(b?b+"H":"")+(a?a+"M":"")+(d?d+"S":""):"P0D"}var Vb,cc=Array.prototype.some?Array.prototype.some:
function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1},Ab=b.momentProperties=[],rb=!1,qb={};b.suppressDeprecationWarnings=!1;b.deprecationHandler=null;var gc=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)e(a,b)&&c.push(b);return c},vb={},ra={},Jb=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
sb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Sa={},Ca={},Yb=/\d/,Ba=/\d\d/,Ob=/\d{3}/,db=/\d{4}/,Cb=/[+-]?\d{6}/,ea=/\d\d?/,Zb=/\d\d\d\d?/,Pb=/\d\d\d\d\d\d?/,Ya=/\d{1,3}/,Db=/\d{1,4}/,nb=/[+-]?\d{1,6}/,dc=/\d+/,wb=/[+-]?\d+/,hc=/Z|[+-]\d\d:?\d\d/gi,Eb=/Z|[+-]\d\d(?::?\d\d)?/gi,xb=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Qb={},Rb={},Fa=0,Oa=1,Ia=2,na=3,za=4,Ja=5,Pa=6,ic=7,yb=8,oa=Array.prototype.indexOf?Array.prototype.indexOf:
function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};z("M",["MM",2],"Mo",function(){return this.month()+1});z("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});z("MMMM",0,0,function(a){return this.localeData().months(this,a)});w("month","M");ra.month=8;I("M",ea);I("MM",ea,Ba);I("MMM",function(a,b){return b.monthsShortRegex(a)});I("MMMM",function(a,b){return b.monthsRegex(a)});P(["M","MM"],function(a,b){b[Oa]=u(a)-1});P(["MMM","MMMM"],function(a,b,c,d){d=
c._locale.monthsParse(a,d,c._strict);null!=d?b[Oa]=d:f(c).invalidMonth=a});var Fb=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;z("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a});z(0,["YY",2],0,function(){return this.year()%100});z(0,["YYYY",4],0,"year");z(0,["YYYYY",5],0,"year");z(0,["YYYYYY",6,!0],0,"year");w("year","y");ra.year=1;I("Y",wb);I("YY",ea,Ba);I("YYYY",Db,db);I("YYYYY",nb,Cb);I("YYYYYY",nb,Cb);P(["YYYYY","YYYYYY"],Fa);P("YYYY",function(a,c){c[Fa]=2===a.length?b.parseTwoDigitYear(a):
u(a)});P("YY",function(a,c){c[Fa]=b.parseTwoDigitYear(a)});P("Y",function(a,b){b[Fa]=parseInt(a,10)});b.parseTwoDigitYear=function(a){return u(a)+(68<u(a)?1900:2E3)};var $b=V("FullYear",!0);z("w",["ww",2],"wo","week");z("W",["WW",2],"Wo","isoWeek");w("week","w");w("isoWeek","W");ra.week=5;ra.isoWeek=5;I("w",ea);I("ww",ea,Ba);I("W",ea);I("WW",ea,Ba);ka(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=u(a)});z("d",0,"do","day");z("dd",0,0,function(a){return this.localeData().weekdaysMin(this,
a)});z("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});z("dddd",0,0,function(a){return this.localeData().weekdays(this,a)});z("e",0,0,"weekday");z("E",0,0,"isoWeekday");w("day","d");w("weekday","e");w("isoWeekday","E");ra.day=11;ra.weekday=11;ra.isoWeekday=11;I("d",ea);I("e",ea);I("E",ea);I("dd",function(a,b){return b.weekdaysMinRegex(a)});I("ddd",function(a,b){return b.weekdaysShortRegex(a)});I("dddd",function(a,b){return b.weekdaysRegex(a)});ka(["dd","ddd","dddd"],function(a,
b,c,d){d=c._locale.weekdaysParse(a,d,c._strict);null!=d?b.d=d:f(c).invalidWeekday=a});ka(["d","e","E"],function(a,b,c,d){b[d]=u(a)});z("H",["HH",2],0,"hour");z("h",["hh",2],0,Ha);z("k",["kk",2],0,function(){return this.hours()||24});z("hmm",0,0,function(){return""+Ha.apply(this)+ja(this.minutes(),2)});z("hmmss",0,0,function(){return""+Ha.apply(this)+ja(this.minutes(),2)+ja(this.seconds(),2)});z("Hmm",0,0,function(){return""+this.hours()+ja(this.minutes(),2)});z("Hmmss",0,0,function(){return""+this.hours()+
ja(this.minutes(),2)+ja(this.seconds(),2)});gb("a",!0);gb("A",!1);w("hour","h");ra.hour=13;I("a",La);I("A",La);I("H",ea);I("h",ea);I("HH",ea,Ba);I("hh",ea,Ba);I("hmm",Zb);I("hmmss",Pb);I("Hmm",Zb);I("Hmmss",Pb);P(["H","HH"],na);P(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});P(["h","hh"],function(a,b,c){b[na]=u(a);f(c).bigHour=!0});P("hmm",function(a,b,c){var d=a.length-2;b[na]=u(a.substr(0,d));b[za]=u(a.substr(d));f(c).bigHour=!0});P("hmmss",function(a,b,c){var d=a.length-4,
g=a.length-2;b[na]=u(a.substr(0,d));b[za]=u(a.substr(d,2));b[Ja]=u(a.substr(g));f(c).bigHour=!0});P("Hmm",function(a,b,c){c=a.length-2;b[na]=u(a.substr(0,c));b[za]=u(a.substr(c))});P("Hmmss",function(a,b,c){c=a.length-4;var d=a.length-2;b[na]=u(a.substr(0,c));b[za]=u(a.substr(c,2));b[Ja]=u(a.substr(d))});var Gb,H=V("Hours",!0),jc={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",
LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),meridiemParse:/[ap]\.?m?\.?/i},la={},Hb={},mc=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,nc=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
oc=/Z|[+-]\d\d(?::?\d\d)?/,Sb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ac=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",
/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],pc=/^\/?Date\((\-?\d+)/i;b.createFromInputFallback=t("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=
new Date(a._i+(a._useUTC?" UTC":""))});b.ISO_8601=function(){};var qc=t("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=da.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:q()}),bc=t("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=da.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:q()});Bb("Z",":");Bb("ZZ","");I("Z",
Eb);I("ZZ",Eb);P(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=Ea(Eb,a)});var rc=/([\+\-]|\d\d)/gi;b.updateOffset=function(){};var sc=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,tc=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Qa.fn=bb.prototype;var Dc=fb(1,"add"),Ec=fb(-1,"subtract");b.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";b.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var kc=t("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",
function(a){return void 0===a?this.localeData():this.locale(a)});z(0,["gg",2],0,function(){return this.weekYear()%100});z(0,["GG",2],0,function(){return this.isoWeekYear()%100});pb("gggg","weekYear");pb("ggggg","weekYear");pb("GGGG","isoWeekYear");pb("GGGGG","isoWeekYear");w("weekYear","gg");w("isoWeekYear","GG");ra.weekYear=1;ra.isoWeekYear=1;I("G",wb);I("g",wb);I("GG",ea,Ba);I("gg",ea,Ba);I("GGGG",Db,db);I("gggg",Db,db);I("GGGGG",nb,Cb);I("ggggg",nb,Cb);ka(["gggg","ggggg","GGGG","GGGGG"],function(a,
b,c,d){b[d.substr(0,2)]=u(a)});ka(["gg","GG"],function(a,c,d,g){c[g]=b.parseTwoDigitYear(a)});z("Q",0,"Qo","quarter");w("quarter","Q");ra.quarter=7;I("Q",Yb);P("Q",function(a,b){b[Oa]=3*(u(a)-1)});z("D",["DD",2],"Do","date");w("date","D");ra.date=9;I("D",ea);I("DD",ea,Ba);I("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient});P(["D","DD"],Ia);P("Do",function(a,b){b[Ia]=u(a.match(ea)[0],10)});var lc=V("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear");w("dayOfYear","DDD");ra.dayOfYear=
4;I("DDD",Ya);I("DDDD",Ob);P(["DDD","DDDD"],function(a,b,c){c._dayOfYear=u(a)});z("m",["mm",2],0,"minute");w("minute","m");ra.minute=14;I("m",ea);I("mm",ea,Ba);P(["m","mm"],za);var Gc=V("Minutes",!1);z("s",["ss",2],0,"second");w("second","s");ra.second=15;I("s",ea);I("ss",ea,Ba);P(["s","ss"],Ja);var Ic=V("Seconds",!1);z("S",0,0,function(){return~~(this.millisecond()/100)});z(0,["SS",2],0,function(){return~~(this.millisecond()/10)});z(0,["SSS",3],0,"millisecond");z(0,["SSSS",4],0,function(){return 10*
this.millisecond()});z(0,["SSSSS",5],0,function(){return 100*this.millisecond()});z(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});z(0,["SSSSSSS",7],0,function(){return 1E4*this.millisecond()});z(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});z(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});w("millisecond","ms");ra.millisecond=16;I("S",Ya,Yb);I("SS",Ya,Ba);I("SSS",Ya,Ob);var Ta;for(Ta="SSSS";9>=Ta.length;Ta+="S")I(Ta,dc);for(Ta="S";9>=Ta.length;Ta+="S")P(Ta,
Ub);var Cc=V("Milliseconds",!1);z("z",0,0,"zoneAbbr");z("zz",0,0,"zoneName");var F=B.prototype;F.add=Dc;F.calendar=function(a,c){var d=a||da(),g=lb(d,this).startOf("day"),g=b.calendarFormat(this,g)||"sameElse",e=c&&(L(c[g])?c[g].call(this,d):c[g]);return this.format(e||this.localeData().calendar(g,this,da(d)))};F.clone=function(){return new B(this)};F.diff=function(a,b,c){var d,g;if(this.isValid())if(a=lb(a,this),a.isValid()){d=6E4*(a.utcOffset()-this.utcOffset());b=K(b);if("year"===b||"month"===
b||"quarter"===b){var e;d=12*(a.year()-this.year())+(a.month()-this.month());var f=this.clone().add(d,"months");a=(0>a-f?(g=this.clone().add(d-1,"months"),e=(a-f)/(f-g)):(g=this.clone().add(d+1,"months"),e=(a-f)/(g-f)),-(d+e)||0);"quarter"===b?a/=3:"year"===b&&(a/=12)}else g=this-a,a="second"===b?g/1E3:"minute"===b?g/6E4:"hour"===b?g/36E5:"day"===b?(g-d)/864E5:"week"===b?(g-d)/6048E5:g;b=c?a:v(a)}else b=NaN;else b=NaN;return b};F.endOf=function(a){return a=K(a),void 0===a||"millisecond"===a?this:
("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))};F.format=function(a){a||(a=this.isUtc()?b.defaultFormatUtc:b.defaultFormat);a=Ka(this,a);return this.localeData().postformat(a)};F.from=function(a,b){return this.isValid()&&(y(a)&&a.isValid()||da(a).isValid())?Qa({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};F.fromNow=function(a){return this.from(da(),a)};F.to=function(a,b){return this.isValid()&&(y(a)&&a.isValid()||da(a).isValid())?
Qa({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};F.toNow=function(a){return this.to(da(),a)};F.get=function(a){return a=K(a),L(this[a])?this[a]():this};F.invalidAt=function(){return f(this).overflow};F.isAfter=function(a,b){var c=y(a)?a:da(a);return!(!this.isValid()||!c.isValid())&&(b=K(s(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())};F.isBefore=function(a,b){var c=y(a)?a:da(a);return!(!this.isValid()||
!c.isValid())&&(b=K(s(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())};F.isBetween=function(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))};F.isSame=function(a,b){var c,d=y(a)?a:da(a);return!(!this.isValid()||!d.isValid())&&(b=K(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))};
F.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,b)};F.isSameOrBefore=function(a,b){return this.isSame(a,b)||this.isBefore(a,b)};F.isValid=function(){return h(this)};F.lang=kc;F.locale=ob;F.localeData=Mb;F.max=bc;F.min=qc;F.parsingFlags=function(){return m({},f(this))};F.set=function(a,b){if("object"==typeof a){a=N(a);for(var c=T(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=K(a),L(this[a]))return this[a](b);return this};F.startOf=function(a){switch(a=K(a)){case "year":this.month(0);
case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":case "date":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this};F.subtract=Ec;F.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};F.toObject=function(){return{years:this.year(),
months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};F.toDate=function(){return new Date(this.valueOf())};F.toISOString=function(){var a=this.clone().utc();return 0<a.year()&&9999>=a.year()?L(Date.prototype.toISOString)?this.toDate().toISOString():Ka(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Ka(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")};F.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",
b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var a="["+a+'("]',c=0<this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(a+c+"-MM-DD[T]HH:mm:ss.SSS"+(b+'[")]'))};F.toJSON=function(){return this.isValid()?this.toISOString():null};F.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};F.unix=function(){return Math.floor(this.valueOf()/1E3)};F.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||
0)};F.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};F.year=$b;F.isLeapYear=function(){return ha(this.year())};F.weekYear=function(a){return Nb.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};F.isoWeekYear=function(a){return Nb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)};F.quarter=F.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%
3)};F.month=qa;F.daysInMonth=function(){return Z(this.year(),this.month())};F.week=F.weeks=function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")};F.isoWeek=F.isoWeeks=function(a){var b=ma(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};F.weeksInYear=function(){var a=this.localeData()._week;return Da(this.year(),a.dow,a.doy)};F.isoWeeksInYear=function(){return Da(this.year(),1,4)};F.date=lc;F.day=F.days=function(a){if(!this.isValid())return null!=a?this:NaN;var b=
this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a)var c=a,d=this.localeData(),b=(a="string"!=typeof c?c:isNaN(c)?(c=d.weekdaysParse(c),"number"==typeof c?c:null):parseInt(c,10),this.add(a-b,"d"));return b};F.weekday=function(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};F.isoWeekday=function(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=this.localeData();a="string"==typeof a?b.weekdaysParse(a)%
7||7:isNaN(a)?null:a;return this.day(this.day()%7?a:a-7)}return this.day()||7};F.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")};F.hour=F.hours=H;F.minute=F.minutes=Gc;F.second=F.seconds=Ic;F.millisecond=F.milliseconds=Cc;F.utcOffset=function(a,c){var d,g=this._offset||0;if(!this.isValid())return null!=a?this:NaN;if(null!=a){if("string"==typeof a){if(a=Ea(Eb,a),null===a)return this}else 16>Math.abs(a)&&
(a*=60);return!this._isUTC&&c&&(d=O(this)),this._offset=a,this._isUTC=!0,null!=d&&this.add(d,"m"),g!==a&&(!c||this._changeInProgress?Ra(this,Qa(a-g,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,b.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?g:O(this)};F.utc=function(a){return this.utcOffset(0,a)};F.local=function(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(O(this),"m")),this};F.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm);
else if("string"==typeof this._i){var a=Ea(hc,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this};F.hasAlignedHourOffset=function(a){return!!this.isValid()&&(a=a?da(a).utcOffset():0,0===(this.utcOffset()-a)%60)};F.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};F.isLocal=function(){return!!this.isValid()&&!this._isUTC};F.isUtcOffset=function(){return!!this.isValid()&&this._isUTC};F.isUtc=va;F.isUTC=va;
F.zoneAbbr=function(){return this._isUTC?"UTC":""};F.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};F.dates=t("dates accessor is deprecated. Use date instead.",lc);F.months=t("months accessor is deprecated. Use month instead",qa);F.years=t("years accessor is deprecated. Use year instead",$b);F.zone=t("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,
b),this):-this.utcOffset()});F.isDSTShifted=t("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var a={};if(r(a,this),a=ub(a),a._a){var b=a._isUTC?n(a._a):da(a._a);this._isDSTShifted=this.isValid()&&0<C(a._a,b.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var ga=Q.prototype;ga.calendar=function(a,b,c){a=this._calendar[a]||this._calendar.sameElse;return L(a)?a.call(b,
c):a};ga.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])};ga.invalidDate=function(){return this._invalidDate};ga.ordinal=function(a){return this._ordinal.replace("%d",a)};ga.preparse=Ib;ga.postformat=Ib;ga.relativeTime=function(a,b,c,d){var g=this._relativeTime[c];return L(g)?g(a,b,c,d):g.replace(/%d/i,a)};ga.pastFuture=function(a,
b){var c=this._relativeTime[0<a?"future":"past"];return L(c)?c(b):c.replace(/%s/i,b)};ga.set=function(a){var b,c;for(c in a)b=a[c],L(b)?this[c]=b:this["_"+c]=b;this._config=a;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)};ga.months=function(a,b){return a?d(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||Fb).test(b)?"format":"standalone"][a.month()]:this._months};ga.monthsShort=function(a,b){return a?d(this._monthsShort)?this._monthsShort[a.month()]:
this._monthsShort[Fb.test(b)?"format":"standalone"][a.month()]:this._monthsShort};ga.monthsParse=function(a,b,c){var d,g,e;if(this._monthsParseExact){e=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;12>a;++a)g=n([2E3,a]),this._shortMonthsParse[a]=this.monthsShort(g,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(g,"").toLocaleLowerCase();return c?"MMM"===b?(d=oa.call(this._shortMonthsParse,e),-1!==d?d:null):
(d=oa.call(this._longMonthsParse,e),-1!==d?d:null):"MMM"===b?(d=oa.call(this._shortMonthsParse,e),-1!==d?d:(d=oa.call(this._longMonthsParse,e),-1!==d?d:null)):(d=oa.call(this._longMonthsParse,e),-1!==d?d:(d=oa.call(this._shortMonthsParse,e),-1!==d?d:null))}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]);for(d=0;12>d;d++)if((g=n([2E3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(g,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=
new RegExp("^"+this.monthsShort(g,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(e="^"+this.months(g,"")+"|^"+this.monthsShort(g,""),this._monthsParse[d]=new RegExp(e.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))||c&&"MMM"===b&&this._shortMonthsParse[d].test(a)||!c&&this._monthsParse[d].test(a))return d};ga.monthsRegex=function(a){return this._monthsParseExact?(e(this,"_monthsRegex")||$a.call(this),a?this._monthsStrictRegex:this._monthsRegex):(e(this,"_monthsRegex")||
(this._monthsRegex=xb),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)};ga.monthsShortRegex=function(a){return this._monthsParseExact?(e(this,"_monthsRegex")||$a.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(e(this,"_monthsShortRegex")||(this._monthsShortRegex=xb),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)};ga.week=function(a){return ma(a,this._week.dow,this._week.doy).week};ga.firstDayOfYear=function(){return this._week.doy};
ga.firstDayOfWeek=function(){return this._week.dow};ga.weekdays=function(a,b){return a?d(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:this._weekdays};ga.weekdaysMin=function(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin};ga.weekdaysShort=function(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort};ga.weekdaysParse=function(a,b,c){var d,g,e;if(this._weekdaysParseExact){e=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=
[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;7>a;++a)g=n([2E3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(g,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(g,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(g,"").toLocaleLowerCase();return c?"dddd"===b?(d=oa.call(this._weekdaysParse,e),-1!==d?d:null):"ddd"===b?(d=oa.call(this._shortWeekdaysParse,e),-1!==d?d:null):(d=oa.call(this._minWeekdaysParse,e),-1!==d?d:null):"dddd"===b?(d=oa.call(this._weekdaysParse,
e),-1!==d?d:(d=oa.call(this._shortWeekdaysParse,e),-1!==d?d:(d=oa.call(this._minWeekdaysParse,e),-1!==d?d:null))):"ddd"===b?(d=oa.call(this._shortWeekdaysParse,e),-1!==d?d:(d=oa.call(this._weekdaysParse,e),-1!==d?d:(d=oa.call(this._minWeekdaysParse,e),-1!==d?d:null))):(d=oa.call(this._minWeekdaysParse,e),-1!==d?d:(d=oa.call(this._weekdaysParse,e),-1!==d?d:(d=oa.call(this._shortWeekdaysParse,e),-1!==d?d:null)))}this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=
[],this._fullWeekdaysParse=[]);for(d=0;7>d;d++)if((g=n([2E3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(g,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(g,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(g,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(e="^"+this.weekdays(g,"")+"|^"+this.weekdaysShort(g,"")+"|^"+this.weekdaysMin(g,""),this._weekdaysParse[d]=
new RegExp(e.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))||c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a)||c&&"dd"===b&&this._minWeekdaysParse[d].test(a)||!c&&this._weekdaysParse[d].test(a))return d};ga.weekdaysRegex=function(a){return this._weekdaysParseExact?(e(this,"_weekdaysRegex")||Ga.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(e(this,"_weekdaysRegex")||(this._weekdaysRegex=xb),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)};
ga.weekdaysShortRegex=function(a){return this._weekdaysParseExact?(e(this,"_weekdaysRegex")||Ga.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(e(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=xb),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)};ga.weekdaysMinRegex=function(a){return this._weekdaysParseExact?(e(this,"_weekdaysRegex")||Ga.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(e(this,"_weekdaysMinRegex")||
(this._weekdaysMinRegex=xb),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)};ga.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};ga.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"};S("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,b=1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});b.lang=t("moment.lang is deprecated. Use moment.locale instead.",S);b.langData=t("moment.langData is deprecated. Use moment.localeData instead.",
g);var ab=Math.abs,Jc=Na("ms"),Bc=Na("s"),Fc=Na("m"),Kc=Na("h"),Lc=Na("d"),wc=Na("w"),vc=Na("M"),Mc=Na("y"),xc=cb("milliseconds"),zc=cb("seconds"),Nc=cb("minutes"),Oc=cb("hours"),yc=cb("days"),Ac=cb("months"),uc=cb("years"),kb=Math.round,jb={s:45,m:45,h:22,d:26,M:11},ec=Math.abs,X=bb.prototype;X.abs=function(){var a=this._data;return this._milliseconds=ab(this._milliseconds),this._days=ab(this._days),this._months=ab(this._months),a.milliseconds=ab(a.milliseconds),a.seconds=ab(a.seconds),a.minutes=
ab(a.minutes),a.hours=ab(a.hours),a.months=ab(a.months),a.years=ab(a.years),this};X.add=function(a,b){return Wb(this,a,b,1)};X.subtract=function(a,b){return Wb(this,a,b,-1)};X.as=function(a){var b,c,d=this._milliseconds;if(a=K(a),"month"===a||"year"===a)return b=this._days+d/864E5,c=this._months+4800*b/146097,"month"===a?c:c/12;switch(b=this._days+Math.round(146097*this._months/4800),a){case "week":return b/7+d/6048E5;case "day":return b+d/864E5;case "hour":return 24*b+d/36E5;case "minute":return 1440*
b+d/6E4;case "second":return 86400*b+d/1E3;case "millisecond":return Math.floor(864E5*b)+d;default:throw Error("Unknown unit "+a);}};X.asMilliseconds=Jc;X.asSeconds=Bc;X.asMinutes=Fc;X.asHours=Kc;X.asDays=Lc;X.asWeeks=wc;X.asMonths=vc;X.asYears=Mc;X.valueOf=function(){return this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*u(this._months/12)};X._bubble=function(){var a,b,c,d,g,e=this._milliseconds,f=this._days,h=this._months,x=this._data;return 0<=e&&0<=f&&0<=h||0>=e&&0>=f&&0>=h||
(e+=864E5*Xb(146097*h/4800+f),f=0,h=0),x.milliseconds=e%1E3,a=v(e/1E3),x.seconds=a%60,b=v(a/60),x.minutes=b%60,c=v(b/60),x.hours=c%24,f+=v(c/24),g=v(4800*f/146097),h+=g,f-=Xb(146097*g/4800),d=v(h/12),h%=12,x.days=f,x.months=h,x.years=d,this};X.get=function(a){return a=K(a),this[a+"s"]()};X.milliseconds=xc;X.seconds=zc;X.minutes=Nc;X.hours=Oc;X.days=yc;X.weeks=function(){return v(this.days()/7)};X.months=Ac;X.years=uc;X.humanize=function(a){var b=this.localeData(),c;c=!a;var d=Qa(this).abs(),g=kb(d.as("s")),
e=kb(d.as("m")),f=kb(d.as("h")),h=kb(d.as("d")),x=kb(d.as("M")),d=kb(d.as("y")),g=g<jb.s&&["s",g]||1>=e&&["m"]||e<jb.m&&["mm",e]||1>=f&&["h"]||f<jb.h&&["hh",f]||1>=h&&["d"]||h<jb.d&&["dd",h]||1>=x&&["M"]||x<jb.M&&["MM",x]||1>=d&&["y"]||["yy",d];c=(g[2]=c,g[3]=0<+this,g[4]=b,fc.apply(null,g));return a&&(c=b.pastFuture(+this,c)),b.postformat(c)};X.toISOString=zb;X.toString=zb;X.toJSON=zb;X.locale=ob;X.localeData=Mb;X.toIsoString=t("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
zb);X.lang=kc;z("X",0,0,"unix");z("x",0,0,"valueOf");I("x",wb);I("X",/[+-]?\d+(\.\d{1,3})?/);P("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))});P("x",function(a,b,c){c._d=new Date(u(a))});b.version="2.17.1";Vb=da;return b.fn=F,b.min=function(){var a=[].slice.call(arguments,0);return Xa("isBefore",a)},b.max=function(){var a=[].slice.call(arguments,0);return Xa("isAfter",a)},b.now=function(){return Date.now?Date.now():+new Date},b.utc=n,b.unix=function(a){return da(1E3*a)},b.months=function(a,
b){return Tb(a,b,"months")},b.isDate=l,b.locale=S,b.invalid=q,b.duration=Qa,b.isMoment=y,b.weekdays=function(a,b,c){return mb(a,b,c,"weekdays")},b.parseZone=function(){return da.apply(null,arguments).parseZone()},b.localeData=g,b.isDuration=fa,b.monthsShort=function(a,b){return Tb(a,b,"monthsShort")},b.weekdaysMin=function(a,b,c){return mb(a,b,c,"weekdaysMin")},b.defineLocale=p,b.updateLocale=function(a,b){if(null!=b){var c;c=jc;null!=la[a]&&(c=la[a]._config);b=M(c,b);c=new Q(b);c.parentLocale=la[a];
la[a]=c;S(a)}else null!=la[a]&&(null!=la[a].parentLocale?la[a]=la[a].parentLocale:null!=la[a]&&delete la[a]);return la[a]},b.locales=function(){return gc(la)},b.weekdaysShort=function(a,b,c){return mb(a,b,c,"weekdaysShort")},b.normalizeUnits=K,b.relativeTimeRounding=function(a){return void 0===a?kb:"function"==typeof a&&(kb=a,!0)},b.relativeTimeThreshold=function(a,b){return void 0!==jb[a]&&(void 0===b?jb[a]:(jb[a]=b,!0))},b.calendarFormat=function(a,b){var c=a.diff(b,"days",!0);return-6>c?"sameElse":
-1>c?"lastWeek":0>c?"lastDay":1>c?"sameDay":2>c?"nextDay":7>c?"nextWeek":"sameElse"},b.prototype=F,b});var joeMoment=window.moment;window.moment=momentNoConflict;"undefined"!==typeof amdOriginal&&(define.amd=amdOriginal);
var Freshbots=function(b,d,c){b=b.noConflict(!0);String.prototype.includes||(String.prototype.includes=function(a,b){"number"!==typeof b&&(b=0);return b+a.length>this.length?!1:-1!==this.indexOf(a,b)});String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a});String.prototype.endsWith||(String.prototype.endsWith=function(a,b){b=b<this.length?b|0:this.length;return this.substr(b-a.length,a.length)===a});String.prototype.trim||(String.prototype.trim=
function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});FormData.prototype.joeAppendIfNotEmpty=function(b,c){a.Object.isNotNull(c)&&this.append(b,c)};var k={EUC_REGION:{NAME:"euc",PROD_DOMAIN:"euc-freshbots.ai"},US_REGION:{NAME:"us",PROD_DOMAIN:"freshbots.ai"},IN_REGION:{NAME:"in",PROD_DOMAIN:"in-freshbots.ai"},AU_REGION:{NAME:"au",PROD_DOMAIN:"au-freshbots.ai"}},l={},a={},e=!1,m,n=!1,f=!1,h=c.getElementById("spd-busns-spt"),q=h.getAttribute("data-client"),s=h.getAttribute("data-bot-hash"),
r=h.getAttribute("data-bot-version"),B=h.getAttribute("data-flow-hash"),y=h.getAttribute("data-self-init"),v=h.getAttribute("data-init-type"),u=h.getAttribute("data-ext-client-id"),C=h.getAttribute("data-prdct-hash"),A=h.getAttribute("data-client-toggle"),t=h.getAttribute("data-debug-mode"),G=h.getAttribute("data-client-email"),L=h.getAttribute("data-client-identifier"),M=h.getAttribute("data-client-session-id"),Q=h.getAttribute("data-client-params"),w=h.getAttribute("widget-style"),K=h.getAttribute("parent-selector"),
N,T=[],V=h.getAttribute("data-env"),ta=h.getAttribute("data-region"),ja=!1;V&&""!==V?(h=h.getAttribute("src"))&&h.includes("freshbots.com")&&(h=h.replace("https://","").replace("http://",""),h=h.substring(0,h.indexOf("/")).replace("www.","").replace("freshbots.com","").trim(),h.includes("cdn.")&&(h=h.replace("cdn.","").trim(),ja=!0),h&&""!==h&&h!==V&&"prod"!==h&&(console.log("Changing env from "+V+" to "+h),V=h)):V="prod";ta=function(a,b){if("prod"===a)for(var c in k)if(k[c].NAME===b)return k[c].PROD_DOMAIN;
return k.US_REGION.PROD_DOMAIN}(V,ta);"prod"!==V&&(h=new Date,console.log("["+h+", "+h.getTime()+"] Freshbots script started"));var z=null,pa=!1,U=!1,y=!y||"true"===y,Ka=null!==t&&"true"===t,D="",I="https:"===c.location.protocol?"https:":"http:",ua="";"prod"===V?(D="https://www."+ta,ua="https://cdn."+ta):"dev"===V?ua=D=I+"//"+d.location.host:(D="https://www."+V+"freshbots.com",ua=ja?"https://cdn."+V+"freshbots.com":D);var ba,ia=c.referrer,P=navigator.userAgent,ka=d.location.pathname,Z=d.location.href,
W=null,qa=null,$a=[],ha=null,sa="undefined"!==typeof Storage;sa&&(ha=d.localStorage);b.extend(b.expr[":"],{spdCaseInsensitiveContains:function(a,b,c,d){return 0<=(a.textContent||a.innerText||"").toLowerCase().indexOf((c[3]||"").toLowerCase())}});v||(v="opt");v=v.toLowerCase();try{var J=Boolean(P.match(/Android/i)||P.match(/webOS/i)||P.match(/iPhone/i)||P.match(/iPad/i)||P.match(/iPod/i)||P.match(/BlackBerry/i)||P.match(/Windows Phone/i));/Mac/.test(navigator.userAgent);var ya="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
xa=-1*(new Date).getTimezoneOffset();q?console.log("client: "+q):console.log("client-id :"+u+"\nproduct-id :"+C);b.extend(a,{LocaleUtils:function(){function a(b){this.address=b.address;this.ago=b.ago;this.am=b.am;this.would_you_really_want_to_send_this_image=b.would_you_really_want_to_send_this_image;this.yes=b.yes;this.no=b.no;this.powered=b.powered;this.by=b.by;this.freshworks=b.freshworks;this.hi=b.hi;this.thanks_for_feedback=b.thanks_for_feedback;this.today=b.today;this.new_messages=b.new_messages;
this.max_character_limit_exceeded=b.max_character_limit_exceeded;this.max_character_limit_reached=b.max_character_limit_reached;this.i_want=b.i_want;this.would_you_want_to_send_this_file=b.would_you_want_to_send_this_file;this.enter_valid_message=b.enter_valid_message;this.type_your_message_here=b.type_your_message_here;this.start_new_conversation=b.start_new_conversation;this.enter_password=b.enter_password;this.enter_number=b.enter_number;this.enter_valid_number=b.enter_valid_number;this.enter_valid_mail=
b.enter_valid_mail;this.enter_mail_id=b.enter_mail_id;this.enter_valid_full_name=b.enter_valid_full_name;this.enter_valid_first_name=b.enter_valid_first_name;this.type_your_full_name_hit_enter=b.type_your_full_name_hit_enter;this.type_your_first_name_hit_enter=b.type_your_first_name_hit_enter;this.enter_your_name_here=b.enter_your_name_here;this.enter_mobile_number=b.enter_mobile_number;this.enter_valid_phone_number=b.enter_valid_phone_number;this.male_or_female=b.male_or_female;this.year=b.year;
this.month=b.month;this.day=b.day;this.hours=b.hours;this.mins=b.mins;this.start_typing_to_see_options=b.start_typing_to_see_options;this.thanks_for_your_feedback=b.thanks_for_your_feedback;this.error_while_sending_please_try_again=b.error_while_sending_please_try_again;this.unexpected_error_please_try_again=b.unexpected_error_please_try_again;this.more_articels=b.more_articels;this.placed_on=b.placed_on;this.status=b.status;this.order_id=b.order_id;this.order_status=b.order_status;this.payment_for=
b.payment_for;this.would_you_like_to_trim_message=b.would_you_like_to_trim_message;this.would_you_really_want_to_end_chat=b.would_you_really_want_to_end_chat;this.send=b.send;this.please_give_feedback=b.please_give_feedback;this.kindly_rate_chat_exp=b.kindly_rate_chat_exp;this.start_over=b.start_over;this.sending=b.sending;this.delivered=b.delivered;this.pm=b.pm;this.maximum=b.maximum;this.limit=b.limit;this.exceeded=b.exceeded;this.months=b.months.split(",");this.days=b.days.split(",");this.moment_a=
b.moment_a;this.moment_an=b.moment_an;this.moment_hour=b.moment_hour;this.moment_hours=b.moment_hours;this.moment_minute=b.moment_minute;this.moment_minutes=b.moment_minutes;this.moment_seconds=b.moment_seconds;this.moment_day=b.moment_day;this.moment_days=b.moment_days;this.moment_few=b.moment_few;this.moment_ago=b.moment_ago}var b={},c;return{setLocaleData:function(d,e){if(null!=d&&void 0!=d&&(b=new a(d),ya=d.months.split(","),d.days.split(","),c=e,null!=c&&void 0!=c)){var f=joeMoment()._locale;
f._relativeTime.d=b.moment_a+" "+b.moment_day;f._relativeTime.dd=f._relativeTime.dd.replace("days",b.moment_days);f._relativeTime.h=b.moment_an+" "+b.moment_hour;f._relativeTime.hh=f._relativeTime.hh.replace("hours",b.moment_hours);f._relativeTime.m=b.moment_a+" "+b.moment_minute;f._relativeTime.mm=f._relativeTime.mm.replace("minutes",b.moment_minutes);f._relativeTime.s=b.moment_a+" "+b.moment_few+" "+b.moment_seconds;f._relativeTime.past=f._relativeTime.past.replace("ago",b.moment_ago);f._monthsShort=
b.months;joeMoment()._locale=f}},getLocaleData:function(){return b}}}(),Options:function(){var b;return{reservedOptions:{sessionData:"getSessionData",clientParams:"getClientParams"},setObject:function(c){a.Object.isNull(c)&&(c={});b=c},getObject:function(){return b},getData:function(c,d){var e;a.String.isNotBlank(c)&&a.Object.isNotNull(b)&&a.Object.isNotNull(b[c])?"function"===typeof b[c]?(a.Log.logMessage("Calling options function: "+c+" with args: "+d,!0),e=a.Function.executeFunctionWithArgumentString(b[c],
d)):(a.Log.logMessage("Getting value for options key: "+c,!0),e=b[c]):a.Log.logMessage("Could not find options with key: "+c,!0);return e},getDataStr:function(b,c){var d=null,g=a.Options.getData(b,c);a.Object.isNotNull(g)&&(d="string"!==typeof g?JSON.stringify(g):g);return d},getNewSessionParams:function(){var b={},c=a.Options.getData(a.Options.reservedOptions.clientParams);a.Object.isNotNull(c)&&(c["sn::cstmr::id"]&&(b["sn::cstmr::id"]=c["sn::cstmr::id"]),c["sn::auth::id"]&&(b["sn::auth::id"]=c["sn::auth::id"]));
return b}}}(),RealTimeConnection:{realtimeConnectOnInit:!1,pusher:{active:null,apiKey:null,clusterCode:null,instance:null,connectedState:"connected"},rts:{active:null,accountId:null,jwt:null,endpoint:null,instance:null,connected:!1},setConnectionParams:function(a){this.pusher.active=a.pshrActv;this.pusher.apiKey=a.pshrApiKy;this.pusher.clusterCode=a.pshrClstrCd;this.rts.active=a.rtsActv;this.rts.accountId=a.rtsAcId;this.rts.jwt=a.rtsAcKy;this.rts.endpoint=a.rtsEndPt;this.realtimeConnectOnInit=a.rltmCnctnOnLd},
unsubscribe:function(b){this.isRealTimeConnectionPresent()&&(this.pusher.active?(this.pusher.instance.unsubscribe(b),this.pusher.instance=null,a.Log.logMessage("Realtime connection unsubscription succeeded")):this.rts.active&&(this.rts.instance.unsubscribe(b),this.rts.instance=null,a.Log.logMessage("Realtime connection unsubscription succeeded")))},isRealTimeConnectionPresent:function(){return this.pusher.active&&!this.pusher.instance||this.rts.active&&!this.rts.instance?!1:!0}},initiateWidgetParams:{successCallback:null,
errorCallback:null},chatInstance:null,historyActionEnable:!0,isWidgetDeActivated:!1,maxTextareaCharLength:2E3,Handlebars:Handlebars.noConflict(),Html:{agentImgDefaultUrl:"https://www."+ta+"/assets/imgs/frankbot.svg"},htmlEncode:function(a){return b("\x3cdiv/\x3e").text(a).html()},htmlDecode:function(a){return b("\x3cdiv/\x3e").html(a).text()},Base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d",encode:function(a){var b="",c,d,e,f,h,k,l=0;for(a=Base64._utf8_encode(a);l<
a.length;)c=a.charCodeAt(l++),d=a.charCodeAt(l++),e=a.charCodeAt(l++),f=c>>2,c=(c&3)<<4|d>>4,h=(d&15)<<2|e>>6,k=e&63,isNaN(d)?h=k=64:isNaN(e)&&(k=64),b=b+this._keyStr.charAt(f)+this._keyStr.charAt(c)+this._keyStr.charAt(h)+this._keyStr.charAt(k);return b},decode:function(a){var b="",c,d,e,f,h,k=0;for(a=a.replace(/[^A-Za-z0-9+/=]/g,"");k<a.length;)c=this._keyStr.indexOf(a.charAt(k++)),d=this._keyStr.indexOf(a.charAt(k++)),f=this._keyStr.indexOf(a.charAt(k++)),h=this._keyStr.indexOf(a.charAt(k++)),
c=c<<2|d>>4,d=(d&15)<<4|f>>2,e=(f&3)<<6|h,b+=String.fromCharCode(c),64!=f&&(b+=String.fromCharCode(d)),64!=h&&(b+=String.fromCharCode(e));return b=Base64._utf8_decode(b)},_utf8_encode:function(a){a=a.replace(/rn/g,"n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b},_utf8_decode:function(a){for(var b=
"",c=0,d,e,f=0;c<a.length;)f=a.charCodeAt(c),128>f?(b+=String.fromCharCode(f),c++):191<f&&224>f?(d=a.charCodeAt(c+1),b+=String.fromCharCode((f&31)<<6|d&63),c+=2):(d=a.charCodeAt(c+1),e=a.charCodeAt(c+2),b+=String.fromCharCode((f&15)<<12|(d&63)<<6|e&63),c+=3);return b}},Log:function(){return{logMessage:function(a,b,c){b||(b=!1);if(!b||Ka||"prod"!==V)b=new Date,c?console.log("["+b.getTime()+"] "+a,c):console.log("["+b.getTime()+"] "+a)}}}(),Ajax:function(){return{getJson:function(a,c,d,e,f,h,k,l){null==
h&&(h=!0);null==k&&(k=!0);null==l&&(l=6E4);null==c?c={"X-TimezoneOffset":xa}:c["X-TimezoneOffset"]=xa;b.ajax({type:"GET",url:a,headers:c,data:d,dataType:"json",async:h,cache:k,timeout:l,success:function(a){"function"===typeof e&&e.call(this,a)},error:function(a,b){var c;"function"===typeof f?f.call(this,a,b):"error"===b?404==a.status?c=" This request does not exist.":500==a.status&&(c="An unexpected error occured on server while processing this request. Try Again."):"timeout"===b?c="Stay the patient course. Of little worth is your ire. The network is down.":
"parsererror"===b&&(c="Yesterday it worked. Today it is not working. The response from server couldn't be processed properly.");c&&console.log(c)},beforeSend:function(a){a&&a.setRequestHeader("Accept","application/json")}})},postJson:function(a,c,d,e,f){d?d["X-TimezoneOffset"]=xa:d={"X-TimezoneOffset":xa};b.ajax({type:"POST",contentType:"application/json; charset\x3dutf-8",url:a,data:JSON.stringify(c),headers:d,dataType:"json",success:function(a){"function"===typeof e&&e.call(this,a)},error:function(a,
b){"function"===typeof f?f.call(this,a,b):"error"===b?404==a.status?console.log("You step in the stream, but the water has moved on. This request does not exist."):500==a.status&&console.log("An unexpected error occured on server while processing this request. Try Again."):"timeout"===b?console.log("Stay the patient course. Of little worth is your ire. The network is down."):"parsererror"===b&&console.log("Yesterday it worked. Today it is not working. The response from server couldn't be processed properly.")},
beforeSend:function(a){a&&a.setRequestHeader("Accept","application/json")}})},postFile:function(a,c,d,e,f){null==d?d={"X-TimezoneOffset":xa}:d["X-TimezoneOffset"]=xa;b.ajax({type:"POST",processData:!1,contentType:!1,url:a,data:c,headers:d,dataType:"json",success:function(a){"function"===typeof e&&e.call(this,a)},error:function(a,b){"function"===typeof f?f.call(this,a,b):"error"===b?404==a.status?console.log("You step in the stream, but the water has moved on. This request does not exist."):500==a.status&&
console.log("An unexpected error occured on server while processing this request. Try Again."):"timeout"===b?console.log("Stay the patient course. Of little worth is your ire. The network is down."):"parsererror"===b&&console.log("Yesterday it worked. Today it is not working. The response from server couldn't be processed properly.")},beforeSend:function(a){a&&a.setRequestHeader("Accept","application/json")}})}}}(),Audio:function(){var b=null;return{setAudioFile:function(a){b=new Audio(ua+"/assets/share/audio/ping.mp3")},
playMessagePing:function(c){if(b&&null!==b){var d=!0,e=0,f={};if(null!=c)if(sa){var h=ha.getItem("msg-ping-details");a.String.isNotBlank(h)&&(f=JSON.parse(h),null!=f&&null!=f.date&&null!=f.ctr&&(new Date).toDateString()==(new Date(f.date)).toDateString()&&(e=parseInt(f.ctr)));e>=c&&(d=!1)}else console.log("Local storage not supported!");d&&(b.play(),sa&&null!=c&&(f.date=new Date,f.ctr=e+1,ha.setItem("msg-ping-details",JSON.stringify(f))))}else a.Log.logMessage("No audio file found!",!0)}}}(),Validation:function(){return{validateEmail:function(a){return/^([\w-\.'+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,10})(\]?)$/.test(a)},
validatePhone:function(a){return/^\+?(-?[0-9]){9,15}$/.test(a)},validateDecimal:function(a){return/^[-+]?[0-9]+\.[0-9]+$/.test(a)},validateNumber:function(a){return/^[-+]?[0-9]+(\.?[0-9]+)*$/.test(a)},validatePincode:function(a){return/^\d{6}$/.test(a)},validateTimeFormat:function(a){return/^([0-1]?[0-9]|2[0-4]):([0-5][0-9])(:[0-5][0-9])?$/.test(a)},validateMaxLength:function(a,b){return a<=parseInt(b)},validateMinLength:function(a,b){return a>=parseInt(b)},validateEqualLength:function(a,b){return a==
parseInt(b)},validationEvent:function(c){var d=!0,e=!0;c=b(c).find("input[fieldType]");for(var f=0;f<c.length;f++)e=c[f].getAttribute("fieldType"),0<c[f].value.length&&"email"==e?(e=a.Validation.validateEmail(c[f].value),d=d&&e,e||(b(c[f]).css("border-color","red"),b(c[f]).addClass("joe-text-red"))):0<c[f].value.length&&"phone"==e?(e=a.Validation.validatePhone(c[f].value),d=d&&e,e||b(c[f]).css("border-color","red")):0<c[f].value.length&&"number"==e?(e=a.Validation.validateNumber(c[f].value),d=d&&
e,e||b(c[f]).css("border-color","red")):0<c[f].value.length&&"pincode"==e?(e=a.Validation.validatePincode(c[f].value),d=d&&e,e||b(c[f]).css("border-color","red")):0<c[f].value.length&&"decimal"==e?(e=a.Validation.validateDecimal(c[f].value),d=d&&e,e||b(c[f]).css("border-color","red")):0<c[f].value.length&&"time"==e?(e=a.Validation.validateTimeFormat(c[f].value),d=d&&e,e||b(c[f]).css("border-color","red")):"max-length"==e?(e=a.Validation.validateMaxLength(c[f].value.length,c[f].getAttribute("max-length")),
d=d&&e,e||(b(c[f]).css("border-color","red"),e=b(c[f]).attr("id"),b("[errormsg\x3d'"+e+"']").removeClass("hide"))):"min-length"==e?(e=a.Validation.validateMinLength(c[f].value.length,c[f].getAttribute("min-length")),d=d&&e,e||b(c[f]).css("border-color","red")):"lengthequalsto"==e&&(e=a.Validation.validateEqualLength(c[f].value.length,c[f].getAttribute("lengthequalsto")),d=d&&e,e||b(c[f]).css("border-color","red"));return d}}}(),Date:function(){return{getEndDateForMonth:function(a,b){return"Feb"==
b&&0==a%4?29:{Jan:31,Feb:28,Mar:31,Apr:30,May:31,Jun:30,Jul:31,Aug:31,Sep:30,Oct:31,Nov:30,Dec:31}[b]},getDateMonthYearTime:function(a){var b=a.split(" ");a={};a.date=parseInt(b[0]);a.month=b[1];a.year=parseInt(b[2]);3<b.length&&(b=b[3].split(":"),a.hours=parseInt(b[0].trim()),a.minutes=parseInt(b[1].trim()),a.seconds=parseInt(b[2].trim()));return a},getYears:function(a,b){for(var c=[],d=a.year;d<=b.year;d++)c.push(d);return c},getMonthsForYear:function(a,b,c){var d=b.year,e=c.year;return a===d?d===
e?ya.slice(ya.indexOf(b.month),ya.indexOf(c.month)+1):ya.slice(ya.indexOf(b.month)):a===e?ya.slice(0,ya.indexOf(c.month)+1):ya},getDatesForYearAndMonth:function(b,c,d,e){var f=d.year,h=e.year,k=d.month,l=e.month,m=[],n=1,p=a.Date.getEndDateForMonth(b,c);b===f&&c===k?(n=d.date,f===h&&k===l&&(p=e.date)):b===h&&c===l&&(p=e.date);for(b=n;b<=p;b++)m.push(b);return m},getHours:function(a,b,c){var d=[],e=1;120<=c&&(e=parseInt(c/60));for(a=a.hours;a<=b.hours;a+=e)d.push(a);return d},getMinutesForHour:function(a,
b,c,d){var e=[],f=b.hours,h=c.hours,k=1,k=d%60,l=0;d=59;a===f?f===h?(l=b.minutes,d=c.minutes):l=b.minutes:a===h&&(d=c.minutes);for(a=l;a<=d;a+=k)10>a?e.push("0"+a):e.push(a);return e},getCurrentTime:function(){var a=new Date;a.getDay();var b=a.getHours(),c=a.getMinutes();a.getSeconds();10>c&&(c="0"+c);var d=12>b?"am":"pm";a.getDate();a.getMonth();a.getFullYear();0==b&&(b=12);return ba.today+" "+b+":"+c+" "+d},getDateString:function(a,b,c){b||(b="Do MMM");c||(c="h:mm a");a=parseInt(a);return joeMoment().isSame(joeMoment(a),
"day")?joeMoment(a).fromNow():joeMoment(a).format(b+", "+c)},isDateStringRelative:function(a){var b=!1;a.endsWith(ba.ago)&&(b=!0);return b}}}(),openUrlInNewTab:function(a){(a=d.open(a,"_blank"))&&a.focus()},getNewUrl:function(a){var b=/:\/\//i;"/"==a.charAt(0)||b.test(a)||(a=I+"//"+a);return a},getValueFromPage:function(c,d){var e=null,f="";c&&(c.startsWith("css:")?(f=c.replace("css:",""),0<b(f).length&&""!=d&&(e="text"==d.toLowerCase()?b(f).text().trim():"value"==d.toLowerCase()?b(f).val().trim():
b(f).attr(d).trim())):c.startsWith("cookie:")?(f=c.replace("cookie:",""),e=a.readCookie(f)):c.startsWith("queryParam:")&&(f=c.replace("queryParam:",""),e=a.Url.getValueForQueryParam(f)),""==e&&(e=null));return e},readCookie:function(a,b,d,e){if(N)return N[a];b=c.cookie.split("; ");N={};for(e=b.length-1;0<=e;e--)d=b[e].split("\x3d"),N[d[0]]=d[1];return N[a]},getCssFile:function(d,e,f){var h=c.createElement("link");h.rel="stylesheet";h.type="text/css";h.readyState?h.onreadystatechange=function(){if("loaded"===
h.readyState||"complete"===h.readyState)h.onreadystatechange=null,a.Log.logMessage("Stylesheet with src: "+d+" loaded successfully",!0),f&&f()}:h.onload=function(){a.Log.logMessage("Stylesheet with src: "+d+" loaded successfully",!0);f&&f()};h.href=d;e?b("head").append(h):b("head").prepend(h)},getJsFile:function(a,d){var e=c.createElement("script");e.type="text/javascript";e.readyState?e.onreadystatechange=function(){if("loaded"==e.readyState||"complete"==e.readyState)e.onreadystatechange=null}:e.onload=
function(){};e.src=a;e.async=!0;d?b("head").append(e):b("head").prepend(e)},setCookieWithValidityInDays:function(a,b,d){var e=new Date;e.setTime(e.getTime()+864E5*d);d="expires\x3d"+e.toUTCString();c.cookie=a+"\x3d"+b+";path\x3d/; "+d;N=null},getValueFromCookie:function(b,c){var d=a.readCookie(c);d&&(d=d.trim());return d&&""!==d?JSON.parse(d)[b]:null},setValueForKeyInCookie:function(b,c,d){var e=a.readCookie(d);e&&(e=e.trim());var f={};e&&""!=e&&(f=JSON.parse(e));f[b]=c;a.setCookieWithValidityInDays(d,
JSON.stringify(f),30);return!0},Function:function(){var b=function(a){if(a){var b=((a+"").replace(/\/\*[\s\S]*?\*\/|\/\/.*?[\r\n]/g,"").match(/\(([\s\S]*?)\)/)[1]||"").match(/[$\w]+/g)||[];return function(c){var d=[],e=b.length;for(d[e]=c;e--;)d[e]=c[b[e]];return a.apply(a,d)}}};return{executeWithNamedArguments:function(a,c){return b(a)(c)},executeFunctionWithArgumentString:function(b,c){if(c){var d;if(c.startsWith("["))return d=JSON.parse(c),"prod"!==V&&console.log("Calling function: "+b.name+" with args array: "+
d),b.apply(b,d);if(c.startsWith("{"))return d=JSON.parse(c),"prod"!==V&&console.log("Calling function: "+b.name+" with named args: "+c),a.Function.executeWithNamedArguments(b,d)}else return"prod"!==V&&console.log("Calling function: "+b.name+" with no args"),b.apply(b,[])}}}(),Url:function(){return{getValueForQueryParam:function(b){var c=null;if(b){var e=e;a.Object.isNull(e)?(b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),b=(new RegExp("[\\?\x26]"+b+"\x3d([^\x26#]*)")).exec(d.location.search),c=null===
b?"":decodeURIComponent(b[1].replace(/\+/g," "))):c=(new e(d.location.search)).get(b)}return c}}}(),Object:function(){return{isNull:function(a){return"undefined"===typeof a||!a&&!1!==a||null===a||"undefined"==a||"null"==a},isNotNull:function(b){return!a.Object.isNull(b)}}}(),String:function(){return{getHash:function(a){for(var b=0,c,d=0;d<a.length;d++)c=a.charCodeAt(d),b=(b<<5)-b+c,b&=b;return b},getRandomChar:function(){var a=Math.floor(62*Math.random());return 10>a?a:36>a?String.fromCharCode(a+
55):String.fromCharCode(a+61)},getRandomString:function(b){for(var c="";c.length<b;)c+=a.String.getRandomChar();return c},isNotBlank:function(a){return a&&null!==a&&"undefined"!==a&&""!==a.trim()},isBlank:function(b){return!a.String.isNotBlank(b)}}}(),RemoteCall:function(){return{initCombined:function(b,c,d){a.Ajax.postJson(D+"/customer/v3/combined-init/",{cstmrHsh:b,botHsh:s,botVrsnNmbr:r,ndGrpHsh:B,chnlCstmrId:qa,pthNm:ka,href:Z,usrAgnt:P,rfrUrl:ia,email:G,idntfr:L,snId:M,prmsStr:Q,prms:z,cntMsgToRtrv:1,
ordrBy:"desc"},{"External-Client-Id":u,"Product-Id":C,clntHsh:q,chnlSnId:W,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData)},c,d)},initCustomer:function(b,c,d){a.Ajax.postJson(D+"/customer/v3/submit/initCustomer/",{cstmrHsh:b,botHsh:s,botVrsnNmbr:r,ndGrpHsh:B,chnlCstmrId:qa,pthNm:ka,href:Z,usrAgnt:P,rfrUrl:ia,email:G,idntfr:L,snId:M,prmsStr:Q,prms:a.Options.getNewSessionParams()},{clntHsh:q,"External-Client-Id":u,"Product-Id":C,chnlSnId:W,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData)},
c,d)},sendFileMessage:function(b,d,e,f,h,k){d=new FormData(c.getElementById(d));d.joeAppendIfNotEmpty("clntHsh",q);d.joeAppendIfNotEmpty("External-Client-Id",u);d.joeAppendIfNotEmpty("Product-Id",C);d.joeAppendIfNotEmpty("cstmrHsh",b);d.joeAppendIfNotEmpty("chnlMsgIdntfr",e);d.joeAppendIfNotEmpty("botHsh",s);d.joeAppendIfNotEmpty("botVrsnNmbr",r);d.joeAppendIfNotEmpty("ndGrpHsh",B);d.joeAppendIfNotEmpty("prms",null==z?z:JSON.stringify(z));d.joeAppendIfNotEmpty("refTcktMsgHsh",f);a.Ajax.postFile(D+
"/ticket/v3/submit/chat/file",d,{sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),chnlSnId:W},h,k)},postMessageToServer:function(b,c,d,e,f,h,k,l,m,n){a.Ajax.postJson(D+"/ticket/v3/submit/chat/response/",{clntHsh:q,"External-Client-Id":u,"Product-Id":C,botHsh:s,botVrsnNmbr:r,ndGrpHsh:B,cstmrHsh:b,msg:c,pthNm:ka,href:Z,prvt:f,refTcktMsgHsh:d,chnlMsgIdntfr:e,cntntTyp:l,ndId:h,prms:z,ndIntnt:k},{sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),chnlSnId:W},function(a){"function"===
typeof m&&m.call(this,a)},function(a){"function"===typeof n&&n.call(this,a)})},closeChat:function(b,c,e){a.Ajax.postJson(D+"/ticket/v3/closeChat/"+b+"?pthNm\x3d"+d.location.pathname,{},{clntHsh:q,"External-Client-Id":u,"Product-Id":C,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),chnlSnId:W},c,e)},rateChat:function(b,c,d,e,f){a.Ajax.postJson(D+"/ticket/v3/rateChat/",{tcktHsh:b,rtng:c,fdbck:d},{clntHsh:q,"External-Client-Id":u,"Product-Id":C,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),
chnlSnId:W},e,f)},msgFaqfeedback:function(b,c,d,e,f,h,k){a.Ajax.postJson(D+"/feedback/record",{cstmrHsh:b,tcktMsgHsh:c,answr:d,enty:e,tcktMsgOptnId:f},{sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),"External-Client-Id":u,"Product-Id":C,clntHsh:q},h,k)},getHistoryAndInitiateChat:function(b,c,e,f,h){a.Ajax.postJson(D+"/ticket/v3/getHistoryAndInitChat",{cstmrHsh:b,botHsh:s,botVrsnNmbr:r,ndGrpHsh:B,pthNm:d.location.pathname,href:d.location.href,cntMsgToRtrv:c,prms:z,ordrBy:e},{clntHsh:q,
"External-Client-Id":u,"Product-Id":C,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),chnlSnId:W},f,h)},getPreviousMessages:function(b,c,e,f,h,k){a.Ajax.getJson(D+"/ticket/v3/groupRsync",{clntHsh:q,"External-Client-Id":u,"Product-Id":C,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),chnlSnId:W},{cstmrHsh:b,botHsh:s,botVrsnNmbr:r,pthNm:d.location.pathname,href:d.location.href,tcktMsgHsh:c,cntMsgToRtrv:e,xtrnlTcktId:z?z.xtrnlTcktId:null,ordrBy:f},h,k)},getMessageDetails:function(b,
c,d){a.Ajax.getJson(D+"/ticket/v3/message/"+b+"/details",{clnthsh:q,"External-Client-Id":u,"Product-Id":C,sn:a.Options.getDataStr(a.Options.reservedOptions.sessionData),chnlSnId:W},null,c,d,!1)},getWebClientDetails:function(b,c){a.Ajax.getJson("http://ip-api.com/json",null,null,b,c,!1,!1,1E3)},logChatOpen:function(b,c,e,f){a.Ajax.getJson(D+"/customer/v3/"+b+"/log/chatOpen",{clntHsh:q,"External-Client-Id":u,"Product-Id":C,chnlSnId:W},{pthNm:d.location.pathname,href:d.location.href,lstAgntMsgHsh:c},
e,f)},sendInactivityAlert:function(b,c,e){a.Ajax.getJson(D+"/customer/v3/inactivityAlert",{clntHsh:q,"External-Client-Id":u,"Product-Id":C,chnlSnId:W},{cstmrHsh:b,pthNm:d.location.pathname,href:d.location.href},c,e)},logAction:function(b,c,e,f){a.Ajax.getJson(D+"/ticket/v3/logAction",{clntHsh:q,"External-Client-Id":u,"Product-Id":C,chnlSnId:W},{cstmrHsh:b,actnObjct:c,pthNm:d.location.pathname,href:d.location.href},e,f)},updateTicketInfo:function(b,c,d,e,f){a.Ajax.postJson(D+"/ticket/v3/"+b+"/update/info?tcktMsgHsh\x3d"+
c,d,{"External-Client-Id":u,"Product-Id":C,clntHsh:q},function(a){"function"===typeof e&&e.call(this,a)},function(a){"function"===typeof f&&f.call(this,a)})}}}(),joeMapify:function(){b.fn.mapify=function(a,d){var e=b(this).attr("id"),f=c.getElementById(e),h,k=b.extend({address:null,city:null,state:null,longitude:null,latitude:null,postalCode:null},a);if(null!=k.latitude&&null!=k.longitude){b(this).bind("keypress",function(a){if(13==a.which)return!1;h&&h.addClass("joe-pac");return!0});b(this).bind("focusout",
function(a){h&&h.removeClass("joe-pac")});var l=new google.maps.places.Autocomplete(f,d);google.maps.event.addDomListener(f,"focus",function(){h||(h=b(".pac-container").last());h.addClass("joe-pac");l.addListener("place_changed",function(){(new google.maps.Geocoder).geocode({address:f.value},function(b,c){if(c==google.maps.GeocoderStatus.OK){var d={adrs:null,cty:null,st:null,pncd:null,lon:null,lat:null,plcId:null},e=b[0].geometry.location,h=l.getPlace(),m=h.place_id;m&&(d.plcId=m);if(h=h.address_components){for(m=
0;m<h.length;m++){var n=h[m].types[0];"postal_code"===n&&(k.postalCode.val(h[m].long_name),d.pncd=k.postalCode.val())}for(m=0;m<h.length;m++)n=h[m].types[0],"locality"===n&&(k.city.val(h[m].long_name),d.cty=k.city.val());""===k.address.val().trim()&&(k.address.val(f.value),d.adrs=k.address.val());h=f.value.split(",");""===k.state.val().trim()&&(k.state.val(h[h.length-2]),d.st=k.state.val());k.longitude.val(e.lng().toFixed(5));k.latitude.val(e.lat().toFixed(5));d.lon=k.longitude.val();d.lat=k.latitude.val()}else d.orgnlTxt=
f.value;""!=f.value&&(a.self.createConnectionIfNeededAndSendMessage({type:a.self.message.type.text,messageToSend:JSON.stringify(d),displayText:f.value,refTmHash:null,contentType:"googleAdrs"}),f.value="")}})})})}};b.fn.mapify.cleaner=function(a){a.address.val("");a.city.val("");a.state.val("");a.longitude.val("");a.latitude.val("")};b.fn.showMapify=function(a){b(this).hide();b(this).show();var d=b.extend({whereToShow:null,longitude:null,latitude:null},a);null!=d.longitude&&null!=d.latitude&&(a=new google.maps.LatLng(d.latitude.val(),
d.longitude.val()),d=new google.maps.Map(c.getElementById(b(d.whereToShow).attr("id")),{zoom:14,center:a}),new google.maps.Marker({position:a,map:d,title:"http://www.gogetspeedy.com/"}))}}(jQuery),JoeCarousel:function(){var d,e,f,h,k,l,m=0,n=0,p=!0;return{init:function(c,m){d=b(".image_slider"+m);e=b(d[0]).children();d.attr("imgNbr",e.length);f=e.length;h=230;d.outerWidth(parseInt(h*f));k="#prev"+m;l="#next"+m;1>=f&&(b(k).addClass("joe-hide"),b(l).addClass("joe-hide"));a.JoeCarousel.bindEvents(c,
m)},bindEvents:function(e,f){b(c.body).on("touchstart",".image_slider"+f,function(c){var e=c.originalEvent.touches[0].clientX;this.ontouchend=function(c){if(0<c.changedTouches.length){c=c.changedTouches[0];var h=c.clientX-e,h=Math.abs(h);100<h&&(c.clientX>e?(a.JoeCarousel.onClickPrev(),d=b(".image_slider"+f)):c.clientX<e&&(d=b(".image_slider"+f),a.JoeCarousel.onClickNext()))}}});b(c.body).on("click",k,function(){a.JoeCarousel.onClickPrev();d=b(".image_slider"+b(this).parents(a.chatInstance.selectors.sliderContainer).attr("msghash"))});
b(c.body).on("click",l,function(){d=b(".image_slider"+b(this).parents(a.chatInstance.selectors.sliderContainer).attr("msghash"));a.JoeCarousel.onClickNext()});b(".image_slider"+f+" img").on("load",function(){e.scrollToBottom()})},animate:function(a){if(p){p=!1;var b=new Date,c=setInterval(function(){var d=(new Date-b)/a.duration;1<d&&(d=1);var e=a.delta(d);a.step(e);1==d&&(clearInterval(c),a.callback())},a.delay||17)}},slideTo:function(b){var c,e=Math.abs(b-n);c=n>b?1:-1;m=-1*n*h;a.JoeCarousel.animate({duration:500,
delta:function(a){return a},step:function(a){d.css("left",parseInt(m+c*a*h*e)+"px")},callback:function(){n=d.attr("crntImg",b);p=!0}})},onClickPrev:function(){n=parseInt(d.attr("crntImg"));f=parseInt(d.attr("imgNbr"));0!=n&&a.JoeCarousel.slideTo(n-1)},onClickNext:function(){n=parseInt(d.attr("crntImg"));f=parseInt(d.attr("imgNbr"));n!=f-1&&a.JoeCarousel.slideTo(n+1)}}}(),uiElementsHtml:function(){return{getTypingIndicator:function(a){return'\x3cdiv class\x3d"typing-container joe-typing joe-message other-message" typingid\x3d"'+
a+'" \x3e \x3cspan class\x3d"circle"\x3e\x3c/span\x3e \x3cspan class\x3d"circle"\x3e\x3c/span\x3e \x3cspan class\x3d"circle"\x3e\x3c/span\x3e\x3c/div\x3e'}}}()});b.extend(a,{HandlebarsHtml:function(){a.Handlebars||console.log("Handlebars not found");var c=b('\x3cscript id\x3d"message-template" type\x3d"text/x-handlebars-template"\x3e{{#if publicNote}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-message my-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}" hash\x3d"{{hash}}"\x3e{{#ifCond msgCntntTyp "\x3d\x3d" "img"}}\x3cimg src\x3d"{{messageOutput}}" class\x3d"img-file" style\x3d"max-width:100%; max-height: 250px;"/\x3e\x3cbr/\x3e{{else ifCond msgCntntTyp "\x3d\x3d" "fl"}}\x3cdiv style\x3d"text-align: center;position: relative; padding:0px;"\x3e\x3ci class\x3d"fa fa-file-text-o fa-5x" style\x3d"font-size: 50px;padding: 10px;"aria-hidden\x3d"true"\x3e\x3c/i\x3e \x3ca href\x3d"{{messageOutput}}" target\x3d"_blank"\x3e\x3cdiv class\x3d"joe-blur-div"\x3e\x3cspan class\x3d"joe-helper" style\x3d"height:100%;"\x3e\x3c/span\x3e\x3ci class\x3d"fa fa-arrow-circle-o-down fa-2x" aria-hidden\x3d"true" style\x3d"vertical-align: middle;"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e{{else ifCond msgCntntTyp "\x3d\x3d" "loader"}}\x3cdiv style\x3d"text-align: center;" class\x3d"file_loader"\x3e\x3ci class\x3d"fa fa-spinner fa-pulse fa-2x fa-fw"\x3e\x3c/i\x3e\x3c/div\x3e{{else}}\x3cspan\x3e{{linkify messageOutput}}\x3c/span\x3e\x3cbr/\x3e{{/ifCond}}\x3cdiv class\x3d"joe-my-message-satus"\x3e\x3cspan class\x3d"font-sm msg-status"\x3e{{#if msgSent}}{{getLanguageBasedTerm "delivered"}}\x26nbsp;\x26nbsp;{{else}}{{getLanguageBasedTerm "sending"}}\x26nbsp;\x26nbsp;{{/if}}\x3c/span\x3e\x3cspan class\x3d"font-sm joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e{{/if}}\x3c/script\x3e\x3cscript id\x3d"joe-message-group-template" type\x3d"text/x-handlebars-template"\x3e{{#if publicNote}}\x3cdiv class\x3d"joe-message-group" author\x3d"{{author}}"\x3e\x3c/div\x3e{{/if}}\x3c/script\x3e\x3cscript id\x3d"header-menu-list-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"Slsh-list-items" id\x3d"joe-menu-dropdown" style\x3d"background: transparent; margin-left:0px; height: auto; overflow-y:visible; top:42px; right:16px; z-index: 1000; display: none; width:auto; "\x3e\x3cul class\x3d"font-1x joe-shadow joe-menu-list-items" style\x3d"margin-left:10px;display:inline-block;min-width: 150px;max-width: 250px;text-align: left;border-radius: 3px;padding:5px 0px;position: relative;background-color: white;box-shadow: 0 0 13px 0 rgba(0, 0, 0, 0.19) !important;"\x3e{{#each menuItems}}{{#ifCond this.cmnd "!\x3d" "/share-fb"}}{{#ifCond this.cmnd "!\x3d" "/share-wa"}}\x3cli sendText\x3d"{{this.cmnd}}" style\x3d"border-top: none;padding: 5px 10px!important;font-size: 14px !important;"\x3e{{this.dispVl}}\x3c/li\x3e{{/ifCond}}{{/ifCond}}{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"full-body-input-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay prevent-hide" id\x3d"joe-chat-body-overlay" style\x3d"background: white;"\x3e\x3cspan class\x3d"joe-helper"\x3e\x3c/span\x3e\x3cdiv style\x3d"display:inline-block; vertical-align: middle; width:100%; text-align:center;"\x3e\x3cdiv style\x3d"width:80%;text-align:center; margin:auto; position: relative;"\x3e\x3ch4 style\x3d"margin-bottom: -32px;font-size: 25px;text-align: left; color:#42A5F5;"\x3e {{getLanguageBasedTerm "i_want"}} \x3c/h4\x3e\x3cinput class\x3d"center-input-text joe-input-shadow" id\x3d"joe-center-input" style\x3d"width:100%; font-family: inherit; padding: 0px 0px 0px 85px; box-sizing: border-box;" placeholder\x3d""/\x3e\x3cbutton class\x3d"joe-btn bold" id\x3d"joe-center-input-send" style\x3d"border-radius:5px; padding: 10px 20px; font-size:16px; width:auto;"\x3e {{getLanguageBasedTerm "send"}} \x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"header-menu-icons-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-icon-header" id\x3d"joe-chat-icon-header"\x3e\x3cul\x3e\x3cli\x3e\x3cbutton sendText\x3d"/startover" class\x3d"joe-chat-menu-button" style\x3d"color:#1a73e8;" title\x3d"Start Over"\x3e{{getLanguageBasedTerm "start_over"}}\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"chat-rate-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay" id\x3d"joe-chat-body-overlay"\x3e\x3cdiv class\x3d"text-center joe-end-chat-alert"\x3e\x3cdiv style\x3d"text-align: right; margin-top: -10px;"\x3e\x3cspan id\x3d"joe-overlay-cross-btn" class\x3d"joe-overlay-cross-btn joe-rate-div"\x3e\x3ci class\x3d"fa fa-times" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"text-center joe-star-rating" id\x3d"joe-star-rate"\x3e\x3cdiv class\x3d"font-2x joe-text-div"\x3e{{getLanguageBasedTerm "kindly_rate_chat_exp"}}\x3c/div\x3e\x3ci class\x3d"fa fa-star fa-2x" aria-hidden\x3d"true"\x3e\x3c/i\x3e \x3ci class\x3d"fa fa-star fa-2x" aria-hidden\x3d"true"\x3e\x3c/i\x3e \x3ci class\x3d"fa fa-star fa-2x" aria-hidden\x3d"true"\x3e\x3c/i\x3e \x3ci class\x3d"fa fa-star fa-2x" aria-hidden\x3d"true"\x3e\x3c/i\x3e \x3ci class\x3d"fa fa-star fa-2x" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/div\x3e\x3cdiv class\x3d"text-center joe-feedback" id\x3d"joe-feedback"\x3e\x3cdiv class\x3d"font-2x joe-text-div"\x3e{{getLanguageBasedTerm "please_give_feedback"}}\x3c/div\x3e\x3ctextarea class\x3d"joe-textarea" id\x3d"joe-feedback-txt"\x3e\x3c/textarea\x3e\x3cinput type\x3d\'hidden\' id\x3d\'ticket-hash-rate\' data-ticket\x3d\'{{tcktHsh}}\'/\x3e\x3cdiv class\x3d"font-2x joe-text-div"\x3e\x3cbutton class\x3d"joe-btn" id\x3d"joe-feedback-btn"\x3e{{getLanguageBasedTerm "send"}}\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"end-chat-confirmation-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay" id\x3d"joe-chat-body-overlay"\x3e\x3cdiv class\x3d"text-center joe-end-chat-alert"\x3e\x3cdiv class\x3d"input-widget-loader" style\x3d"display:none; position:relative;"\x3e\x3c/div\x3e\x3clable class\x3d"lt-blck font-2x" style\x3d"display:block;"\x3e{{getLanguageBasedTerm "would_you_really_want_to_end_chat"}}\x3c/lable\x3e\x3cbutton id\x3d"joe-chat-end-yes" class\x3d"joe-chat-yes-btn"\x3e {{getLanguageBasedTerm "yes"}} \x3c/button\x3e\x3cbutton id\x3d"joe-chat-end-no" class\x3d"joe-chat-no-btn"\x3e {{getLanguageBasedTerm "no"}} \x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"trim-message-confirmation-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay" id\x3d"joe-chat-body-overlay"\x3e\x3cdiv class\x3d"text-center joe-end-chat-alert"\x3e\x3cdiv class\x3d"input-widget-loader" style\x3d"display:none; position:relative;"\x3e\x3c/div\x3e\x3clable class\x3d"lt-blck font-2x" style\x3d"display:block;"\x3e{{getLanguageBasedTerm "maximum"}}  ('+
a.maxTextareaCharLength+') {{getLanguageBasedTerm "limit"}} {{getLanguageBasedTerm "exceeded"}}. {{getLanguageBasedTerm "would_you_like_to_trim_message"}}\x3c/lable\x3e\x3cbutton id\x3d"joe-trim-yes" class\x3d"joe-chat-yes-btn"\x3e  {{getLanguageBasedTerm "yes"}} \x3c/button\x3e\x3cbutton id\x3d"joe-trim-no" class\x3d"joe-chat-no-btn"\x3e {{getLanguageBasedTerm "no"}} \x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"full-img-mobview-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay" id\x3d"joe-chat-body-overlay" style\x3d"text-align: center;"\x3e\x3cdiv style\x3d"text-align: right; margin-right: 5px;"\x3e\x3cspan id\x3d"joe-overlay-cross-btn" class\x3d"joe-overlay-cross-btn" style\x3d"margin-right: 5px; color:white;"\x3e\x3ci class\x3d"fa fa-times-circle-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cspan class\x3d"joe-helper"\x3e\x3c/span\x3e\x3cimg src\x3d"{{imgSrc}}" style\x3d"max-width:100%; vertical-align: middle; "/\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"full-img-fullview-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-full-body-overlay" id\x3d"joe-chat-full-body-overlay" style\x3d"text-align: center;"\x3e\x3cdiv style\x3d"text-align: right; margin-right: 5px;"\x3e\x3cspan id\x3d"joe-full-overlay-cross-btn" class\x3d"joe-full-overlay-cross-btn" style\x3d"margin-right: 5px;"\x3e\x3ci class\x3d"fa fa-times" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cspan class\x3d"joe-helper"\x3e\x3c/span\x3e\x3cimg src\x3d"{{imgSrc}}" style\x3d"max-width:90%; vertical-align: middle; "/\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"Slsh-Cmnds-List-Items-template" type\x3d"text/x-handlebars-template"\x3e\x3cul class\x3d"font-1x fbot-bottom-list Slsh-list-items joe-box hide" id\x3d"Slsh-Cmnds-List-Items" style\x3d"bottom:100%;left:0;"\x3e{{#each slshCmndsItems}}{{#ifCond this.cmnd "!\x3d" "/share-fb"}}{{#ifCond this.cmnd "!\x3d" "/share-wa"}}\x3cli sendText\x3d"{{this.cmnd}}"\x3e{{this.intnt}}\x3c/li\x3e{{/ifCond}}{{/ifCond}}{{/each}}\x3c/ul\x3e\x3c/script\x3e\x3cscript id\x3d"Bots-List-Items-template" type\x3d"text/x-handlebars-template"\x3e\x3cul class\x3d"font-1x fbot-bottom-list Slsh-list-items joe-box hide" id\x3d"Bots-List-Items" style\x3d"bottom:100%;left:0;"\x3e{{#each bots}}\x3cli sendText\x3d"{{this.nm}}"\x3e{{this.nm}}\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/script\x3e\x3cscript id\x3d"message-date-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"h-divide {{key}}" style\x3d"text-align:center; margin-bottom: 5px; margin-top:5px; padding-bottom: 1px;"\x3e\x3cdiv class\x3d"text-devide-ul"\x3e \x3cdiv class\x3d"text-devide-li"\x3e\x3cdiv class\x3d"d-line-left"\x3e\x3c/div\x3e\x3c/div\x3e \x3cdiv class\x3d"text-devide-li"\x3e\x3cspan class\x3d"date"\x3e{{key}}\x3c/span\x3e\x3c/div\x3e \x3cdiv class\x3d"text-devide-li"\x3e\x3cdiv class\x3d"d-line-right"\x3e\x3c/div\x3e\x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"new-message-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"h-divide joe-new-message" style\x3d"text-align:center; margin-bottom: 10px; margin-top:5px; padding-bottom: 5px;"\x3e\x3cdiv class\x3d"text-devide-ul"\x3e \x3cdiv class\x3d"text-devide-li"\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3c/div\x3e \x3cdiv class\x3d"text-devide-li"\x3e\x3cspan class\x3d"text"\x3e{{key}}\x3c/span\x3e\x3c/div\x3e \x3cdiv class\x3d"text-devide-li"\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"message-response-template" type\x3d"text/x-handlebars-template"\x3e{{#if publicNote}}{{#ifCond msgCntntTyp "\x3d\x3d" "img"}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-agent-pic" style\x3d"background-image: url({{sndrImg}})"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}"  data-tm-millis\x3d"{{crtDtTmstmp}}" data-node-id\x3d"{{nodeId}}" data-node-intent\x3d"{{nodeIntent}}"\x3e\x3cdiv class\x3d"joe-agent-name"\x3e\x3cspan class\x3d"bold"\x3e\x3c!--\x3ci class\x3d"fa fa-circle online"\x3e\x3c/i\x3e --\x3e{{sndrNm}}\x3c/span\x3e \x26nbsp;\x3cspan class\x3d"font-sm joe-msg-date-time joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-img-palceholder-div"\x3e\x3cimg src\x3d"{{response}}" style\x3d"max-width:100%; background:#EFEFEF;"/\x3e\x3c/br\x3e\x3c/div\x3e{{#if longDesc}}\x3cspan class\x3d""\x3e{{linkify longDesc}}\x3c/span\x3e\x3cbr/\x3e{{/if}}\x3c/div\x3e\x3c/li\x3e{{else ifCond msgCntntTyp "\x3d\x3d" "fl"}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-agent-pic" style\x3d"background-image: url({{sndrImg}})"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}" hash\x3d"{{hash}}"\x3e\x3cdiv class\x3d"joe-agent-name"\x3e\x3cspan class\x3d"bold"\x3e{{sndrNm}}\x3c/span\x3e \x26nbsp;\x3cspan class\x3d"font-sm joe-msg-date-time joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3cdiv style\x3d"text-align: center;position: relative; padding:0px;"\x3e\x3ci class\x3d"fa fa-file-text-o fa-5x" style\x3d"font-size: 50px;padding: 10px;"aria-hidden\x3d"true"\x3e\x3c/i\x3e \x3ca href\x3d"{{response}}" target\x3d"_blank"\x3e\x3cdiv class\x3d"joe-blur-div"\x3e\x3cspan class\x3d"joe-helper" style\x3d"height:100%;"\x3e\x3c/span\x3e\x3ci class\x3d"fa fa-arrow-circle-o-down fa-2x" aria-hidden\x3d"true" style\x3d"vertical-align: middle;"\x3e\x3c/i\x3e\x3c/div\x3e\x3c/a\x3e\x3c/div\x3e\x3c/div\x3e\x3c/li\x3e{{else ifCond msgCntntTyp \'\x3d\x3d\' \'pymnt\'}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}"  data-tm-millis\x3d"{{crtDtTmstmp}}" data-node-id\x3d"{{nodeId}}" data-node-intent\x3d"{{nodeIntent}}"\x3e\x3cspan class\x3d"bold"\x3e\x3ci class\x3d"fa fa-circle online"\x3e\x3c/i\x3e {{sndrNm}}\x3c/span\x3e\x3cbr/\x3e{{#if paymentCard.amnt}}\x3cspan class\x3d\'\'\x3e{{getLanguageBasedTerm \'payment_for\'}}\x3ci class\x3d\'fa fa-inr\' aria-hidden\x3d\'true\'\x3e\x3c/i\x3e {{paymentCard.amnt}}\x3c/span\x3e\x3cbr/\x3e{{/if}}\x3cspan class\x3d"font-sm joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3cbr/\x3e\x3ca href\x3d\'{{paymentCard.url}}\' target\x3d\'_blank\'\x3e\x3cbutton class\x3d\'joe-button-0 joe-box\'\x3e {{paymentCard.btnTxt}}\x3c/button\x3e\x3c/a\x3e\x3cbr/\x3e\x3c/div\x3e\x3c/li\x3e{{else ifCond msgCntntTyp "\x3d\x3d" "ordrSmry"}}\x3cdiv style\x3d"padding: 0px 10px"\x3e\x3cdiv class\x3d"joe-card font-1x" style\x3d"display: block;"\x3e\x3cdiv class\x3d"joe-box" style\x3d"margin-bottom: 3px;padding: 6px;"\x3e\x3cdiv class\x3d"" style\x3d"width:20%;display: inline-block;vertical-align: middle;"\x3e\x3cimg src\x3d"'+
ua+'/assets/imgs/yes-icon-v1.png" width\x3d"50px"/\x3e\x3c/div\x3e\x3cdiv class\x3d"" style\x3d"width:60%;display: inline-block;vertical-align: middle;"\x3e\x3cspan\x3e\x3cb\x3eHeading\x3c/b\x3e\x3c/span\x3e\x3c/br\x3e\x3cspan style\x3d"font-size:11px;"\x3eLorem ipsum \x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"" style\x3d"width:20%;display: inline-block;vertical-align: middle;text-align: right;"\x3e\x3cspan\x3e\x3ci class\x3d"fa fa-inr" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3cb\x3e\x26nbsp;2000\x3c/b\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"" style\x3d"margin-bottom: 3px;padding:6px;background-color: #EFEFEF"\x3e\x3cdiv style\x3d"width:80%;display:inline-block;text-align: center;vertical-align: bottom;"\x3e\x3caddress class\x3d""\x3e{{getLanguageBasedTerm "address"}}\x3cbr/\x3eBox 564, Disneyland USA\x3c/address\x3e\x3c/div\x3e\x3cdiv style\x3d"width:20%;display:inline-block;text-align:right;vertical-align: middle"\x3e\x3cspan\x3e\x3cb\x3eTotal\x3c/b\x3e\x3cbr/\x3e\x3ci class\x3d"fa fa-inr" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3cb\x3e\x26nbsp;4000\x3c/b\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{else ifCond msgCntntTyp "\x3d\x3d" "ordrSts"}}\x3cdiv style\x3d"padding: 0 10px;"\x3e\x3ctable class\x3d"joe-table joe-card"\x3e \x3ccolgroup\x3e\x3ccol width\x3d"30%"\x3e\x3ccol width\x3d"40%"\x3e\x3ccol width\x3d"30%"\x3e\x3c/colgroup\x3e\x3ctr\x3e\x3cth colspan\x3d"3" style\x3d"text-align: center; color: beige; background-color: gray; border-radius: 5px 5px 0px 0px;"\x3e{{getLanguageBasedTerm "order_status"}}\x3c/th\x3e\x3c/tr\x3e\x3ctr\x3e\x3cth\x3e{{getLanguageBasedTerm "order_id" }}: \x3c/th\x3e\x3cth colspan\x3d"2"\x3e{{orderStatusCard.ordrId}}\x3c/th\x3e\x3c/tr\x3e{{#if orderStatusCard.ordrSts}}\x3ctr\x3e\x3cth\x3e{{getLanguageBasedTerm "status"}}: \x3c/th\x3e\x3cth colspan\x3d"2"\x3e{{orderStatusCard.ordrSts}}\x3c/th\x3e\x3c/tr\x3e{{/if}}{{#if orderStatusCard.ordrPlcdDt}}\x3ctr\x3e\x3cth\x3e{{getLanguageBasedTerm "placed_on"}}: \x3c/th\x3e\x3cth colspan\x3d"2"\x3e{{orderStatusCard.ordrPlcdDt}}\x3c/th\x3e\x3c/tr\x3e{{/if}}{{#each orderStatusCard.itms}}\x3ctr\x3e\x3ctd colspan\x3d"2"\x3e{{this.nm}}\x3cbr/\x3e{{#ifCond this.sts \'\x3d\x3d\' \'Delivered\'}}\x3cspan class\x3d\'status-done\'\x3e{{else ifCond this.sts \'\x3d\x3d\' \'Cancelled\'}}\x3cspan class\x3d\'status-cancelled\'\x3e{{else}}\x3cspan class\x3d\'status-pending\'\x3e{{/ifCond}}{{this.sts}}\x3c/span\x3e{{#if this.trckLnk}}\x26nbsp;\x26nbsp;\x3cspan\x3e\x3ca href\x3d"{{this.trckLnk}}" target\x3d"_blank" style\x3d"color: blue;"\x3e{{this.trckLnkBtnTxt}}\x3c/a\x3e\x3c/span\x3e{{/if}}\x3c/td\x3e\x3ctd width\x3d"30%"\x3e\x3cimg src\x3d"{{this.imgUrl}}" width\x3d"100%"/\x3e\x3c/td\x3e\x3c/tr\x3e{{/each}}\x3c/table\x3e\x3cdiv\x3e{{else ifCond tmorplycntnttyp "\x3d\x3d" "artcl"}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-agent-pic" style\x3d"background-image: url({{sndrImg}})"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" style\x3d"padding: 15px 0px;" ticketMessageHash\x3d"{{ticketMessageHash}}"  data-tm-millis\x3d"{{crtDtTmstmp}}" data-node-id\x3d"{{nodeId}}" data-node-intent\x3d"{{nodeIntent}}"\x3e\x3cdiv class\x3d"joe-agent-name" style\x3d"margin-left:0px;"\x3e\x3cspan class\x3d"bold"\x3e\x3c!--\x3ci class\x3d"fa fa-circle online"\x3e\x3c/i\x3e --\x3e{{sndrNm}}\x3c/span\x3e \x26nbsp;\x3cspan class\x3d"font-sm joe-msg-date-time joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3cdiv style\x3d"padding: 0px 15px 15px;"\x3e\x3cspan\x3e{{linkify response}}\x3c/span\x3e\x3c/div\x3e\x3cdiv\x3e{{#each ticketmsgoptn}}\x3cdiv class\x3d"joe-faq-items" id\x3d"{{../ticketMessageHash}}{{this.id}}"\x3e\x3cspan class\x3d"joe-faq-item-text"\x3e{{{this.displayText}}}\x3c/span\x3e\x3c/div\x3e{{/each}}\x3c/div\x3e{{#if mrUrl}}\x3cdiv style\x3d"padding:5px 15px 0 15px; text-align:center; margin-bottom: -10px; "\x3e\x3ca href\x3d"{{mrUrl}}" target\x3d"_blank"\x3e\x3cspan class\x3d"joe-more-articels"\x3e {{getLanguageBasedTerm "more_articels"}}\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/li\x3e{{else ifCond tmorplycntnttyp "\x3d\x3d" "itm"}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-agent-pic" style\x3d"background-image: url({{sndrImg}})"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}"  data-tm-millis\x3d"{{crtDtTmstmp}}" data-node-id\x3d"{{nodeId}}" data-node-intent\x3d"{{nodeIntent}}"\x3e\x3cdiv class\x3d"joe-agent-name"\x3e\x3cspan class\x3d"bold"\x3e\x3c!--\x3ci class\x3d"fa fa-circle online"\x3e\x3c/i\x3e --\x3e{{sndrNm}}\x3c/span\x3e \x26nbsp;\x3cspan class\x3d"font-sm joe-msg-date-time joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3cspan class\x3d""\x3e{{linkify response}}\x3c/span\x3e\x3cbr/\x3e\x3c/div\x3e\x3c/li\x3e\x3cdiv class\x3d"joe-slider-container" style\x3d"padding-bottom: 10px; position:relative;" msghash\x3d"{{ticketMessageHash}}"\x3e \x3cdiv class\x3d"joe-slider_wrapper" style\x3d"display: table; border-spacing: 5px 0px; table-layout: fixed;"\x3e \x3cdiv class\x3d"joe-image_slider image_slider{{ticketMessageHash}}" style\x3d"display: table-row;" id\x3d"image_slider{{ticketMessageHash}}" crntImg\x3d"0" imgNbr\x3d""\x3e {{#each ticketmsgoptn}}{{#ifCond this.cntntTyp "\x3d\x3d" "itm"}}{{#if this.mtdt}}\x3cdiv style\x3d"display:table-cell; vertical-align: top; -moz-box-sizing: border-box; min-width: 223px; border-radius: 5px 5px 0 0; border-bottom: none;" class\x3d"joe-listitem bg-white"\x3e \x3cdiv style\x3d"height: 100%; overflow: auto; -moz-box-sizing: border-box;"\x3e \x3cdiv class\x3d"bg-white" style\x3d"position:relative; height:100%; margin-bottom: 0px; border-radius: 5px 5px 0 0"\x3e {{#if this.mtdt.itm.imgUrl}}\x3cdiv class\x3d"joe-flip" style\x3d"text-align: center; min-height: 1px; max-height: 200px; overflow: hidden; border-radius: 0 0 5px 5px;"\x3e \x3cimg class\x3d"joe-flip" src\x3d"{{this.mtdt.itm.imgUrl}}"\x3e \x3c/div\x3e {{/if}} \x3cdiv class\x3d"slider-card-content-section"\x3e {{#if this.mtdt.itm.nm}}\x3cdiv class\x3d"joe-padd-tb-5 block-with-text el-max-height"\x3e\x3cspan class\x3d"joe-slider-card-title" title\x3d"{{this.mtdt.itm.nm}}"\x3e{{this.mtdt.itm.nm}}\x3c/span\x3e\x3c/div\x3e {{/if}}{{#if this.mtdt.itm.sbTtl}}\x3cdiv class\x3d"joe-card-border-up"\x3e\x3c/div\x3e \x3cdiv class\x3d"joe-padd-tb-5 block-with-text el-max-height"\x3e\x3cspan class\x3d"joe-slider-card-subtitle"\x3e{{linkify this.mtdt.itm.sbTtl}}\x3c/span\x3e\x3c/div\x3e {{/if}}{{#if this.mtdt.itm.rtng}}\x3cdiv class\x3d"joe-padd-tb-5"\x3e \x3cspan class\x3d"font-sm"\x3e \x26nbsp; \x26nbsp; \x3ci class\x3d"fa fa-star fa-2x joe-star-active" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x26nbsp;\x3cspan class\x3d"font-2x"\x3e{{this.mtdt.itm.rtng}}\x3c/span\x3e\x3c/span\x3e \x3c/div\x3e {{/if}}{{#if this.mtdt.itm.shrtDscrptn}}\x3cdiv class\x3d"joe-padd-tb-5"\x3e\x3cdiv class\x3d"joe-slider-card-desc block-with-text" title\x3d"{{this.mtdt.itm.shrtDscrptn}}"\x3e{{linkify this.mtdt.itm.shrtDscrptn}}\x3c/div\x3e\x3c/div\x3e {{/if}}{{#if this.mtdt.itm.dscPrcntg}}\x3cdiv class\x3d"" style\x3d"display:inline-block; min-width: 30%;"\x3e\x3cspan class\x3d"font-2x joe-padd-tb-5 status-done"\x3e\x3ci class\x3d"fa fa-inr" aria-hidden\x3d"true"\x3e\x3c/i\x3e {{this.mtdt.itm.dscPrcntg}}\x3c/span\x3e\x3c/div\x3e {{/if}}{{#ifCond this.mtdt.itm.ofrPrc "||" this.mtdt.itm.mrp}}\x3cdiv class\x3d"" style\x3d"text-align: right; display:inline-block; min-width: 70%;"\x3e{{#if this.mtdt.itm.mrp}}{{#ifCond this.mtdt.itm.mrp "!\x3d" this.mtdt.itm.ofrPrc}}\x3cdel class\x3d"joe-slider-card-baseprice font-2x joe-padd-tb-5" style\x3d"color:#9e9e9e; margin-right: 10px;"\x3e\x3ci class\x3d"fa fa-inr" aria-hidden\x3d"true"\x3e\x3c/i\x3e {{this.mtdt.itm.mrp}}\x3c/del\x3e {{/ifCond}}{{/if}}{{#if this.mtdt.itm.ofrPrc}}\x3cspan class\x3d"font-2x joe-padd-tb-5" style\x3d"color:#424242;"\x3e\x3ci class\x3d"fa fa-inr" aria-hidden\x3d"true"\x3e\x3c/i\x3e {{this.mtdt.itm.ofrPrc}}\x3c/span\x3e{{/if}}\x3c/div\x3e {{/ifCond}}\x3c/div\x3e \x3c/div\x3e \x3c/div\x3e \x3c/div\x3e {{/if}}{{/ifCond}}{{/each}}\x3c/div\x3e \x3cdiv style\x3d"clear: both;"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-image_slider image_slider{{ticketMessageHash}}" style\x3d"display: table-row;"\x3e {{#each ticketmsgoptn}}{{#ifCond this.cntntTyp "\x3d\x3d" "itm"}}\x3cdiv class\x3d"joe-bottom-section joe-listitem bg-white" style\x3d"display: table-cell; vertical-align: top;  min-width:223px; height: 100%; overflow: auto; -moz-box-sizing: border-box; border-radius: 0 0 5px 5px; border-top: none;"\x3e {{#ifCond this.mtdt.itm.prmryBtnTxt "||" this.mtdt.itm.btn2Txt}}\x3cdiv class\x3d"slider-card-content-section joe-card-border-up bg-white" style\x3d"text-align: right;"\x3e{{#if this.mtdt.itm.prmryBtnTxt}}{{#if ../adhocCallSupported}}\x3cspan class\x3d"joe-prmry-btn"\x3e{{else}}\x3cspan class\x3d"joe-prmry-btn hide-post-sbmt joe-hide"\x3e{{/if}}{{#if this.mtdt.itm.btn2Txt}}\x3cbutton class\x3d"joe-btn joe-itemslider-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "  value\x3d"{{this.id}}" displayText\x3d"{{this.mtdt.itm.nm}}" data-send-private-message\x3d"{{this.mtdt.itm.sndPrvtMsg}}" ref-tm-hash\x3d"{{../ticketMessageHash}}"\x3e{{else}}\x3cbutton class\x3d"joe-btn joe-itemslider-btn joe-bdrds-5 joe-box" style\x3d"width: 100%; margin-top: 0px "  value\x3d"{{this.id}}" displayText\x3d"{{this.mtdt.itm.nm}}" data-send-private-message\x3d"{{this.mtdt.itm.sndPrvtMsg}}" ref-tm-hash\x3d"{{../ticketMessageHash}}"\x3e{{/if}}{{this.mtdt.itm.prmryBtnTxt}} \x3c/button\x3e\x3c/span\x3e {{/if}}{{#if this.mtdt.itm.btn2Txt}}{{#if this.mtdt.itm.prmryBtnTxt}}\x3ca href\x3d"{{this.mtdt.itm.btn2Url}}" target\x3d"_blank"\x3e\x3cbutton class\x3d"joe-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "\x3e {{this.mtdt.itm.btn2Txt}} \x3c/button\x3e\x3c/a\x3e {{else}}{{#if this.mtdt.itm.btn3Txt}}\x3ca href\x3d"{{this.mtdt.itm.btn2Url}}" target\x3d"_blank"\x3e\x3cbutton class\x3d"joe-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "\x3e {{this.mtdt.itm.btn2Txt}} \x3c/button\x3e\x3c/a\x3e {{else}}\x3ca href\x3d"{{this.mtdt.itm.btn2Url}}" target\x3d"_blank"\x3e\x3cbutton class\x3d"joe-btn joe-bdrds-5 joe-box" style\x3d"width: 100%; margin-top: 0px "\x3e {{this.mtdt.itm.btn2Txt}} \x3c/button\x3e\x3c/a\x3e {{/if}}{{/if}}{{/if}}{{#if this.mtdt.itm.btn3Txt}}\x3ca href\x3d"{{this.mtdt.itm.btn3Url}} " target\x3d"_blank"\x3e\x3cbutton class\x3d"joe-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "\x3e {{this.mtdt.itm.btn3Txt}} \x3c/button\x3e\x3c/a\x3e {{/if}}\x3c/div\x3e {{/ifCond}}\x3c/div\x3e {{/ifCond}}{{/each}}\x3c/div\x3e\x3c/div\x3e \x3cspan class\x3d"joe-nvgt joe-prev" id\x3d"prev{{ticketMessageHash}}"\x3e\x3c/span\x3e \x3cspan class\x3d"joe-nvgt joe-next" id\x3d"next{{ticketMessageHash}}"\x3e\x3c/span\x3e \x3c/div\x3e{{else ifCond tmorplycntnttyp "\x3d\x3d" "img"}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}"  data-tm-millis\x3d"{{crtDtTmstmp}}" data-node-id\x3d"{{nodeId}}" data-node-intent\x3d"{{nodeIntent}}"\x3e\x3cspan class\x3d"bold"\x3e\x3ci class\x3d"fa fa-circle online"\x3e\x3c/i\x3e {{sndrNm}}\x3c/span\x3e\x3cbr/\x3e\x3cspan class\x3d""\x3e{{linkify response}}\x3c/span\x3e\x3cbr/\x3e\x3cspan class\x3d"font-sm joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3c/li\x3e\x3cdiv class\x3d"joe-slider-container" style\x3d"padding-bottom: 10px; position:relative;" msghash\x3d"{{ticketMessageHash}}"\x3e \x3cdiv class\x3d"joe-slider_wrapper" style\x3d"display: table; border-spacing: 5px 0px; table-layout: fixed;"\x3e \x3cdiv class\x3d"joe-image_slider image_slider{{ticketMessageHash}}" style\x3d"display: table-row;" id\x3d"image_slider{{ticketMessageHash}}" crntImg\x3d"0" imgNbr\x3d""\x3e {{#each ticketmsgoptn}}{{#ifCond this.cntntTyp "\x3d\x3d" "img"}}{{#if this.mtdt}}\x3cdiv style\x3d"display:table-cell; vertical-align: top; -moz-box-sizing: border-box; min-width: 223px; border-radius: 5px 5px 0 0; border-bottom: none;" class\x3d"joe-listitem bg-white"\x3e \x3cdiv style\x3d"height: 100%; overflow: auto; -moz-box-sizing: border-box;"\x3e \x3cdiv class\x3d"bg-white" style\x3d"position:relative; height:100%; margin-bottom: 0px; border-radius: 5px 5px 0 0"\x3e {{#if this.mtdt.imgDtl.imgUrl}}\x3cdiv class\x3d"joe-flip" style\x3d"text-align: center; min-height: 1px; max-height: 270px; overflow: hidden; border-radius: 0 0 5px 5px;"\x3e \x3cimg class\x3d"joe-flip" src\x3d"{{this.mtdt.imgDtl.imgUrl}}"\x3e \x3c/div\x3e {{/if}} \x3cdiv class\x3d"slider-card-content-section"\x3e {{#if this.mtdt.imgDtl.lngDscrptn}}\x3cdiv class\x3d"joe-padd-tb-5"\x3e\x3cspan class\x3d"joe-slider-card-desc" title\x3d"{{this.mtdt.imgDtl.lngDscrptn}}"\x3e{{trimString this.mtdt.imgDtl.lngDscrptn 0 50}}\x3c/span\x3e\x3c/div\x3e {{/if}}\x3c/div\x3e \x3c/div\x3e \x3c/div\x3e \x3c/div\x3e {{/if}}{{/ifCond}}{{/each}}\x3c/div\x3e \x3cdiv style\x3d"clear: both;"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-image_slider image_slider{{ticketMessageHash}}" style\x3d"display: table-row;"\x3e {{#each ticketmsgoptn}}{{#ifCond this.cntntTyp "\x3d\x3d" "img"}}\x3cdiv class\x3d"joe-bottom-section joe-listitem bg-white" style\x3d"display: table-cell; vertical-align: top;  min-width:223px; height: 100%; overflow: auto; -moz-box-sizing: border-box; border-radius: 0 0 5px 5px; border-top: none;"\x3e {{#ifCond this.mtdt.imgDtl.prmryBtnTxt "||" this.mtdt.imgDtl.btn2Txt}}\x3cdiv class\x3d"slider-card-content-section joe-card-border-up bg-white" style\x3d"text-align: right;"\x3e {{#if this.mtdt.imgDtl.prmryBtnTxt}}{{#if ../adhocCallSupported}}\x3cspan class\x3d"joe-prmry-btn"\x3e{{else}}\x3cspan class\x3d"joe-prmry-btn hide-post-sbmt joe-hide"\x3e{{/if}}\x3cbutton class\x3d"joe-btn joe-itemslider-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "  value\x3d"{{this.id}}" displayText\x3d"{{this.mtdt.imgDtl.nm}}" ref-tm-hash\x3d"{{../ticketMessageHash}}"\x3e {{this.mtdt.imgDtl.prmryBtnTxt}} \x3c/button\x3e\x3c/span\x3e {{/if}}{{#if this.mtdt.imgDtl.btn2Txt}}\x3ca href\x3d"{{this.mtdt.imgDtl.btn2Url}}" target\x3d"_blank"\x3e\x3cbutton class\x3d"joe-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "\x3e {{this.mtdt.imgDtl.btn2Txt}} \x3c/button\x3e\x3c/a\x3e {{/if}}{{#if this.mtdt.imgDtl.btn3Txt}}\x3ca href\x3d"{{this.mtdt.imgDtl.btn3Url}} " target\x3d"_blank"\x3e\x3cbutton class\x3d"joe-btn joe-bdrds-5 joe-box" style\x3d"width: auto; margin-top: 0px "\x3e {{this.mtdt.imgDtl.btn3Txt}} \x3c/button\x3e\x3c/a\x3e {{/if}}\x3c/div\x3e {{/ifCond}}\x3c/div\x3e {{/ifCond}}{{/each}}\x3c/div\x3e\x3c/div\x3e \x3cspan class\x3d"joe-nvgt joe-prev" id\x3d"prev{{ticketMessageHash}}"\x3e\x3c/span\x3e \x3cspan class\x3d"joe-nvgt joe-next" id\x3d"next{{ticketMessageHash}}"\x3e\x3c/span\x3e \x3c/div\x3e{{else}}\x3cli class\x3d"joe-clearfix"\x3e\x3cdiv class\x3d"joe-agent-pic" style\x3d"background-image: url({{sndrImg}})"\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-message other-message shadow-box" ticketMessageHash\x3d"{{ticketMessageHash}}"  data-tm-millis\x3d"{{crtDtTmstmp}}" data-node-id\x3d"{{nodeId}}" data-node-intent\x3d"{{nodeIntent}}"\x3e\x3cdiv class\x3d"joe-agent-name"\x3e\x3cspan class\x3d"bold"\x3e\x3c!--\x3ci class\x3d"fa fa-circle online"\x3e\x3c/i\x3e --\x3e{{sndrNm}}\x3c/span\x3e \x26nbsp;\x3cspan class\x3d"font-sm joe-msg-date-time joe-msg-time" data-msg-timestamp\x3d"{{crtDtTmstmp}}" data-timestamp-type\x3d"{{timestampType}}"\x3e{{time}}\x3c/span\x3e\x3c/div\x3e\x3cspan class\x3d""\x3e{{linkify response}}\x3c/span\x3e\x3cbr/\x3e\x3c/div\x3e\x3c/li\x3e{{/ifCond}}{{/if}}\x3c/script\x3e\x3cscript id\x3d"popup-message-template" type\x3d"text/x-handlebars-template"\x3e{{#if publicNote}}{{#ifCond msgCntntTyp "\x3d\x3d" "img"}}\x3cdiv class\x3d"joe-msg-bubble-container" style\x3d"position:absolute;z-index: 10000; width:100%; right:0; bottom:100%;"\x3e\x3cdiv style\x3d"display:block; padding: 0px; padding-bottom: 6px; font-size: 13px; text-align:right;"\x3e\x3cdiv class\x3d"joe-msg-hovertext"\x3e\x3cspan class\x3d"msg-bubble-btnclose joe-popup-close-btn"\x3e\x3cimg src\x3d"'+
ua+'/assets/imgs/g3_icons/close.svg"\x3e\x3c/span\x3e{{#if longDesc}}\x3cspan class\x3d""\x3e{{linkify longDesc}}\x3c/span\x3e\x3cbr/\x3e{{/if}}\x3cimg src\x3d"{{response}}" style\x3d"max-width: 100%; max-height:200px;"/\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{else}}\x3cdiv class\x3d"joe-msg-bubble-container" style\x3d"position:absolute;z-index: 10000; width:100%; right:0; bottom:100%;"\x3e\x3cdiv style\x3d"display:block; padding: 0px; padding-bottom: 6px; font-size: 13px; text-align:right;"\x3e\x3cdiv class\x3d"joe-msg-hovertext"\x3e\x3cspan class\x3d"msg-bubble-btnclose joe-popup-close-btn"\x3e\x3cimg src\x3d"'+
ua+'/assets/imgs/g3_icons/close.svg"\x3e\x3c/span\x3e\x3cspan class\x3d""\x3e{{linkify response}}\x3c/span\x3e\x3cbr/\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/ifCond}}{{/if}}\x3c/script\x3e\x3cscript id\x3d"quick-reply-input-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"qck-rply-div"\x3e{{#if quickReplyList}}\x3cdiv style\x3d"text-align:center;"\x3e{{#each quickReplyList}}\x3cbutton class\x3d"font-1x btn-color-main joe-quickReplyList joe-card" value\x3d"{{this.vl}}"\x3e{{this.dsplyTxt}}\x3c/button\x3e{{/each}}\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"faq-item-full-template" type\x3d"text/x-handlebars-template"\x3e{{#each ticketmsgoptn}}\x3cdiv class\x3d"joe-faq-item-full joe-hide" data-target\x3d"{{../ticketMessageHash}}{{this.id}}"\x3e\x3cdiv class\x3d"joe-faq-inner-container"\x3e\x3cdiv class\x3d"bg-header joe-faq-header"\x3e\x3cdiv style\x3d"display:table; height:100%; width:100%;"\x3e\x3cdiv style\x3d"display:table-cell; vertical-align:middle;"\x3e\x3cspan class\x3d"joe-back-arrow"\x3e\x3c/span\x3e {{#if this.mtdt.artcl.url}}\x3ca href\x3d"{{this.mtdt.artcl.url}}" target\x3d"_blank"\x3e\x3cspan class\x3d"joe-open-tab"\x3e\x3c/span\x3e\x3c/a\x3e{{/if}}\x3cdiv class\x3d"joe-clearfix"\x3e\x3c/div\x3e\x3clabel class\x3d"title-chat" style\x3d"color:#ffffff; margin-top:10px; max-height: 60px;overflow: hidden;" title\x3d"{{strip-html this.mtdt.artcl.ttl}}"\x3e{{trimString (strip-html this.mtdt.artcl.ttl) 0 45}}\x3c/label\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-faq-body"\x3e\x3cdiv style\x3d"font-size:14px; padding:20px; line-height:1.71;"\x3e{{linkify this.mtdt.artcl.mnCntnt}}\x3c/div\x3e{{#if this.mtdt.fdbckStngs}}\x3cdiv style\x3d"padding:20px; border-top:1px solid rgba(204, 204, 204, 0.6);"\x3e\x3cdiv class\x3d"tmo-feedback-error joe-red-alert-text text-center hide"\x3e{{getLanguageBasedTerm "unexpected_error_please_try_again"}}. \x3c/div\x3e\x3cdiv style\x3d"text-align:center;" class\x3d"tmo-feedback-div"\x3e \x3clabel class\x3d"joe-fdbk-message"\x3e{{this.mtdt.fdbckStngs.qstn}}\x3c/label\x3e{{#ifCond this.mtdt.fdbckStngs.fdbckTyp "\x3d\x3d" "OPTIONS"}}{{#each this.mtdt.fdbckStngs.optns}}\x3cdiv class\x3d"joe-faq-fdbk-btn" data-value\x3d"{{this.vl}}" data-tmo-id\x3d"{{../this.id}}" ticket-message-hash\x3d"{{../../ticketMessageHash}}"\x3e{{linkify this.dsplyTxt}}\x3c/div\x3e{{/each}}{{/ifCond}}\x3c/div\x3e\x3c/div\x3e{{/if}}\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e{{/each}}\x3c/script\x3e\x3cscript id\x3d"agent-msg-submit-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"fbots-chat-footer-main" id\x3d"agent-msg-submit"\x3e\x3cdiv class\x3d"input-widget-loader hide"\x3e\x3c/div\x3e{{#if rstrctInpt}}{{else}}{{#if fdbckStngs.mndtry}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cdiv style\x3d"text-align:center;" class\x3d"text-center"\x3e \x3clabel class\x3d"joe-fdbk-message"\x3e{{fdbckStngs.qstn}}\x3c/label\x3e{{#ifCond fdbckStngs.fdbckTyp "\x3d\x3d" "OPTIONS"}}{{#each fdbckStngs.optns}}\x3cdiv class\x3d"joe-faq-fdbk-btn" data-value\x3d"{{this.vl}}" ticket-message-hash\x3d"{{../ticketMessageHash}}" data-tmo-id\x3d""\x3e{{linkify this.dsplyTxt}}\x3c/div\x3e{{/each}}{{/ifCond}}\x3c/div\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "error_while_sending_please_try_again"}}\x3c/span\x3e\x3c/div\x3e\x3cdiv id\x3d"success-alert" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "thanks_for_feedback"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/if}}{{#unless fdbckStngs.mndtry}}{{#ifCond tmorplycntnttyp "\x3d\x3d" "itm"}}{{else ifCond tmorplycntnttyp "\x3d\x3d" "img"}}{{else ifCond tmorplycntnttyp "\x3d\x3d" "artcl"}}{{else}}{{#ifCond replyContentType "\x3d\x3d" "opt"}}{{#ifCond mnOptnsFrDrpDwn \'\x3e\' ticketmsgoptn.length}}\x3cdiv class\x3d\'joe-radio-list-btn\'\x3e {{#each ticketmsgoptn}}{{#if this.icnUrl}}\x3cdiv\x3e\x3cinput id\x3d\'joe-radio-{{this.id}}\' name\x3d\'listOptions\' type\x3d\'radio\' data-display\x3d\'{{this.displayText}}\' class\x3d\'with-font\' value\x3d\'{{this.id}}\' /\x3e\x3clabel for\x3d\'joe-radio-{{this.id}}\'\x3e\x3cimg src\x3d\'{{this.icnUrl}}\' width\x3d\'25px\' style\x3d\'vertical-align: middle; margin-right: 5px; margin-bottom: 2px;\'/\x3e{{linkify this.displayText}}\x3c/label\x3e\x3c/div\x3e{{else}}\x3cdiv\x3e\x3cinput id\x3d\'joe-radio-{{this.id}}\' name\x3d\'listOptions\' type\x3d\'radio\' data-display\x3d\'{{this.displayText}}\' class\x3d\'with-font\' value\x3d\'{{this.id}}\' /\x3e\x3clabel for\x3d\'joe-radio-{{this.id}}\'\x3e{{linkify this.displayText}}\x3c/label\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e  {{else}}\x3cselect id\x3d"listOptions"\x3e\x3coption id\x3d"" value\x3d""\x3e{{getLanguageBasedTerm "start_typing_to_see_options"}}...\x3c/option\x3e{{#each ticketmsgoptn}}{{#if this.mtdt}}{{#ifCond this.mtdt.dflt \'\x3d\x3d\' \'true\'}}\x3coption id\x3d\'joe-select-opsn-{{this.id}}\' value\x3d\'{{this.id}}\' selected\x3e{{this.displayText}}\x3c/option\x3e{{else}}\x3coption id\x3d\'joe-select-opsn-{{this.id}}\' value\x3d\'{{this.id}}\'\x3e{{this.displayText}}\x3c/option\x3e{{/ifCond}}{{else}}\x3coption id\x3d\'joe-select-opsn-{{this.id}}\' value\x3d\'{{this.id}}\'\x3e{{this.displayText}}\x3c/option\x3e{{/if}}{{/each}}\x3c/select\x3e{{/ifCond}}{{else ifCond replyContentType "\x3d\x3d" "time"}}\x3cdiv class\x3d"text-center"\x3e \x3cinput id\x3d\'date-rnge\' type\x3d\'hidden\' data-start-date\x3d\'{{startDate}}\' data-end-date\x3d\'{{endDate}}\' date-interval\x3d\'{{interval}}\'/\x3e\x3clabel\x3e{{getLanguageBasedTerm "hours"}}:\x3c/label\x3e \x3cselect class\x3d"joe-select" id\x3d"hrs-to-send"\x3e {{#each hours}}{{#ifCond this \'\x3d\x3d\' ../defaultHours}}\x3coption selected\x3e{{this}}\x3c/option\x3e{{else}}\x3coption\x3e{{this}}\x3c/option\x3e{{/ifCond}}{{/each}} \x3c/select\x3e \x3clabel\x3e{{getLanguageBasedTerm "mins"}}:\x3c/label\x3e \x3cselect class\x3d"joe-select" id\x3d"mins-to-send"\x3e {{#each minutes}}{{#ifCond this \'\x3d\x3d\' ../defaultMinutes}}\x3coption selected\x3e{{this}}\x3c/option\x3e{{else}}\x3coption\x3e{{this}}\x3c/option\x3e{{/ifCond}}{{/each}}\x3c/select\x3e\x3cspan class\x3d\'pull-right joe-send-btn btn-color-main shadow-box\' style\x3d\'display:block !important;\' id\x3d\'msg-send-btn\' fieldType \x3d \'time\'\x3e\x3c/span\x3e\x3c/div\x3e{{else ifCond replyContentType \'\x3d\x3d\' \'date\'}} \x3cdiv class\x3d"text-center"\x3e \x3cinput id\x3d\'date-rnge\' type\x3d\'hidden\' data-start-date\x3d\'{{startDate}}\' data-end-date\x3d\'{{endDate}}\'/\x3e\x3clabel\x3e{{getLanguageBasedTerm \'year\'}}:\x3c/label\x3e \x3cselect class\x3d\'joe-select\' id\x3d\'year-to-send\'\x3e{{#each years}}{{#ifCond this \'\x3d\x3d\' ../defaultYear}}\x3coption selected\x3e{{this}}\x3c/option\x3e{{else}}\x3coption\x3e{{this}}\x3c/option\x3e{{/ifCond}}{{/each}} \x3c/select\x3e\x3clabel\x3e{{getLanguageBasedTerm \'month\'}}:\x3c/label\x3e \x3cselect class\x3d\'joe-select\' id\x3d\'month-to-send\'\x3e {{#each months}}{{#ifCond this \'\x3d\x3d\' ../defaultMonth}}\x3coption selected\x3e{{this}}\x3c/option\x3e{{else}}\x3coption\x3e{{this}}\x3c/option\x3e{{/ifCond}}{{/each}}\x3c/select\x3e \x3clabel\x3e{{getLanguageBasedTerm \'day\'}}:\x3c/label\x3e \x3cselect class\x3d\'joe-select\' id\x3d\'date-to-send\'\x3e{{#each dates}}{{#ifCond this \'\x3d\x3d\' ../defaultDate}}{{#ifCond this \'\x3c\' 10 }} \x3coption selected\x3e0{{this}}\x3c/option\x3e{{else}} \x3coption selected\x3e{{this}}\x3c/option\x3e{{/ifCond}}{{else}}{{#ifCond this \'\x3c\' 10 }} \x3coption\x3e0{{this}}\x3c/option\x3e{{else}} \x3coption\x3e{{this}}\x3c/option\x3e{{/ifCond}}{{/ifCond}}{{/each}} \x3c/select\x3e \x3cspan class\x3d"pull-right joe-send-btn btn-color-main shadow-box" style\x3d"display:block !important;" id\x3d"msg-send-btn" fieldType \x3d "date" \x3e\x3c/span\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "gender"}}{{#if isMob}}{{#each ticketmsgoptn}}{{#if this.icnUrl}}\x3cdiv class\x3d"optionBtn"\x3e\x3cimg src\x3d"{{this.icnUrl}}" class\x3d"option-to-send" name\x3d"cnfrmtn" value\x3d"{{this.displayText}}"/\x3e{{linkify this.displayText}}\x3c/div\x3e{{else}}\x3cdiv class\x3d"optionBtn"\x3e\x3cimg src\x3d"'+
ua+'/assets/imgs/yes-icon-v1.png" class\x3d"option-to-send hide" name\x3d"cnfrmtn" value\x3d"{{this.displayText}}"/\x3e{{linkify this.displayText}}\x3c/div\x3e{{/if}}{{/each}}{{else}}\x3cselect id\x3d"listOptions"\x3e\x3coption id\x3d"" value\x3d"" selected\x3e{{getLanguageBasedTerm "male_or_female"}}\x3c/option\x3e{{#each ticketmsgoptn}}\x3coption id\x3d"joe-select-opsn-{{this.id}}" value\x3d"{{this.displayText}}"\x3e{{this.displayText}}\x3c/option\x3e{{/each}}\x3c/select\x3e{{/if}}{{else ifCond replyContentType "\x3d\x3d" "yes_no"}}\x3cdiv class\x3d\'joe-radio-list-btn\' style\x3d\'text-align:center\'\x3e {{#each ticketmsgoptn}}{{#if this.icnUrl}}\x3cdiv class\x3d\'optionBtn\'\x3e\x3cinput id\x3d\'joe-radio-{{this.id}}\' name\x3d\'listOptions\' type\x3d\'radio\' data-display\x3d\'{{this.displayText}}\' class\x3d\'with-font\' value\x3d\'{{this.id}}\' /\x3e\x3clabel for\x3d\'joe-radio-{{this.id}}\'\x3e\x3cimg src\x3d\'{{this.icnUrl}}\' width\x3d\'25px\' style\x3d\'vertical-align: middle; margin-right: 5px; margin-bottom: 2px;\'/\x3e{{linkify this.displayText}}\x3c/label\x3e\x3c/div\x3e{{else}}\x3cdiv class\x3d\'optionBtn\'\x3e\x3cinput id\x3d\'joe-radio-{{this.id}}\' name\x3d\'listOptions\' type\x3d\'radio\' data-display\x3d\'{{this.displayText}}\' class\x3d\'with-font\' value\x3d\'{{this.id}}\' /\x3e\x3clabel for\x3d\'joe-radio-{{this.id}}\'\x3e{{linkify this.displayText}}\x3c/label\x3e\x3c/div\x3e{{/if}}{{/each}}\x3c/div\x3e {{else ifCond replyContentType "\x3d\x3d" "google_address"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy" fieldType\x3d"address" id\x3d"message-to-send" style\x3d"position:relative;" autocomplete\x3d"off"/\x3e\x3cinput type\x3d"hidden" id\x3d"joe-address"/\x3e\x3cinput type\x3d"hidden" id\x3d"joe-city"/\x3e\x3cinput type\x3d"hidden" id\x3d"joe-state"/\x3e\x3cinput type\x3d"hidden" id\x3d"joe-longitude"/\x3e\x3cinput type\x3d"hidden" id\x3d"joe-latitude"/\x3e\x3cinput type\x3d"hidden" id\x3d"joe-postalCode"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "mobile"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy" placeholder\x3d"{{getLanguageBasedTerm "enter_mobile_number"}}.." fieldType\x3d"phone" id\x3d"message-to-send" maxlength\x3d"10" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "enter_valid_phone_number"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "name"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy" placeholder\x3d"{{getLanguageBasedTerm "enter_your_name_here"}}" id\x3d"message-to-send" maxlength\x3d"40" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "enter_valid_first_name"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "full_name"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy" placeholder\x3d"{{getLanguageBasedTerm "type_your_full_name_hit_enter"}}" id\x3d"message-to-send" maxlength\x3d"40" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "enter_valid_full_name"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "email"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy" placeholder\x3d"{{getLanguageBasedTerm "enter_mail_id"}}" fieldType\x3d"email" id\x3d"message-to-send" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "enter_valid_mail"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "number"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy" placeholder\x3d"{{getLanguageBasedTerm "enter_number"}}.." fieldType\x3d"number" id\x3d"message-to-send" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "enter_valid_number"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "password"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"password" class\x3d"font-1x lt-grsy" placeholder\x3d"{{getLanguageBasedTerm "enter_password"}}.." fieldType\x3d"password" id\x3d"message-to-send" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "new_chat"}}\x3cdiv class\x3d"text-box-wrp text-center"\x3e \x3cbutton class\x3d"joe-new-btn shadow-box btn-color-main" id\x3d"strt-new-chat"\x3e{{getLanguageBasedTerm "start_new_conversation"}}\x3c/button\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "image"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" style\x3d"width:65%;" class\x3d"font-1x lt-grsy inputText" placeholder\x3d"{{getLanguageBasedTerm "type_your_message_here"}}" fieldType\x3d"text" id\x3d"message-to-send" autocomplete\x3d"off"/\x3e\x3cdiv class\x3d"font-3x pull-right joe-img-btn btn-color-main"\x3e\x3cform method\x3d"post" id\x3d"fileinfo" name\x3d"fileinfo"\x3e\x3cinput class\x3d"" style\x3d"z-index:100; width: 100%; height: 100%; position: absolute; padding:0px !important; cursor: pointer; opacity: 0; left: 0px;" name\x3d"file" type\x3d"file" id\x3d"joeImgInp" accept\x3d"image/*"/\x3e\x3c/form\x3e\x3c/div\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "file"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" style\x3d"width:80%;" class\x3d"font-1x lt-grsy inputText" placeholder\x3d"{{getLanguageBasedTerm "type_your_message_here"}}" fieldType\x3d"text" id\x3d"message-to-send" autocomplete\x3d"off"/\x3e\x3cdiv class\x3d"font-3x pull-right joe-file-btn"\x3e\x3cform method\x3d"post" id\x3d"fileupload" name\x3d"fileupload"\x3e\x3ci class\x3d"fa fa-paperclip" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3cinput class\x3d"" style\x3d"font-size:0; z-index:100; width: 100%; display:inline; height: 200%; position: absolute; padding:0px !important; cursor: pointer; opacity: 0; left: 0px; top:-15px" name\x3d"file" type\x3d"file" id\x3d"joeFileInp" accept\x3d"/*"/\x3e\x3c/form\x3e\x3c/div\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3c/div\x3e{{else ifCond replyContentType "\x3d\x3d" "file_and_image"}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" style\x3d"width: calc(100% - 35px); box-sizing: border-box;" class\x3d"font-1x lt-grsy inputText" placeholder\x3d"{{getLanguageBasedTerm "type_your_message_here"}}" fieldType\x3d"text" id\x3d"message-to-send" autocomplete\x3d"off"/\x3e\x3cdiv class\x3d"font-3x pull-right joe-file-btn"\x3e\x3cform method\x3d"post" id\x3d"fileupload" name\x3d"fileupload"\x3e\x3ci class\x3d"fa fa-paperclip" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3cinput class\x3d"" style\x3d"font-size:0; z-index:100; width: 100%; display:inline; height: 200%; position: absolute; padding:0px !important; cursor: pointer; opacity: 0; left: 0px; top:-15px" name\x3d"file" type\x3d"file" id\x3d"joeFileInp" accept\x3d"/*"/\x3e\x3c/form\x3e\x3c/div\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e{{else}}\x3cdiv class\x3d"text-box-wrp"\x3e \x3cinput type\x3d"text" class\x3d"font-1x lt-grsy inputText" placeholder\x3d"{{getLanguageBasedTerm "type_your_message_here"}}" fieldType\x3d"text" id\x3d"message-to-send" maxlength\x3d"'+
a.maxTextareaCharLength+'" autocomplete\x3d"off"/\x3e\x3cbutton class\x3d"pull-right joe-send-btn shadow-box inputText btn-color-main" id\x3d"msg-send-btn"\x3e\x3c/button\x3e\x3cdiv id\x3d"alert-text" class\x3d"hide font-1x"\x3e\x3cspan\x3e{{getLanguageBasedTerm "enter_valid_message"}}\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e{{/ifCond}}{{/ifCond}}{{/unless}}{{/if}}\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"file-upload-prev-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay" id\x3d"joe-chat-body-overlay" style\x3d"text-align: center;"\x3e\x3cdiv style\x3d"width:100%; display:inline-block; vertical-align: middle; height: 100%; overflow: auto;"\x3e\x3cdiv style\x3d"text-align: right; margin-right: 5px;"\x3e\x3cspan id\x3d"joe-overlay-cross-btn" class\x3d"joe-overlay-cross-btn" style\x3d"margin-right: 5px; color:white;"\x3e\x3ci class\x3d"fa fa-times-circle-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cspan class\x3d"joe-helper"\x3e\x3c/span\x3e\x3cdiv class\x3d"text-center joe-end-chat-alert" style\x3d"margin-top:10px; display: inline-block;"\x3e\x3cspan style\x3d"font-weight: bold; font-size: 13px;"\x3e{{fileSrc}}\x3c/span\x3e\x3clable class\x3d"font-2x" style\x3d"display:block;"\x3e{{getLanguageBasedTerm "would_you_want_to_send_this_file"}}\x3c/lable\x3e\x3cbutton id\x3d"joe-chat-send-file-yes" class\x3d"joe-chat-yes-btn"\x3e {{getLanguageBasedTerm "yes"}} \x3c/button\x3e\x3cbutton id\x3d"joe-chat-send-file-no" class\x3d"joe-chat-no-btn"\x3e {{getLanguageBasedTerm "no"}} \x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"img-upload-prev-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"joe-chat-body-overlay" id\x3d"joe-chat-body-overlay" style\x3d"text-align: center;"\x3e\x3cspan class\x3d"joe-helper"\x3e\x3c/span\x3e\x3cdiv style\x3d"width:100%; display:inline-block; vertical-align: middle; height: 100%; overflow: auto;"\x3e\x3cdiv style\x3d"text-align: right; margin-right: 5px;"\x3e\x3cspan id\x3d"joe-overlay-cross-btn" class\x3d"joe-overlay-cross-btn" style\x3d"margin-right: 5px; color:white;"\x3e\x3ci class\x3d"fa fa-times-circle-o" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3cimg src\x3d"{{imgSrc}}" style\x3d"max-width:100%; vertical-align: middle; max-height: 50%;"/\x3e\x3cdiv class\x3d"text-center joe-end-chat-alert" style\x3d"margin-top:10px;"\x3e\x3clable class\x3d"font-2x" style\x3d"display:block;"\x3e{{getLanguageBasedTerm "would_you_really_want_to_send_this_image"}}\x3c/lable\x3e\x3cbutton id\x3d"joe-chat-send-img-yes" class\x3d"joe-chat-yes-btn"\x3e Yes \x3c/button\x3e\x3cbutton id\x3d"joe-chat-send-img-no" class\x3d"joe-chat-no-btn"\x3e No \x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/script\x3e\x3cscript id\x3d"widget-header-template" type\x3d"text/x-handlebars-template"\x3e{{#if headerStngs.shw}}\x3cul id\x3d"widget-header"\x3e{{#if headerStngs.lftIcns}}{{#each (reverse headerStngs.lftIcns)}}\x3cli style\x3d"display:inline-block;{{#unless this.actn}}cursor: default;{{/unless}}"class\x3d"left-joe-icon" data-action\x3d"{{JSON2string this.actn}}"\x3e\x3cspan style\x3d"background-image:url({{this.icnUrl}})" class\x3d"left-icon"\x3e\x3c/span\x3e\x3c/li\x3e{{/each}}{{/if}}{{#if headerStngs.ttl}}\x3cli class\x3d"fbots-chat-header-title"\x3e\x3clabel class\x3d"title-chat"\x3e{{headerStngs.ttl}}\x3c/label\x3e\x3c/li\x3e{{/if}}\x3cli class\x3d"pull-right joe-icon" style\x3d"display:inline-block; width:14px;"\x3e\x3c/li\x3e{{#if headerStngs.rghtIcns}}{{#each (reverse headerStngs.rghtIcns)}}{{#ifCond this.typ "\x3d\x3d\x3d" "MENU"}}{{#if this.icns}}\x3cli class\x3d"pull-right joe-icon joe-menu-btn" style\x3d"overflow: visible;" title\x3d"{{this.ttl}}" data-action\x3d"{}"\x3e\x3cspan style\x3d"background-image:url({{this.icnUrl}})"\x3e\x3c/span\x3e\x3cdiv class\x3d"Slsh-list-items" id\x3d"joe-menu-dropdown" style\x3d"background: transparent; margin-left:0px; height: auto; overflow-y:visible; top:42px; right:16px; z-index: 1000; display: none; width:auto; "\x3e\x3cul class\x3d"font-1x joe-shadow joe-menu-list-items" style\x3d"margin-left:10px;display:inline-block;min-width: 150px;max-width: 250px;text-align: left;border-radius: 3px;padding:5px 0px;position: relative;background-color: white;box-shadow: 0 0 13px 0 rgba(0, 0, 0, 0.19) !important;"\x3e{{#each this.icns}}\x3cli class\x3d"menu-joe-icon" style\x3d"border-top: none;padding: 5px 10px!important;font-size: 14px !important;" data-action\x3d"{{JSON2string this.actn}}"\x3e{{this.ttl}}\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/li\x3e{{/if}}{{else ifCond this.typ "\x3d\x3d\x3d" "NORMAL"}}\x3cli class\x3d"pull-right joe-icon" title\x3d"{{this.ttl}}" {{#unless this.actn}}style\x3d"cursor: default;"{{/unless}} data-action\x3d"{{JSON2string this.actn}}"\x3e\x3cspan style\x3d"background-image:url({{this.icnUrl}})"\x3e\x3c/span\x3e\x3c/li\x3e{{/ifCond}}{{/each}}{{/if}}\x3cli style\x3d"padding-bottom: 20px !important; padding-top: 0 !important;"\x3e{{#if headerStngs.sbTtl}}\x3clabel class\x3d"title-chat"\x3e{{headerStngs.sbTtl}}\x3c/label\x3e{{/if}}\x3c/li\x3e\x3c/ul\x3e{{/if}}\x3c/script\x3e\x3cscript id\x3d"widget-menu-template" type\x3d"text/x-handlebars-template"\x3e\x3cdiv class\x3d"Slsh-list-items" id\x3d"joe-menu-dropdown" style\x3d"background: transparent; margin-left:0px; height: auto; overflow-y:visible; top:42px; right:16px; z-index: 1000; display: none; width:auto; "\x3e\x3cul class\x3d"font-1x joe-shadow joe-menu-list-items" style\x3d"margin-left:10px;display:inline-block;min-width: 150px;max-width: 250px;text-align: left;border-radius: 3px;padding:5px 0px;position: relative;background-color: white;box-shadow: 0 0 13px 0 rgba(0, 0, 0, 0.19) !important;"\x3e{{#each menuIcns}}\x3cli class\x3d"menu-joe-icon" style\x3d"border-top: none;padding: 5px 10px!important;font-size: 14px !important;" data-action\x3d"{{JSON2string this.actn}}"\x3e{{this.ttl}}\x3c/li\x3e{{/each}}\x3c/ul\x3e\x3c/div\x3e\x3c/script\x3e');
b("body").append(c);return{Template:{agentMessage:a.Handlebars.compile(b("#message-response-template").html()),customerMessage:a.Handlebars.compile(b("#message-template").html()),groupTemplate:a.Handlebars.compile(b("#joe-message-group-template").html()),endChatConfirmation:a.Handlebars.compile(b("#end-chat-confirmation-template").html()),trimMessageConfirmation:a.Handlebars.compile(b("#trim-message-confirmation-template").html()),inputSection:a.Handlebars.compile(b("#agent-msg-submit-template").html()),
rateTemplate:a.Handlebars.compile(b("#chat-rate-template").html()),dateTemplate:a.Handlebars.compile(b("#message-date-template").html()),newMessageTemplate:a.Handlebars.compile(b("#new-message-template").html()),quickReplyInputTemplate:a.Handlebars.compile(b("#quick-reply-input-template").html()),fullBodyInput:a.Handlebars.compile(b("#full-body-input-template").html()),headerMenuListItems:a.Handlebars.compile(b("#header-menu-list-template").html()),faqFullCard:a.Handlebars.compile(b("#faq-item-full-template").html()),
headerMenuIcons:a.Handlebars.compile(b("#header-menu-icons-template").html()),slshCmndsListItems:a.Handlebars.compile(b("#Slsh-Cmnds-List-Items-template").html()),botsListItems:a.Handlebars.compile(b("#Bots-List-Items-template").html()),fullImgFullView:a.Handlebars.compile(b("#full-img-fullview-template").html()),fullImageMobView:a.Handlebars.compile(b("#full-img-mobview-template").html()),imgUploadPrev:a.Handlebars.compile(b("#img-upload-prev-template").html()),fileUploadPrev:a.Handlebars.compile(b("#file-upload-prev-template").html()),
widgetHeader:a.Handlebars.compile(b("#widget-header-template").html()),widgetMenu:a.Handlebars.compile(b("#widget-menu-template").html()),popupMessage:a.Handlebars.compile(b("#popup-message-template").html())}}}()});a.getCssFile(ua+"/assets/share/css/combined.min.css?v\x3d0.26",!1,function(){a.Object.isNotNull(a.chatInstance)&&ma.setChatHistoryHeight()});history.onpushstate=function(b){b&&(ka=b.url?"/"+b.url:b.state&&b.state.Url?"/"+b.state.Url:"/",Z=d.location.origin+ka,a.historyActionEnable&&(b&&
b.state&&void 0!==b.state.turbolinks||Ma()))};d.onpopstate=function(b){ka=c.location.pathname;a.historyActionEnable&&ma.isUrlChange()&&(b&&b.state&&void 0!==b.state.turbolinks||Ma())};(function(a){var b=a.pushState;a.pushState=function(c,d,e){if("function"===typeof a.onpushstate){var f=e;c&&c.turbolinks&&"object"===typeof f&&f.requestURL&&(f=f.requestURL);f&&f.startsWith(location.origin)&&(f=f.replace(location.origin+"/",""));a.onpushstate({state:c,title:d,url:f})}return b.apply(a,arguments)}})(d.history);
(function(){a.Handlebars.registerHelper("ifCond",function(a,b,c,d){switch(b){case "\x3d\x3d":return a==c?d.fn(this):d.inverse(this);case "!\x3d":return a!=c?d.fn(this):d.inverse(this);case "\x3d\x3d\x3d":return a===c?d.fn(this):d.inverse(this);case "\x3c":return a<c?d.fn(this):d.inverse(this);case "\x3c\x3d":return a<=c?d.fn(this):d.inverse(this);case "\x3e":return a>c?d.fn(this):d.inverse(this);case "\x3e\x3d":return a>=c?d.fn(this):d.inverse(this);case "\x26\x26":return a&&c?d.fn(this):d.inverse(this);
case "||":return a||c?d.fn(this):d.inverse(this);default:return d.inverse(this)}});a.Handlebars.registerHelper("math",function(a,b,c,d){a=parseFloat(a);c=parseFloat(c);return{"+":a+c,"-":a-c,"*":a*c,"/":a/c,"%":a%c}[b]});a.Handlebars.registerHelper("linkify",function(b){b&&(b=b.replace(/^@(\w+)/gi,function(a){return'\x3cspan style\x3d"color:#007ab8;"\x3e'+a+"\x3c/span\x3e"}),0>b.indexOf("\x3c/a\x3e")&&(b=b.replace(/(?!(<((?!>).)*))((?:(http|https|Http|Https|rtsp|Rtsp):\/\/(?:(?:[a-zA-Z0-9\$\-\_\.\+\!\*\'\(\)\,\;\?\&\=]|(?:\%[a-fA-F0-9]{2})){1,64}(?:\:(?:[a-zA-Z0-9\$\-\_\.\+\!\*\'\(\)\,\;\?\&\=]|(?:\%[a-fA-F0-9]{2})){1,25})?\@)?)?((?:(?:[a-zA-Z0-9][a-zA-Z0-9\-]{0,64}\.)+(?:(?:aero|arpa|asia|a[cdefgilmnoqrstuwxz])|(?:biz|b[abdefghijmnorstvwyz])|(?:cat|com|coop|c[acdfghiklmnoruvxyz])|d[ejkmoz]|(?:edu|e[cegrstu])|f[ijkmor]|(?:gov|g[abdefghilmnpqrstuwy])|h[kmnrtu]|(?:info|int|i[delmnoqrst])|(?:jobs|j[emop])|k[eghimnrwyz]|l[abcikrstuvy]|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])|(?:name|net|n[acefgilopruz])|(?:org|om)|(?:pro|p[aefghklmnrstwy])|qa|r[eouw]|s[abcdeghijklmnortuvyz]|(?:tel|travel|t[cdfghjklmnoprtvwz])|u[agkmsyz]|v[aceginu]|w[fs]|y[etu]|z[amw]))|(?:(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9])))(?:\:\d{1,5})?)(\/(?:(?:[a-zA-Z0-9\;\/\?\:\@\&\=\#\~\-\.\+\!\*\'\(\)\,\_])|(?:\%[a-fA-F0-9]{2}))*)?(?:\b|$)(?!(((?!<).)*>))/gi,
function(a){return 5<a.length?/^(http|https):\/\//i.test(a)?'\x3ca rel\x3d"noreferrer" target\x3d"_blank" href\x3d"'+a+'"\x3e'+a+"\x3c/a\x3e":'\x3ca rel\x3d"noreferrer" target\x3d"_blank" href\x3d"//'+a+'"\x3e'+a+"\x3c/a\x3e":a})));return new a.Handlebars.SafeString(b)});a.Handlebars.registerHelper("times",function(a,b){for(var c="",d=1;d<a+1;++d)c+=b.fn(d);return c});a.Handlebars.registerHelper("reverse",function(a){return a.reverse()});a.Handlebars.registerHelper("JSON2string",function(a){return JSON.stringify(a)});
a.Handlebars.registerHelper("strip-html",function(a){if(null==a)return"";var b=c.createElement("DIV");b.innerHTML=a;return b.textContent||b.innerText||""});a.Handlebars.registerHelper("formatDate",function(a){return"undefined"==typeof a?"Unknown":(new Date(a)).getDate()});a.Handlebars.registerHelper("formatMonth",function(a){return"undefined"==typeof a?"Unknown":(new Date(a)).getMonth()});a.Handlebars.registerHelper("formatYear",function(a){return"undefined"==typeof a?"Unknown":(new Date(a)).getFullYear()});
a.Handlebars.registerHelper("trimString",function(b,c,d){return b.length>d?(b=b.substring(c,d),new a.Handlebars.SafeString(b+"...")):new a.Handlebars.SafeString(b)});a.Handlebars.registerHelper("getLanguageBasedTerm",function(a){return ba[a]})})();var ma=function(){return{setup:function(){var c='\x3cdiv class\x3d"chat-container shadow-box joe-hide"\x3e\x3cdiv class\x3d"chat-header lg-header bg-header color-white font-2x joe-box"\x3e\x3cspan id\x3d\'unread-ctr\' class\x3d\'fa-stack fa-1x\'\x3e\x3ci class\x3d\'fa fa-comment fa-stack-2x\'\x3e\x3c/i\x3e \x3cstrong class\x3d\'fa-stack-1x fa-stack-text fa-inverse\'\x3e\x3c/strong\x3e\x3c/span\x3e\x3cdiv class\x3d"" id\x3d"min"\x3e\x3c/div\x3e\x3ci class\x3d"fa fa-comments fa-1x"\x3e\x3c/i\x3e '+
a.chatInstance.headerText+' \x3cspan id\x3d"o-c-icons"\x3e\x3ci class\x3d"fa fa-minus pull-right"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"mobile-chat-container shadow-box joe-animated joe-slideInUp joe-hide" id\x3d"mobile-chat-container"\x3e\x3cdiv class\x3d"joe-msg-bubble-container joe-hide" style\x3d"position:absolute;z-index: 10000; width:100%; right:0; bottom:100%;"\x3e\x3cdiv style\x3d"display:block; padding: 15px; font-size: 12px; text-align:right;"\x3e\x3cdiv class\x3d"joe-msg-hovertext"\x3e\x3cspan class\x3d"msg-bubble-btnclose" style\x3d"position: absolute; right:0px; top:0px;"\x3e\x3ci class\x3d"fa fa-times-circle" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv style\x3d"position:relative; font-family: inherit; font-size:inherit;"\x3e\x3cspan id\x3d"joe-bubble-unread" class\x3d"joe-hide shadow-box"\x3e\x3c/span\x3e\x3ci class\x3d\'fa fa-comments\'\x3e\x3c/i\x3e\x3c/div\x3e\x3c/div\x3e',
d='\x3ca href\x3d"'+a.chatInstance.messengerBubbleLink+'" target\x3d"_blank"\x3e\x3cdiv class\x3d"mobile-chat-container joe-fb-messenger" style\x3d"background-color: transparent;" id\x3d"mobile-chat-container"\x3e\x3cdiv class\x3d"joe-msg-bubble-container joe-hide" style\x3d"position:absolute;z-index: 10000; width:100%; right:0; bottom:100%;"\x3e\x3cdiv style\x3d"display:block; padding: 15px; font-size: 12px; text-align:right;"\x3e\x3cdiv class\x3d"joe-msg-hovertext"\x3e\x3cspan class\x3d"msg-bubble-btnclose" style\x3d"position: absolute; right:0px; top:0px;"\x3e\x3ci class\x3d"fa fa-times-circle" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/a\x3e';
a.chatInstance.chatContainerBasicHtml='\x3cdiv class\x3d"chat-container shadow-box"\x3e\x3cdiv class\x3d"joe-msg-bubble-container joe-hide" style\x3d"position:absolute;z-index: 10000; width:100%; right:0; bottom:100%; cursor: pointer;"\x3e\x3cdiv style\x3d"display:block; padding: 15px; font-size: 12px; text-align:right;"\x3e\x3cdiv class\x3d"joe-msg-hovertext"\x3e\x3cspan class\x3d"msg-bubble-btnclose" style\x3d"position: absolute; right:0px; top:0px;"\x3e\x3ci class\x3d"fa fa-times-circle" aria-hidden\x3d"true"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"chat-header lg-header bg-header color-white font-2x joe-box"\x3e\x3cspan id\x3d\'unread-ctr\' class\x3d\'fa-stack fa-1x\'\x3e\x3ci class\x3d\'fa fa-comment fa-stack-2x\'\x3e\x3c/i\x3e \x3cstrong class\x3d\'fa-stack-1x fa-stack-text fa-inverse\'\x3e\x3c/strong\x3e\x3c/span\x3e\x3cul id\x3d"widget-header"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"chat-body" style\x3d"display:none;"\x3e\x3cdiv class\x3d"joe-chat-icon-header shadow-box" id\x3d"joe-chat-icon-header"\x3e\x3cul\x3e\x3c/div\x3e\x3cdiv class\x3d"joe-chat-body-overlay joe-hide" id\x3d"joe-chat-body-overlay"\x3e\x3c/div\x3e\x3cdiv class\x3d"chat-history"\x3e\x3cul class\x3d"joe-message-list"\x3e\x3c/ul\x3e\x3c/div\x3e\x3cdiv class\x3d"chat-footer" style\x3d"visibility: hidden;"\x3e\x3cdiv class\x3d"qck-rply-div"\x3e\x3c/div\x3e\x3cdiv class\x3d"" style\x3d"display: none; width:8%; text-align: center; vertical-align: bottom;"\x3e\x3c/div\x3e\x3cdiv class\x3d"fbots-chat-footer-main" id\x3d"agent-msg-submit"\x3e\x3cdiv class\x3d"text-box-wrp"\x3e \x3c/div\x3e\x3c/div\x3e'+
(a.chatInstance.uiSettings.rmvJoeBrndng?"":'\x3cdiv class\x3d"title-tag '+(J?"in":"")+'" style\x3d"display: block !important;"\x3e\x3ca href\x3d"https://www.freshworks.com/freddy-bot-builder/" target\x3d"_blank" style\x3d"display:inline-block !important;"\x3e\x3cspan class\x3d"lt-grsy" style\x3d"display:inline-block !important;" charset\x3d\x3e'+ba.powered+" "+ba.by+' \x3c/span style\x3d"display:inline-block !important;"\x3e '+ba.freshworks+"\x3c/a\x3e\x3c/div\x3e")+"\x3c/div\x3e\x3c/div\x3e";this.appendStyleInHead(a.chatInstance.uiThemeCss);
a.chatInstance.widgetFullScreen&&this.appendStyleInHead(".chat-container { right:0px !important; bottom: 0px !important; max-height: 100% !important;border-radius: 0px !important;} .chat-container .chat-footer, .chat-container .chat-header {border-radius: 0px !important;}");if("embedded"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||"embedded"==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())d=".chat-container { position: absolute !important; left:0px !important; top:0 !important; width:100% !important; display:block !important; box-shadow: none !important; border:none !important } .chat-container .chat-body{ display: block !important; } .chat-container #o-c-icons, .chat-container #unread-ctr{ display: none !important; }",
a.chatInstance.uiSettings.showChatHeader||(d+=".chat-container .chat-header{ display: none !important; }"),this.appendStyleInHead(d),b(a.chatInstance.uiSettings.chatParentSelector).css("position","relative"),b(a.chatInstance.uiSettings.chatParentSelector).html(c);else{if(a.chatInstance.uiSettings.showMessengerBubble){b("body").append(d);b(".joe-fb-messenger").css("bottom",a.chatInstance.uiSettings.initHeightFromBottom+"px");a.chatInstance.headerText&&(c={response:a.chatInstance.headerText,publicNote:!0},
b(a.chatInstance.selectors.joeMsgBubbleContainer).replaceWith(a.HandlebarsHtml.Template.popupMessage(c)),b(".joe-fb-messenger .joe-msg-bubble-container").css("bottom","85%"),b(a.chatInstance.selectors.joeMsgBubbleContainer).css("width","150px"));this.movableMobileContainerBindEvent();return}b("body").append(c)}this.bindWindowEvents();this.bindDocumentEvents();a.RealTimeConnection.realtimeConnectOnInit&&!a.RealTimeConnection.isRealTimeConnectionPresent()?this.initiateRealTimeConnection(this.createSessionIfNeededAndShowWidget):
this.createSessionIfNeededAndShowWidget();a.chatInstance.timestampUpdateTimeIntervalId=setInterval(function(){b(a.chatInstance.selectors.msgTimeElementWithRelativeTime).each(function(){b(this).text(a.Date.getDateString(b(this).attr(a.chatInstance.dataAttributes.msgTimestamp),a.chatInstance.dateFormat,a.chatInstance.timeFormat))})},a.chatInstance.timestampUpdateTimeIntervalPeriod)},addWidgetHeader:function(c){c={headerStngs:c};b("#widget-header").replaceWith(a.HandlebarsHtml.Template.widgetHeader(c))},
addWidgetMenu:function(c){c&&(c={menuIcns:c.icns},b("#joe-menu-dropdown").replaceWith(a.HandlebarsHtml.Template.widgetMenu(c)))},refreshChatHistory:function(){b(a.chatInstance.selectors.chatContainer)&&(b(a.chatInstance.selectors.joeChatBodyOverlay).removeClass("joe-hide"),b(a.chatInstance.selectors.joeChatBodyOverlay).append('\x3cdiv class\x3d"joe-loader joe-full"\x3e\x3c/div\x3e'),ma.loadMorePreviousMsg())},initiateRealTimeConnection:function(b){var c=this;if(a.RealTimeConnection.pusher.active){a.Log.logMessage("pusher is active... connecting",
!0);a.RealTimeConnection.pusher.instance=a.RealTimeConnection.pusher.clusterCode&&""!==a.RealTimeConnection.pusher.clusterCode?new Pusher(a.RealTimeConnection.pusher.apiKey,{cluster:a.RealTimeConnection.pusher.clusterCode}):new Pusher(a.RealTimeConnection.pusher.apiKey);var d=a.RealTimeConnection.pusher.instance.subscribe(a.chatInstance.customerHash);d.bind("pusher:subscription_succeeded",function(){a.Log.logMessage("pusher subscription succeeded");return b.apply(c)});d.bind("MessageOnTicket",function(a){return c.onRealTimeMessageReceive.apply(c,
[a])});d.bind("Typing",function(a){c.onTypingMessageReceive.apply(c,[a])});d.bind("ticketOnChannelSession",function(b){W==b.chnlSnId&&(a.chatInstance.currConversation=b.cnvrstnHsh)})}else a.RealTimeConnection.rts.active&&(a.Log.logMessage("rts is active... connecting"),a.RealTimeConnection.rts.instance=new RTS({accId:a.RealTimeConnection.rts.accountId,userId:a.chatInstance.customerHash,origin:a.RealTimeConnection.rts.endpoint,onConnect:function(){a.Log.logMessage("subscribing to rts "+a.chatInstance.customerHash+
". token is "+a.RealTimeConnection.rts.jwt,!0);a.RealTimeConnection.rts.instance.subscribe(a.chatInstance.customerHash,function(a){c.handleRtsMessage(a)},function(a,d){c.handleRtsSubscription(a,d,b)})},onReconnect:function(){a.Log.logMessage("reconnected to rts")},onDisconnect:function(){a.RealTimeConnection.rts.connected=!1;a.Log.logMessage("disconnected from rts")},token:a.RealTimeConnection.rts.jwt}))},handleRtsMessage:function(b){a.Log.logMessage("RTS data Received function "+JSON.stringify(b),
!0);var c=b.event;if(c&&"send"==c.toLowerCase())switch(c=JSON.parse(b.msg),c.joeEvent){case "MessageOnTicket":this.onRealTimeMessageReceive.apply(this,[c]);break;case "Typing":this.onTypingMessageReceive.apply(this,[b]);break;case "ticketOnChannelSession":W==c.chnlSnId&&(a.chatInstance.currConversation=c.cnvrstnHsh);break;default:console.log("Not able to find event type;")}},handleRtsSubscription:function(b,c,d){b&&console.log("error on subscribing "+b);if(c&&1===c.status)return a.Log.logMessage("rts subscription succeeded"),
a.RealTimeConnection.rts.connected=!0,d.apply(this)},appendStyleInHead:function(a){var b=c.head||c.getElementsByTagName("head")[0],d=c.createElement("style");d.type="text/css";d.className="fbots-style";d.styleSheet?d.styleSheet.cssText=a:d.appendChild(c.createTextNode(a));b.appendChild(d)},appendToBeProcessedTextMessageToChatHistory:function(c){var d=this,e=b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").attr("author");c.refTmHash&&""!==c.refTmHash||(c.refTmHash=a.chatInstance.latestAgentMessageHash);
b(".joe-typing").remove();a.chatInstance.cacheMessage="";d.scrollToBottom();if(a.Validation.validationEvent(b(a.chatInstance.selectors.inputSection))||c.skipValidation)b(a.chatInstance.selectors.alertTextFooterInput).addClass("hide");else return b(a.chatInstance.selectors.alertTextFooterInput).removeClass("hide"),null;b(a.chatInstance.selectors.inputSectionParent).find("select, input, .optionBtn, button, .selectize-control, .text-center, .joe-radio-list-btn, .joe-quickReplyList").css("visibility",
"hidden");b(a.chatInstance.selectors.inputSectionParent).find("input[type\x3d'file']").css("visibility","visible");b(a.chatInstance.selectors.inputSectionParent).find(".inputText").css("visibility","visible");0>=b(a.chatInstance.selectors.inputSectionParent).find(".inputText").length&&b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").removeClass("hide");c.displayText||(c.displayText=c.messageToSend);c.displayText=d.htmlToString(c.displayText);c.hash=a.String.getHash(c.displayText+
(new Date).getTime());c.createDateTimeStamp=(new Date).getTime();c.dateString=a.Date.getDateString(c.createDateTimeStamp,a.chatInstance.dateFormat,a.chatInstance.timeFormat);c.timestampType="absolute";a.Date.isDateStringRelative(c.dateString)&&(c.timestampType="relative");(""==e||"customer"!==e||d.messageTimediff(parseInt(c.createDateTimeStamp),!0))&&b(a.chatInstance.selectors.chatHistoryList).append(a.HandlebarsHtml.Template.groupTemplate({publicNote:!0,author:"customer"}));e={messageOutput:c.displayText,
timestampType:c.timestampType,time:c.dateString,crtDtTmstmp:c.createDateTimeStamp,publicNote:!0,ticketMessageHash:"",hash:c.hash};b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").append(a.HandlebarsHtml.Template.customerMessage(e));1<=b(a.chatInstance.selectors.chatHistoryList).find(".my-message").length&&(b(".chat-container .chat-header.lg-header").removeClass("lg-header"),setTimeout(function(){d.setChatHistoryHeight();d.scrollToBottom()},150));d.scrollToBottom();b(a.chatInstance.selectors.messageTextarea).val("");
return c},appendToBeProcessedFileMessageToChatHistory:function(c){var d=this,e=b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").attr("author");c.refTmHash&&""!==c.refTmHash||(c.refTmHash=a.chatInstance.latestAgentMessageHash);var f=new FileReader;c.hash=a.String.getHash(c.input.files[0]+(new Date).getTime());c.createDateTimeStamp=(new Date).getTime();c.dateString=a.Date.getDateString(c.createDateTimeStamp,a.chatInstance.dateFormat,a.chatInstance.timeFormat);c.timestampType=
"absolute";a.Date.isDateStringRelative(c.dateString)&&(c.timestampType="relative");(""==e||"customer"!==e||d.messageTimediff(parseInt(c.createDateTimeStamp),!0))&&b(a.chatInstance.selectors.chatHistoryList).append(a.HandlebarsHtml.Template.groupTemplate({publicNote:!0,author:"customer"}));f.onload=function(e){var f;c.type===a.chatInstance.message.type.image?f={messageOutput:e.target.result,timestampType:c.timestampType,time:c.dateString,crtDtTmstmp:c.createDateTimeStamp,publicNote:!0,ticketMessageHash:"",
hash:c.hash,msgCntntTyp:"img"}:c.type===a.chatInstance.message.type.file&&(f={messageOutput:"",timestampType:c.timestampType,time:c.dateString,crtDtTmstmp:c.createDateTimeStamp,publicNote:!0,ticketMessageHash:"",hash:c.hash,msgCntntTyp:"loader"});b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").append(a.HandlebarsHtml.Template.customerMessage(f));d.scrollToBottom()};f.readAsDataURL(c.input.files[0]);return c},createConnectionIfNeededAndSendMessage:function(c){if(this.validateXssError(c.messageToSend)){if(c.type===
a.chatInstance.message.type.text){if(!c.messageToSend||""===c.messageToSend.trim())return!1;if(c.messageToSend.length>a.maxTextareaCharLength)return this.trimMsgAlert(),!1}else if(c.type===a.chatInstance.message.type.image||c.type===a.chatInstance.message.type.file)if(!c.input.files||!c.input.files[0])return!1;c.type===a.chatInstance.message.type.text?c=this.appendToBeProcessedTextMessageToChatHistory(c):c.type===a.chatInstance.message.type.image||c.type===a.chatInstance.message.type.file?c=this.appendToBeProcessedFileMessageToChatHistory(c):
c.type===a.chatInstance.message.type["private"]?c.refTmHash&&""!==c.refTmHash||(c.refTmHash=a.chatInstance.latestAgentMessageHash):c.feedback===a.chatInstance.message.type.feedback?c.refTmHash&&""!==c.refTmHash||(c.refTmHash=a.chatInstance.latestAgentMessageHash):c.feedbackTmo!==a.chatInstance.message.type.feedbackTmo||c.refTmHash&&""!==c.refTmHash||(c.refTmHash=a.chatInstance.latestAgentMessageHash);if(!c)return!1;a.chatInstance.pendingMessageQueue.push(c);a.RealTimeConnection.isRealTimeConnectionPresent()?
this.processPendingMessageQueue():this.initiateRealTimeConnection(this.processPendingMessageQueue)}else b(a.chatInstance.selectors.alertTextFooterInput).removeClass("hide")},processPendingMessageQueue:function(){if(a.RealTimeConnection.pusher.active&&a.RealTimeConnection.pusher.instance.connection.state===a.RealTimeConnection.pusher.connectedState||a.RealTimeConnection.rts.active&&a.RealTimeConnection.rts.connected)for(var b;0<a.chatInstance.pendingMessageQueue.length;)b=a.chatInstance.pendingMessageQueue[0],
b.type===a.chatInstance.message.type.text?this.sendMessage(b.messageToSend,b.displayText,b.hash,b.refTmHash,b.contentType):b.type===a.chatInstance.message.type.file?this.addFile(b.input,b.hash,b.refTmHash):b.type===a.chatInstance.message.type.image?this.addImage(b.input,b.hash,b.refTmHash):b.type===a.chatInstance.message.type["private"]?this.sendPrivateMessage(b.messageToSend,b.refTmHash):b.type===a.chatInstance.message.type.feedback?this.sendMsgFeedback(b.customerHash,b.refTmhash,b.answr,b.enty,
b.tcktMsgOptnId,b.inputRef):b.type===a.chatInstance.message.type.feedbackTmo&&this.sendMsgTmoFeedback(b.customerHash,b.refTmhash,b.answr,b.enty,b.tcktMsgOptnId,b.inputRef),a.chatInstance.pendingMessageQueue.splice(0,1)},sendPrivateMessage:function(c,d){var e=null,f=b("div.joe-message.other-message:last");if(null!==f&&0<f.length&&""!==f.attr("data-node-id")){var e=f.attr("data-node-id"),h=null;""!==f.attr("data-node-intent")&&(h=f.attr("data-node-intent"))}var k=function(b){a.chatInstance.isButtonEnabled=
!0;console.log("Message send failed - ["+JSON.stringify(b)+"]")};a.RemoteCall.postMessageToServer(a.chatInstance.customerHash,c,d,null,!0,e,h,null,function(b){a.chatInstance.isButtonEnabled=!0},function(b){b&&b.status&&401==b.status?a.RemoteCall.postMessageToServer(a.chatInstance.customerHash,c,d,null,!0,e,h,null,function(b){a.chatInstance.isButtonEnabled=!0},function(a){k(a)}):k(b)})},sendMessage:function(c,d,e,f,h){var k=this,l=null;d=b("div.joe-message.other-message:last");if(null!=d&&0<d.length&&
""!=d.attr("data-node-id")){var l=d.attr("data-node-id"),m=null;""!=d.attr("data-node-intent")&&(m=d.attr("data-node-intent"))}var n=function(c){a.chatInstance.isButtonEnabled=!0;c.error?(b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+e+'"]').find(a.chatInstance.selectors.msgStatus).html(a.chatInstance.customTemplate.errorMessageIcon),b(a.chatInstance.selectors.inputSectionParent).find("select, input, .optionBtn, button, .selectize-control, .text-center, .joe-radio-list-btn, .joe-quickReplyList").css("visibility",
"visible"),b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").addClass("hide"),console.log("Message send failed - ["+JSON.stringify(c.msgs)+"]")):(c=c.data,k.onTextMessageSendSuccess(e,c.ticketMessage.tcktMsgHsh),1>b(a.chatInstance.selectors.chatHistoryList).find("."+c.ticket.ticketHash).length&&b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+e+'"]').parent("li").before("\x3chr class\x3d'"+c.ticket.ticketHash+"'/\x3e"))},p=function(c){a.chatInstance.isButtonEnabled=
!0;b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+e+'"]').find(a.chatInstance.selectors.msgStatus).html(a.chatInstance.customTemplate.errorMessageIcon);b(a.chatInstance.selectors.inputSectionParent).find("select, input, .optionBtn, button, .selectize-control, .text-center, .joe-radio-list-btn, .joe-quickReplyList").css("visibility","visible");b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").addClass("hide");console.log("Message send failed - ["+JSON.stringify(c)+
"]")};a.RemoteCall.postMessageToServer(a.chatInstance.customerHash,c,f,e,!1,l,m,h,function(a){n(a)},function(b){b&&b.status&&401==b.status?a.RemoteCall.postMessageToServer(a.chatInstance.customerHash,c,f,e,!1,l,m,h,function(a){n(a)},function(a){p(a)}):p(b)})},onTextMessageSendSuccess:function(c,d){var e=b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+c+'"]');e.find(".msg-status").html(ba.delivered+"\x26nbsp;\x26nbsp;");e.attr("ticketMessageHash",d)},addImage:function(c,d,e){var f=
this,h=function(c){var e=b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+d+'"]');c.error?(e.find(a.chatInstance.selectors.msgStatus).html(a.chatInstance.customTemplate.errorMessageIcon),console.log("Message send failed - ["+c.error.msg+"]")):(c=c.data,f.onTextMessageSendSuccess(d,c.ticketMessage.tcktMsgHsh),1>b(a.chatInstance.selectors.chatHistoryList).find("."+c.ticket.ticketHash).length&&b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+d+'"]').parent("li").before("\x3chr class\x3d'"+
c.ticket.ticketHash+"'/\x3e"))},k=function(c){b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+d+'"]').find(a.chatInstance.selectors.msgStatus).html(a.chatInstance.customTemplate.errorMessageIcon);console.log("Error while inactivity call response: "+c)};a.RemoteCall.sendFileMessage(a.chatInstance.customerHash,"fileinfo",d,e,function(a){h(a)},function(b){b&&b.status&&401==b.status?a.RemoteCall.sendFileMessage(a.chatInstance.customerHash,"fileinfo",d,e,function(a){h(a)},function(a){k(a)}):
k(b)});b("#joeImgInp").val("")},addFile:function(d,e,f){var h=this,k=function(d){var g=b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+e+'"]');if(d.excp)g.find(a.chatInstance.selectors.msgStatus).html(a.chatInstance.customTemplate.errorMessageIcon),g.find(".file_loader").html("\x3cdiv class\x3d'broken_file'\x3e\x3c/div\x3e"),h.scrollToBottom(),console.log("Message send failed - ["+JSON.stringify(d.msgs)+"]");else{d=d.data;g.find(".loader-text").replaceWith(d.ticketMessage.message);
var f=d.ticketMessage.crtDtTmstmp,k=a.Date.getDateString(f,a.chatInstance.dateFormat,a.chatInstance.timeFormat),l="absolute";a.Date.isDateStringRelative(k)&&(l="relative");f={messageOutput:d.ticketMessage.message,timestampType:l,time:k,crtDtTmstmp:f,publicNote:!0,ticketMessageHash:"",hash:e,msgCntntTyp:d.ticketMessage.messageContentType};b(g).parent("li.joe-clearfix").replaceWith(a.HandlebarsHtml.Template.customerMessage(f));h.onTextMessageSendSuccess(e,d.ticketMessage.tcktMsgHsh);1>b(a.chatInstance.selectors.chatHistoryList).find("."+
d.ticket.ticketHash).length&&b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+e+'"]').parent("li").before("\x3chr class\x3d'"+d.ticket.ticketHash+"'/\x3e");var m=setInterval(function(){var a=c.getElementsByClassName("img-file").length;0<a&&(c.getElementsByClassName("img-file")[a-1].complete?(h.scrollToBottom(),clearInterval(m)):h.scrollToBottom())},300)}},l=function(c){var d=b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+e+'"]');d.find(a.chatInstance.selectors.msgStatus).html(a.chatInstance.customTemplate.errorMessageIcon);
d.find(".file_loader").html("\x3cdiv class\x3d'broken_file'\x3e\x3c/div\x3e");h.scrollToBottom();console.log("Error while inactivity call response: "+c)};a.RemoteCall.sendFileMessage(a.chatInstance.customerHash,"fileupload",e,f,function(a){k(a)},function(b){b&&b.status&&401==b.status?a.RemoteCall.sendFileMessage(a.chatInstance.customerHash,"fileupload",e,f,function(a){k(a)},function(a){l(a)}):l(b)});b("#joeFileInp").val("")},addMessage:function(){var c,d;if(b(a.chatInstance.selectors.googlePacContainer).hasClass("joe-pac"))return!1;
"date"==b(a.chatInstance.selectors.messageSendButton).attr("fieldType")?c=b(a.chatInstance.selectors.dateSelect).val()+" "+b(a.chatInstance.selectors.monthSelect).val()+" "+b(a.chatInstance.selectors.yearSelect).val():"time"==b(a.chatInstance.selectors.messageSendButton).attr("fieldType")?c=b(a.chatInstance.selectors.hourSelect).val()+":"+b(a.chatInstance.selectors.minuteSelect).val()+":00":("password"==b(a.chatInstance.selectors.messageTextarea).attr("fieldType")&&(d="************"),c=b(a.chatInstance.selectors.messageTextarea).val());
"/closeChat"==c?this.endChatAlert():this.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:c,displayText:d})},addMessageOnListClick:function(c,d){b(a.chatInstance.selectors.messageTextarea).val("");this.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:c,displayText:d})},addMessageOnRadioClick:function(b){this.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:b})},sendMenuItem:function(c){b(a.chatInstance.selectors.messageTextarea).val("");
this.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:c})},endChatAlert:function(){b(a.chatInstance.selectors.joeChatBodyOverlay).replaceWith(a.HandlebarsHtml.Template.endChatConfirmation({}))},endChat:function(){var c=this;a.RemoteCall.closeChat(a.chatInstance.customerHash,function(d){if(d.excp)console.log("Message send failed - ["+JSON.stringify(d.msgs)+"]"),b(a.chatInstance.selectors.joeChatBodyOverlay).find(".joe-end-chat-alert *").css("display","block"),
b(a.chatInstance.selectors.joeChatBodyOverlay).find(".joe-end-chat-alert").children(".input-widget-loader").css("display","none");else{var e={replyContentType:"new_chat",message:"Hi",isMob:J};b(a.chatInstance.selectors.inputSection).replaceWith(a.HandlebarsHtml.Template.inputSection(e));c.setChatHistoryHeight();d={tcktHsh:d.tcktHsh};b(a.chatInstance.selectors.joeChatBodyOverlay).replaceWith(a.HandlebarsHtml.Template.rateTemplate(d))}})},sendAppRating:function(c){a.RemoteCall.rateChat(b("#ticket-hash-rate").attr("data-ticket"),
c,null,function(b){b.excp?console.log("Ticket rating failed - ["+JSON.stringify(b.msgs)+"]"):a.chatInstance.isRated=!0})},sendMsgFeedback:function(c,d,e,f,h,k){var l=this;a.RemoteCall.msgFaqfeedback(c,d,e,f,h,function(c){c.excp?(console.log("Ticket rating failed - ["+JSON.stringify(c.msgs)+"]"),b(a.chatInstance.selectors.alertTextFooterInput).removeClass("hide"),b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").addClass("hide"),b(k).parent("div").css("visibility","visible")):
(b(a.chatInstance.selectors.alertTextFooterInput).addClass("hide"),b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").addClass("hide"),b(k).parent("div").css("visibility","visible").html(ba.thanks_for_feedback),l.setChatHistoryHeight())},function(c){b(a.chatInstance.selectors.alertTextFooterInput).removeClass("hide");b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").addClass("hide");b(k).parent("div").css("visibility","visible")})},sendMsgTmoFeedback:function(c,
d,e,f,h,k){a.RemoteCall.msgFaqfeedback(c,d,e,f,h,function(a){a.excp?(console.log("Ticket rating failed - ["+JSON.stringify(a.msgs)+"]"),b(k).parents(".joe-faq-item-full").find(".tmo-feedback-error").removeClass("hide"),b(k).parent(".tmo-feedback-div").removeClass("hide")):(b(".tmo-feedbadk-error").addClass("hide"),a=b(k).parents(".joe-faq-item-full"),b(k).parents(".joe-faq-item-full").find(".tmo-feedback-div").removeClass("hide").html(ba.thanks_for_feedback),a.clone().prependTo(".chat-container"),
a.remove(),b(".chat-container .joe-faq-item-full").addClass("joe-hide"))},function(a){b(k).parents(".joe-faq-item-full").find(".tmo-feedback-error").removeClass("hide");b(k).parent(".tmo-feedback-div").removeClass("hide")})},sendVisitorActionMessage:function(){null!=a.chatInstance.visitorActionMessageHash&&a.chatInstance.visitorActionMessageHash==a.chatInstance.latestAgentMessageHash&&(this.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type["private"],messageToSend:"WIDGET_OPENED_BY_VISITOR"}),
a.chatInstance.visitorActionMessageHash=null,a.chatInstance.actionType=null)},sendAppFeedback:function(c,d){var e=this;b(a.chatInstance.selectors.inputSection).find(".input-widget-loader").removeClass("hide");b(a.chatInstance.selectors.inputSection).find("select, input, .optionBtn, button, .selectize-control, .text-center, .joe-radio-list-btn").css("visibility","hidden");a.RemoteCall.rateChat(b("#ticket-hash-rate").attr("data-ticket"),c,d,function(c){c.excp?(console.log("Message send failed - ["+
JSON.stringify(c.msgs)+"]"),b(a.chatInstance.selectors.joeChatBodyOverlay).removeClass("hide"),b(a.chatInstance.selectors.inputSection).find(".input-widget-loader").addClass("hide"),b(a.chatInstance.selectors.inputSection).find("select, input, .optionBtn, button, .selectize-control, .text-center, .joe-radio-list-btn").css("visibility","visible")):(setTimeout(function(){b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("hide");e.toggleChatOpen()},2500),b(a.chatInstance.selectors.inputSection).find(".input-widget-loader").addClass("hide"),
b(a.chatInstance.selectors.inputSection).find("select, input, .optionBtn, button, .selectize-control, .text-center, .joe-radio-list-btn").css("visibility","visible"),b(a.chatInstance.selectors.joeChatBodyOverlay).html(a.HandlebarsHtml.Template.dateTemplate({key:"Thanks for your feedback."})),e.scrollToBottom())})},onEnterPressOnSelect:function(c){if(!a.chatInstance.selectizeRef.isOpen||!a.chatInstance.selectizeRef.$activeOption){var d=b("div.selectize-dropdown-content div.option.selected");null!=
a.chatInstance.selectizeDefaultVal&&""!=a.chatInstance.selectizeDefaultVal&&1==d.length&&a.chatInstance.selectizeDefaultVal==d.attr("data-value")?a.chatInstance.selectizeRef[0].selectize.setValue(d.attr("data-value")):(b(c.currentTarget).val(""),a.chatInstance.selectizeRef[0].selectize.open())}},frameLooper:function(a){var c=this;0<$a.length?b("#joe-center-input").attr("placeholder",b("#joe-center-input").attr("placeholder")+$a.shift()):b("#joe-center-input").attr("placeholder","");setTimeout(function(){c.frameLooper(a)},
150)},isChatMinimized:function(){return!b("div.chat-body").is(":visible")},isTextInput:function(a){return"text"===a||"file"===a||"image"===a||"file_and_image"===a},isChatBubbleHidden:function(){return!b("#mobile-chat-container").is(":visible")},isFooterVisible:function(){return b(a.chatInstance.selectors.inputSectionParent).is(":visible")},validateXssError:function(a){var b=/(<\s*(img|script))|(javascript:)/g;return/<(([a-zA-Z0-9\s'"=])+( href|onload|onerror|onclick))/g.test(a)?!1:b.test(a)?!1:!0},
htmlToString:function(a){return a.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")},resetMonthSelect:function(c){var d=a.Date.getMonthsForYear(parseInt(c.val()),a.Date.getDateMonthYearTime(b(a.chatInstance.selectors.rangeHiddenInput).attr("data-start-date")),a.Date.getDateMonthYearTime(b(a.chatInstance.selectors.rangeHiddenInput).attr("data-end-date"))),e="";b.each(d,function(a,b){e+="\x3coption\x3e"+d[a]+"\x3c/option\x3e"});b(a.chatInstance.selectors.monthSelect).empty().append(e);this.resetDateSelect(b(a.chatInstance.selectors.monthSelect))},
resetDateSelect:function(c){var d=a.Date.getDatesForYearAndMonth(parseInt(b(a.chatInstance.selectors.yearSelect).val()),c.val(),a.Date.getDateMonthYearTime(b(a.chatInstance.selectors.rangeHiddenInput).attr("data-start-date")),a.Date.getDateMonthYearTime(b(a.chatInstance.selectors.rangeHiddenInput).attr("data-end-date"))),e="";b.each(d,function(a,b){e+="\x3coption\x3e"+d[a]+"\x3c/option\x3e"});b(a.chatInstance.selectors.dateSelect).empty().append(e)},addHeaderIcons:function(a){return""},toggleChatOpen:function(){var c=
this;b(a.chatInstance.selectors.joeMsgBubbleContainer).addClass("joe-hide");a.chatInstance.forceOpenEnable=!1;c.isChatMinimized()&&"WIDGET_OPENED"===a.chatInstance.actionType&&c.sendVisitorActionMessage();if("embedded"!=a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()&&"embedded"!=a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase()){var d;d={};c.isChatMinimized()?a.setValueForKeyInCookie("wdgtOpnPrf","1","joe-custinfo"):a.setValueForKeyInCookie("wdgtOpnPrf","0","joe-custinfo");if(J){if(c.isChatMinimized()){if(b(a.chatInstance.selectors.unreadCtr).find("strong").text(""),
b(a.chatInstance.selectors.unreadBubbleCtr).text(""),c.resetPageTitle(),b(a.chatInstance.selectors.unreadCtr).addClass("hide"),b(a.chatInstance.selectors.unreadBubbleCtr).addClass("joe-hide"),b(a.chatInstance.selectors.header).find(".fa-ellipsis-v").parents("a").removeClass("hide"),d="100%",b(a.chatInstance.selectors.chatContainer).css({"-webkit-overflow-scrolling":"touch"}),"bubble"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||"bubble"==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())b(a.chatInstance.selectors.chatContainer).show(),
b("#mobile-chat-container").addClass("joe-hide")}else if(b(a.chatInstance.selectors.header).find(".fa-ellipsis-v").parents("a").addClass("hide"),b(a.chatInstance.selectors.chatContainer).css({"-webkit-overflow-scrolling":"auto"}),d="200px","bubble"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||"bubble"==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())b(a.chatInstance.selectors.chatContainer).animate({opacity:"0"},500),b(a.chatInstance.selectors.chatContainer).hide(),b("#mobile-chat-container").removeClass("joe-hide");
d={width:d,maxHeight:"100%",right:0,bottom:0}}else{if(c.isChatMinimized()){if(b(a.chatInstance.selectors.unreadCtr).find("strong").text(""),b(a.chatInstance.selectors.unreadBubbleCtr).text(""),c.resetPageTitle(),b(a.chatInstance.selectors.unreadCtr).addClass("hide"),b(a.chatInstance.selectors.unreadBubbleCtr).addClass("joe-hide"),b(a.chatInstance.selectors.header).find(".fa-ellipsis-v").parents("a").removeClass("hide"),d="390px","bubble"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||
"bubble"==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())b(a.chatInstance.selectors.chatContainer).show(),b("#mobile-chat-container").addClass("joe-hide")}else if(b(a.chatInstance.selectors.header).find(".fa-ellipsis-v").parents("a").addClass("hide"),d="200px","bubble"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||"bubble"==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())b(a.chatInstance.selectors.chatContainer).animate({opacity:"0"},500),b(a.chatInstance.selectors.chatContainer).hide(),
b("#mobile-chat-container").removeClass("joe-hide");d={width:d}}b(a.chatInstance.selectors.chatContainer).css(d);J&&a.chatInstance.openOnDefault?b(a.chatInstance.selectors.chatContainer).css("opacity","0").animate({opacity:"1"},0):b(a.chatInstance.selectors.chatContainer).css("opacity","0").animate({opacity:"1"},500);b(".chat-body").toggle(0,function(){c.setChatHistoryHeight();c.isOverlayPresent()||J||b(a.chatInstance.selectors.inputSection).find("input").focus();c.scrollToBottom();c.removeNewMessageTag()})}},
isOverlayPresent:function(){return b(a.chatInstance.selectors.joeChatBodyOverlay).is(":visible")},messageTimediff:function(c,d){var e=0,e=d?parseInt(b(a.chatInstance.selectors.chatHistoryList).find(".joe-message:last .joe-msg-time").attr("data-msg-timestamp")):parseInt(b(a.chatInstance.selectors.chatHistoryList).find(".joe-message:first .joe-msg-time").attr("data-msg-timestamp"));return 6E4<Math.abs(c-e)},renderMessageReceivedFromServer:function(c,d){var e;c.publicNote&&(a.chatInstance.lastAuthor=
d?b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").attr("author"):b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:first").attr("author"));if(!a.chatInstance.lastAuthor||a.chatInstance.lastAuthor!==c.author.toLowerCase()||this.messageTimediff(parseInt(c.crtDtTmstmp),d)){var f={publicNote:c.publicNote,author:c.author.toLowerCase()};d?b(a.chatInstance.selectors.chatHistoryList).append(a.HandlebarsHtml.Template.groupTemplate(f)):b(a.chatInstance.selectors.chatHistoryList).prepend(a.HandlebarsHtml.Template.groupTemplate(f));
c.publicNote&&(a.chatInstance.lastAuthor=d?b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").attr("author"):b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:first").attr("author"))}if("customer"===c.author.toLowerCase())e=a.Date.getDateString(c.crtDtTmstmp,a.chatInstance.dateFormat,a.chatInstance.timeFormat),f="absolute",a.Date.isDateStringRelative(e)&&(f="relative"),e={messageOutput:this.htmlToString(c.message),timestampType:f,time:e,publicNote:c.publicNote,
msgCntntTyp:c.messageContentType,ticketMessageHash:c.tcktMsgHsh,crtDtTmstmp:c.crtDtTmstmp,imgSprtd:c.imgSprtd,msgSent:!0},e=a.HandlebarsHtml.Template.customerMessage(e);else if("agent"===c.author.toLowerCase()||"bot"===c.author.toLowerCase()){var h=null;c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&(h=c.ticketMessageOptions[0].cntntTyp);e=a.Date.getDateString(c.crtDtTmstmp,a.chatInstance.dateFormat,a.chatInstance.timeFormat);f="absolute";a.Date.isDateStringRelative(e)&&(f="relative");var k=
null;c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&"artcl"==c.ticketMessageOptions[0].cntntTyp&&(k=c.ticketMessageOptions[0].mtdt.artcl.mrUrl);c.sndrImg||(c.sndrImg=a.Html.agentImgDefaultUrl);e=a.HandlebarsHtml.Template.agentMessage({response:c.message,timestampType:f,time:e,sndrNm:c.sndrNm,sndrImg:c.sndrImg,publicNote:c.publicNote,msgCntntTyp:c.messageContentType,imgSprtd:c.imgSprtd,longDesc:c.mtdt?c.mtdt.lngDscrptn:"",paymentCard:c.mtdt?c.mtdt.pymntDtl:"",orderStatusCard:c.mtdt?c.mtdt.ordrStsDtl:
"",adhocCallSupported:c.rplyMtdt?c.rplyMtdt.adhcClSprtd:"",ticketmsgoptn:c.ticketMessageOptions?c.ticketMessageOptions:null,ticketMessageHash:c.tcktMsgHsh,crtDtTmstmp:c.crtDtTmstmp,mrUrl:k,tmorplycntnttyp:h})}else console.log("Invalid Author: "+c.author);e&&(d?b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").append(e):b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:first").prepend(e));c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&("itm"==
c.ticketMessageOptions[0].cntntTyp||"img"==c.ticketMessageOptions[0].cntntTyp?a.JoeCarousel.init(this,c.tcktMsgHsh):"artcl"==c.ticketMessageOptions[0].cntntTyp&&b(".chat-container").prepend(this.faqFullCardView(c,c.ticketMessageOptions[0].mtdt.artcl.mrUrl)));1<=b(a.chatInstance.selectors.chatHistoryList).find(".my-message").length&&b(".chat-container .chat-header.lg-header").removeClass("lg-header")},addDateInChatHistory:function(c,d){var e=b(a.chatInstance.selectors.chatHistoryList).find("."+c);
d||e.remove();var f={key:c};d?(b(a.chatInstance.selectors.chatHistoryList).append(a.HandlebarsHtml.Template.dateTemplate(f)),1<e.length&&e.last().remove()):b(a.chatInstance.selectors.chatHistoryList).prepend(a.HandlebarsHtml.Template.dateTemplate(f))},clearChatHistory:function(){a.chatInstance.load=!1;b(a.chatInstance.selectors.chatHistoryList).html("");for(b(a.chatInstance.selectors.inputSectionParent).css("visibility","hidden");0<T.length;)T.pop()},loadPreviousMsgAndInitChat:function(){var c=this;
c.clearChatHistory();z=a.Options.getData(a.Options.reservedOptions.clientParams);if(a.chatInstance.metadataClientParams){z||(z={});var d,e="",f="";for(d in a.chatInstance.metadataClientParams)z.hasOwnProperty(d)?a.Log.logMessage("Not getting value for key: "+d+" as per metadata as it already exists in the page params",!0):(e=a.chatInstance.metadataClientParams[d].url,f=a.chatInstance.metadataClientParams[d].prprty,z[d]=a.getValueFromPage(e,f))}b(a.chatInstance.selectors.chatHistory).append('\x3cdiv class\x3d"joe-loader joe-full"\x3e\x3c/div\x3e');
c.setChatHistoryHeight();var h=function(d){a.Log.logMessage("init chat success started",!0);var e;d=d.data;a.chatInstance.currConversation=d.cnvrstnHsh;d.rltmCnctnStngs&&(a.RealTimeConnection.setConnectionParams(d.rltmCnctnStngs),a.RealTimeConnection.realtimeConnectOnInit&&!a.RealTimeConnection.isRealTimeConnectionPresent()&&c.initiateRealTimeConnection(c.loadMorePreviousMsg.bind(c,null,!1)));d.menuIcns&&c.addWidgetMenu(d.menuIcns);d.slshCmnds&&(a.chatInstance.menu.slashCommandList=d.slshCmnds,b(".chat-footer").append(c.getSlshCmndsListItemsHtml(a.chatInstance.menu.slashCommandList)));
a.Log.logMessage("Handling init chat messages",!0);var f=d.dateApiTicketListMap,h=d.initChtMsgs,k=!0;if(h){var l=0;c.addDateInChatHistory("Today",!0);b.each(h,function(b,d){if(h.hasOwnProperty(b)){var e={tcktMsg:h[b]};a.Log.logMessage("Handling init chat message",!0);c.onRealTimeMessageReceive.apply(c,[e]);e.tcktMsg.publicNote&&(k=!1);l++}});(k||b.isEmptyObject(f))&&b(a.chatInstance.selectors.chatHistory).find(".Today").remove();a.Log.logMessage("init chat msg count \x3d "+l,!0)}a.Log.logMessage("Init chat messages handling done",
!0);a.Log.logMessage("Handling history messages",!0);var n=0,p;b.each(f,function(d,h){if(f.hasOwnProperty(d)){var l=b(a.chatInstance.selectors.chatHistoryList).find("."+d);b.each(f[d],function(b,h){-1==T.indexOf(f[d][b].tcktMsgHsh)?(e=f[d][b],T.push(e.tcktMsgHsh),c.renderMessageReceivedFromServer.apply(c,[e,!1]),k&&(p=e,k=!1),a.Log.logMessage("history message prepend",!0),n++):console.log("Skip init history render message \x3d\x3e hash: "+f[d][b].tcktMsgHsh)});l&&0===l.length&&c.addDateInChatHistory(d,
!1)}});d=(new Date).getTime();a.Log.logMessage("History messages handling done and msg count "+n+"\n Time taken from initiating widget to print messages: %c"+(d-m)+" ms",!0,"font-weight: bold");b(a.chatInstance.selectors.sliderContainer).find(".joe-prmry-btn:not(.hide-post-sbmt)").removeClass("joe-hide");a.Log.logMessage("Fetching rest of history messages for msg hash:"+b(a.chatInstance.selectors.chatContainer).find(".joe-message:first").attr("ticketMessageHash"),!0);d=b(a.chatInstance.selectors.chatContainer).find(".joe-message:first").attr("ticketMessageHash");
var x=null;a.String.isBlank(d)&&(x=!0);c.loadMorePreviousMsg(d,x);p?(a.chatInstance.latestAgentMessageHash=p.tcktMsgHsh,c.addInputSection.apply(c,[p]),a.Log.logMessage("init chat success finished",!0),p.publicNote&&(p.ticketMessageOptions&&0<p.ticketMessageOptions.length&&(d=p.ticketMessageOptions[0].cntntTyp,"itm"!==d&&"img"!==d||b(".joe-slider-container:last").find(".joe-prmry-btn").removeClass("joe-hide")),a.Log.logMessage("Calling setChatHistoryHeight",!0),c.setChatHistoryHeight())):a.Log.logMessage("init chat success finished",
!0);b(a.chatInstance.selectors.inputSectionParent).css("visibility","visible");c.scrollToBottom.apply(c)};"opt"===v?(a.Log.logMessage("print history messages from combined response",!0),h(Ha),Ha=null):a.RemoteCall.getHistoryAndInitiateChat(a.chatInstance.customerHash,1,"desc",function(a){h(a);n=!1},function(c){b(".joe-loader").remove();c&&c.status&&401==c.status&&a.RemoteCall.getHistoryAndInitiateChat(a.chatInstance.customerHash,1,"desc",function(a){h(a)});n=!1})},loadMorePreviousMsg:function(c,d){var e=
this,f=!1,h="desc";c||d||(f=!0,h="asc",a.chatInstance.load=!1);var k=function(h){var k=0;b(a.chatInstance.selectors.chatHistory).find(".joe-message-list")&&0<b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").length&&(k=b(a.chatInstance.selectors.chatHistory).find(".joe-message-list")[0].scrollHeight);h=h.data;var l,m=h.dateApiTicketListMap;b.each(m,function(d,h){m.hasOwnProperty(d)&&(b.each(m[d],function(a,b){l=m[d][a];-1==T.indexOf(l.tcktMsgHsh)?(T.push(l.tcktMsgHsh),e.renderMessageReceivedFromServer.apply(e,
[l,f])):console.log("Skip history render message \x3d\x3e hash: "+l.tcktMsgHsh)}),c&&e.addDateInChatHistory(d,!1),a.chatInstance.load=!0)});c||d?(h=0,b(a.chatInstance.selectors.chatHistory).find(".joe-message-list")&&0<b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").length&&(h=b(a.chatInstance.selectors.chatHistory).find(".joe-message-list")[0].scrollHeight),b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").scrollTop(h-k+30)):(e.addInputSection(l),e.scrollToBottom(),
e.setChatHistoryHeight(),b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide"));b(".joe-loader").remove()};a.RemoteCall.getPreviousMessages(a.chatInstance.customerHash,c,a.chatInstance.numberOfMessageToBeLoad,h,function(a){k(a)},function(d){b(".joe-loader").remove();d&&d.status&&401==d.status&&a.RemoteCall.getPreviousMessages(a.chatInstance.customerHash,c,a.chatInstance.numberOfMessageToBeLoad,h,function(a){k(a)})})},addAgentMessageReceivedFromPubnub:function(c){a.chatInstance.latestAgentMessageHash=
c.tcktMsgHsh;var d=b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").attr("author");if(""==d||d!==c.author.toLowerCase()||this.messageTimediff(parseInt(c.crtDtTmstmp),!0))d={publicNote:c.publicNote,author:c.author.toLowerCase()},b(a.chatInstance.selectors.chatHistoryList).append(a.HandlebarsHtml.Template.groupTemplate(d));b(a.chatInstance.selectors.sliderContainer).find(".joe-prmry-btn.hide-post-sbmt").addClass("joe-hide");b(".chat-container .joe-faq-item-full").find(".tmo-feedback-div").addClass("joe-hide");
d=null;c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&(d=c.ticketMessageOptions[0].cntntTyp);var e=a.Date.getDateString(c.crtDtTmstmp,a.chatInstance.dateFormat,a.chatInstance.timeFormat),f="absolute";a.Date.isDateStringRelative(e)&&(f="relative");var h=null;c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&"artcl"==c.ticketMessageOptions[0].cntntTyp&&(h=c.ticketMessageOptions[0].mtdt.artcl.mrUrl);c.sndrImg||(c.sndrImg=a.Html.agentImgDefaultUrl);d={response:c.message,sndrNm:c.sndrNm,
sndrImg:c.sndrImg,timestampType:f,time:e,publicNote:c.publicNote,msgCntntTyp:c.messageContentType,imgSprtd:c.imgSprtd,longDesc:c.mtdt?c.mtdt.lngDscrptn:"",paymentCard:c.mtdt?c.mtdt.pymntDtl:"",orderStatusCard:c.mtdt?c.mtdt.ordrStsDtl:"",adhocCallSupported:c.rplyMtdt?c.rplyMtdt.adhcClSprtd:"",ticketmsgoptn:c.ticketMessageOptions?c.ticketMessageOptions:null,ticketMessageHash:c.tcktMsgHsh,crtDtTmstmp:c.crtDtTmstmp,nodeId:c.ndId,nodeIntent:c.ndIntnt,mrUrl:h,tmorplycntnttyp:d};(this.isChatMinimized()&&
!a.chatInstance.windowActive||this.isChatMinimized())&&c.publicNote&&1>b(a.chatInstance.selectors.chatHistoryList).find(".joe-new-message").length&&b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").append(a.HandlebarsHtml.Template.newMessageTemplate({key:"New Messages"}));b(a.chatInstance.selectors.chatHistoryList).find(".joe-message-group:last").append(a.HandlebarsHtml.Template.agentMessage(d));b(a.chatInstance.selectors.chatHistory).find(".joe-typing[typingId\x3d'"+a.chatInstance.typingId+
"']").remove();c.actns&&(!c.rfChnlSnId||W&&c.rfChnlSnId===W.toString())&&this.handleMessageActions(c);b(a.chatInstance.selectors.sliderContainer).find(".joe-prmry-btn:not(.hide-post-sbmt)").removeClass("joe-hide");c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&("itm"==c.ticketMessageOptions[0].cntntTyp||"img"==c.ticketMessageOptions[0].cntntTyp?(a.JoeCarousel.init(this,c.tcktMsgHsh),b(".joe-slider-container:last").find(".joe-prmry-btn").removeClass("joe-hide")):"artcl"==c.ticketMessageOptions[0].cntntTyp&&
b(".chat-container").prepend(this.faqFullCardView(c,c.ticketMessageOptions[0].mtdt.artcl.mrUrl)))},showMessageBubble:function(c){var d=a.Date.getDateString(c.crtDtTmstmp,a.chatInstance.dateFormat,a.chatInstance.timeFormat),e="absolute";a.Date.isDateStringRelative(d)&&(e="relative");c={response:c.message,sndrNm:c.sndrNm,timestampType:e,time:d,publicNote:c.publicNote,msgCntntTyp:c.messageContentType,imgSprtd:c.imgSprtd,longDesc:c.mtdt?c.mtdt.lngDscrptn:"",ticketmsgoptn:c.ticketMessageOptions?c.ticketMessageOptions:
null,ticketMessageHash:c.tcktMsgHsh,crtDtTmstmp:c.crtDtTmstmp,nodeId:c.ndId,nodeIntent:c.ndIntnt};b(a.chatInstance.selectors.joeMsgBubbleContainer).replaceWith(a.HandlebarsHtml.Template.popupMessage(c));"bubble"!=a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()&&"bubble"!=a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase()||b(a.chatInstance.selectors.joeMsgBubbleContainer).css("width","297px")},addInputSection:function(c){if(a.Object.isNotNull(c)&&c.publicNote){"embedded"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||
a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase();c.replyContentType||(c.replyContentType="text");var d=[],e=[],f=[],h=[],k=[],l=null,m=null,n=null,p=null,q=null,r=null;if("date"==c.replyContentType)var s=a.Date.getDateMonthYearTime(c.rplyMtdt.frm),t=a.Date.getDateMonthYearTime(c.rplyMtdt.to),u=a.Date.getDateMonthYearTime(c.rplyMtdt.dflt),f=a.Date.getYears(s,t),e=a.Date.getMonthsForYear(u.year,s,t),d=a.Date.getDatesForYearAndMonth(u.year,u.month,s,t),l=u.date,m=u.month,n=u.year;else"time"==
c.replyContentType&&(s=a.Date.getDateMonthYearTime(c.rplyMtdt.frm),t=a.Date.getDateMonthYearTime(c.rplyMtdt.to),u=a.Date.getDateMonthYearTime(c.rplyMtdt.dflt),k=parseInt(c.rplyMtdt.intrvl),h=a.Date.getHours(s,t,k),k=a.Date.getMinutesForHour(u.hours,s,t,k),p=u.minutes,q=u.hour);c.ticketMessageOptions&&0<c.ticketMessageOptions.length&&(r=c.ticketMessageOptions[0].cntntTyp);d={ticketmsgoptn:c.ticketMessageOptions?c.ticketMessageOptions:null,mnOptnsFrDrpDwn:c.rplyMtdt?c.rplyMtdt.mnOptnsFrDrpDwn:0,replyContentType:c.replyContentType,
message:c.message,isMob:J,sndrNm:c.sndrNm,quickReplyList:c.rplyMtdt?c.rplyMtdt.qckRplyLst:null,startDate:c.rplyMtdt?c.rplyMtdt.frm:null,endDate:c.rplyMtdt?c.rplyMtdt.to:null,interval:c.rplyMtdt?c.rplyMtdt.intrvl:null,fdbckStngs:c.mtdt?c.mtdt.fdbckStngs:null,dates:d,months:e,years:f,minutes:k,hours:h,defaultDate:l,defaultMonth:m,defaultYear:n,defaultMinutes:p,defaultHours:q,tmorplycntnttyp:r,rstrctInpt:c.rstrctInpt,ticketMessageHash:c.tcktMsgHsh,imgSprtd:c.imgSprtd};e={quickReplyList:c.rplyMtdt?c.rplyMtdt.qckRplyLst:
null};b(".qck-rply-div").replaceWith(a.HandlebarsHtml.Template.quickReplyInputTemplate(e));if(c.rstrctInpt||!this.isTextInput(a.chatInstance.lastInputType)||c.replyContentType!==a.chatInstance.lastInputType)b(a.chatInstance.selectors.inputSection).replaceWith(a.HandlebarsHtml.Template.inputSection(d)),a.chatInstance.lastInputType=c.rstrctInpt?null:c.replyContentType;d=b(a.chatInstance.selectors.inputSection).find("select#listOptions");0<d.length?(a.chatInstance.selectizeRef=b(d).selectize({dropdownDirection:"up",
openOnFocus:!1}),a.chatInstance.selectizeDefaultVal=d.val(),b(".chat-container .chat-footer .fbots-chat-footer-main").css("overflow","visible")):(a.chatInstance.selectizeRef=null,b(".chat-container .chat-footer .fbots-chat-footer-main").css("overflow","auto"));d=b("#agent-msg-submit").find('input[fieldType \x3d "address"]');0<d.length?(c=c.rplyMtdt?c.rplyMtdt.optns:null,e={},null!=c&&(e=JSON.parse(c)),a.chatInstance.addressInputRef=b(d).mapify({address:b("#joe-address"),city:b("#joe-city"),state:b("#joe-state"),
longitude:b("#joe-longitude"),latitude:b("#joe-latitude"),postalCode:b("#joe-postalCode"),self:this},e),a.chatInstance.addressInputDefaultVal=d.val()):a.chatInstance.addressInputRef=null;this.isOverlayPresent()||J||(a.chatInstance.selectizeRef?a.chatInstance.selectizeRef[0].selectize.focus():b(a.chatInstance.selectors.inputSection).find("#message-to-send").focus())}},getMenuItemsHtml:function(b){return a.HandlebarsHtml.Template.headerMenuListItems({menuItems:b})},faqFullCardView:function(b,c){return a.HandlebarsHtml.Template.faqFullCard({response:b.message,
sndrNm:b.sndrNm,publicNote:b.publicNote,msgCntntTyp:b.messageContentType,imgSprtd:b.imgSprtd,longDesc:b.mtdt?b.mtdt.lngDscrptn:"",paymentCard:b.mtdt?b.mtdt.pymntDtl:"",orderStatusCard:b.mtdt?b.mtdt.ordrStsDtl:"",fdbckStngs:b.mtdt?b.mtdt.fdbckStngs:"",adhocCallSupported:b.rplyMtdt?b.rplyMtdt.adhcClSprtd:"",ticketmsgoptn:b.ticketMessageOptions?b.ticketMessageOptions:null,ticketMessageHash:b.tcktMsgHsh,mrUrl:c,crtDtTmstmp:b.crtDtTmstmp})},getMenuIconsHtml:function(b,c){return a.HandlebarsHtml.Template.headerMenuIcons({iconItems:b,
whatsappMsg:c.WHATSAPP?c.WHATSAPP:"",fbMsg:c.FACEBOOK?c.FACEBOOK:"",twitterMsg:c.TWITTER?c.TWITTER:""})},getSlshCmndsListItemsHtml:function(b){return a.HandlebarsHtml.Template.slshCmndsListItems({slshCmndsItems:b})},getBotsListItemsHtml:function(b){return a.HandlebarsHtml.Template.botsListItems({bots:b})},handleMessageActions:function(c){var e=this,f=c.actns;a.chatInstance.forceOpenEnable=!0;f&&b.each(f,function(f,h){h.slp||(h.slp=0);setTimeout(function(){if("HIDE_WIDGET"===h.typ)e.hideChatWidget();
else if("MINIMIZE_WIDGET"===h.typ)e.isChatMinimized()||e.toggleChatOpen();else if("SEND_MESSAGE"===h.typ)l.sendTextMessage(h.url,!1);else if("GOTO_NODE"===h.typ)l.sendTextMessage(h.url,!1);else if("FORCE_OPEN_CHAT_WIDGET"===h.typ)e.isChatMinimized()&&a.chatInstance.forceOpenEnable&&e.toggleChatOpen();else if("WIDGET_OPENED_BY_VISITOR"===h.typ||"WIDGET_OPENED"===h.typ)a.chatInstance.visitorActionMessageHash=a.chatInstance.latestAgentMessageHash,a.chatInstance.actionType=h.typ,e.isChatMinimized()||
e.sendVisitorActionMessage();else if("OPEN_URL_IN_SAME_TAB"===h.typ)d.location.href=a.getNewUrl(h.url);else if("OPEN_URL_IN_NEW_TAB"===h.typ)a.openUrlInNewTab(a.getNewUrl(h.url));else if("SHOW_MESSAGE_BUBBLE"===h.typ)e.isChatMinimized()&&e.showMessageBubble(c);else if("TRIGGER_AJAX_GET_CALL"===h.typ){var f=c.tcktMsgHsh,k="undefined",m=b("div.joe-message.other-message:last");a.chatInstance.actionType=h.typ;null!=m&&0<m.length&&""!=m.attr("data-node-id")&&(m.attr("data-node-id"),""!=m.attr("data-node-intent")&&
m.attr("data-node-intent"));k=h.url?h.url:"undefined Json";null!==a.chatInstance.latestAgentMessageHash&&a.chatInstance.latestAgentMessageHash===f&&e.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type["private"],messageToSend:k})}else if("GET_CSS_SELECTOR_VALUE"===h.typ)k="undefined",m=b("div.joe-message.other-message:last"),null!==m&&0<m.length&&""!==m.attr("data-node-id")&&(m.attr("data-node-id"),""!==m.attr("data-node-intent")&&m.attr("data-node-intent")),0<b(h.url).length&&
null!==h.prprty&&(f=null,f="text"===h.prprty?b(h.url).text().trim():b(h.url).attr(h.prprty).trim(),null!==f&&""!==f&&(k=f)),e.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type["private"],messageToSend:k});else if("JS_REMOTE_REQUEST"===h.typ||"CALL_OPTIONS_FUNCTION"===h.typ){k="undefined";m=b("div.joe-message.other-message:last");null!==m&&0<m.length&&""!==m.attr("data-node-id")&&(m.attr("data-node-id"),""!==m.attr("data-node-intent")&&m.attr("data-node-intent"));if(h.url&&(a.Log.logMessage("Received command to call: "+
h.url,!0),h.url.startsWith("options."))){m=h.url.replace("options.","");try{f=a.Options.getDataStr(m,h.prms),a.String.isNotBlank(f)&&(k=f)}catch(n){k="Error while executing options function: "+m+"; error: "+JSON.stringify(n),a.Log.logMessage(k,!0)}}"JS_REMOTE_REQUEST"===h.typ&&e.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type["private"],messageToSend:k})}else if("GET_PAGE_VALUES_ASYNC"===h.typ){f={};if(null!==h.url&&null!==h.prprty){var m=h.url.split(","),p=h.prprty.split(",");
if(m.length==p.length){var q="",r="";for(k in m)r=m[k],q=p[k],f[r]=a.getValueFromPage(r,q)}}a.RemoteCall.updateTicketInfo(c.tcktHsh,a.chatInstance.latestAgentMessageHash,f,function(a){},function(a){console.log("Message send failed - ["+JSON.stringify(a)+"]")})}},h.slp)})},createSessionIfNeededAndShowWidget:function(){if(W&&"opt"!=v)console.log("Session already exists");else{W||(W=a.String.getHash(Z+(new Date).getTime()));b(a.chatInstance.selectors.chatContainer).replaceWith(a.chatInstance.chatContainerBasicHtml);
this.addWidgetHeader(a.chatInstance.uiSettings.widgetHeaderCnfg);"bar"!==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()&&"bar"!==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase()||b(a.chatInstance.selectors.chatContainer).show();J&&b(a.chatInstance.selectors.chatContainer).css("cursor","pointer");if(d)if(a.chatInstance.openOnDefault)if(a.chatInstance.openOnDefaultForDesktopAndMobile)b(a.chatInstance.selectors.unreadCtr).addClass("hide"),b(a.chatInstance.selectors.unreadBubbleCtr).addClass("joe-hide"),
this.toggleChatOpen.apply(this),b(a.chatInstance.selectors.header).find(".fa-ellipsis-v").parents("a").removeClass("hide");else{if("bubble"===a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||"bubble"===a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())b("#mobile-chat-container").css("bottom",a.chatInstance.uiSettings.initHeightFromBottom+"px"),b("#mobile-chat-container").removeClass("joe-hide"),b(a.chatInstance.selectors.chatContainer).hide()}else if("bubble"===a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||
"bubble"===a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase())b("#mobile-chat-container").css("bottom",a.chatInstance.uiSettings.initHeightFromBottom+"px"),b("#mobile-chat-container").removeClass("joe-hide"),b(a.chatInstance.selectors.chatContainer).hide();!a.chatInstance.menu.showIcons||"embedded"!=a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()&&"embedded"!=a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase()||b("#joe-chat-icon-header").replaceWith(this.getMenuIconsHtml(a.chatInstance.menu.menuNodeList,
a.chatInstance.menu.shareMessages));!s&&a.chatInstance.bots&&0!==a.chatInstance.bots.length&&b(".chat-footer").append(this.getBotsListItemsHtml(a.chatInstance.bots));"delayed"===v?(this.hideChatWidget(),a.Log.logMessage("Not auto initiating chat and hiding widget: initType: "+v,!0)):this.loadPreviousMsgAndInitChat.apply(this)}A&&b("#mobile-chat-container").addClass("joe-hide");a.isWidgetDeActivated&&l.deActivate();if(a.initiateWidgetParams.successCallback){var c=(new Date).getTime();a.Log.logMessage("Initiate widget success callback. time taken to initiate widget: "+
(c-m)+" ms",!0);a.initiateWidgetParams.successCallback()}},onRealTimeMessageReceive:function(c){var d=this,e=!0,f=c.tcktMsg;!a.chatInstance.currConversation&&W&&f.rfChnlSnId===W.toString()&&(a.chatInstance.currConversation=c.cnvrstnHsh);var h=c.cnvrstnHsh;c.chnlSnId&&W&&c.chnlSnId!==W.toString()&&"customer"!==f.author.toLowerCase()&&(e=!1);e&&a.chatInstance.currConversation&&h&&h!==a.chatInstance.currConversation&&(e=!1);if(e){c.fetch&&a.RemoteCall.getMessageDetails(f.tcktMsgHsh,function(a){a.excp?
(console.log(JSON.stringify(a.msgs)),f=null):f=a.tcktMsg},function(a){console.log(JSON.stringify(a));f=null});if(f)if(-1==T.indexOf(f.tcktMsgHsh))if(T.push(f.tcktMsgHsh),1>b(a.chatInstance.selectors.chatHistoryList).find("."+f.tcktHsh).length&&b(a.chatInstance.selectors.chatHistoryList).append("\x3chr class\x3d'"+f.tcktHsh+"'/\x3e"),"customer"===f.author.toLowerCase()){if(f.publicNote&&c.chnlMsgIdntfr){if((e=b(a.chatInstance.selectors.chatHistory).find('.my-message[hash\x3d"'+c.chnlMsgIdntfr+'"]'))&&
0<e.length)d.onTextMessageSendSuccess(c.chnlMsgIdntfr,f.tcktMsgHsh);else d.renderMessageReceivedFromServer(f,!0);b(a.chatInstance.selectors.joeMsgBubbleContainer).addClass("joe-hide")}}else d.addAgentMessageReceivedFromPubnub(f),d.addInputSection(f),f.publicNote&&(b(a.chatInstance.selectors.inputSection).find(".input-widget-loader").addClass("hide"),b(a.chatInstance.selectors.messageTextarea).val(a.chatInstance.cacheMessage),d.isChatMinimized()||!a.chatInstance.windowActive?(c=""==b(a.chatInstance.selectors.unreadCtr).find("strong").text().trim()?
0:parseInt(b(a.chatInstance.selectors.unreadCtr).find("strong").text().trim()),c+=1,d.isChatMinimized()&&(b(a.chatInstance.selectors.unreadCtr).find("strong").text(c),b(a.chatInstance.selectors.unreadBubbleCtr).text(c),b(a.chatInstance.selectors.unreadCtr).removeClass("hide"),b(a.chatInstance.selectors.unreadBubbleCtr).removeClass("joe-hide")),d.resetPageTitle(c),d.isChatMinimized()&&d.isChatBubbleHidden()||a.Audio.playMessagePing(a.chatInstance.maxMessagePings)):(b(a.chatInstance.selectors.unreadCtr).find("strong").text(""),
b(a.chatInstance.selectors.unreadBubbleCtr).text(""),d.resetPageTitle(),b(a.chatInstance.selectors.unreadCtr).addClass("hide"),b(a.chatInstance.selectors.unreadBubbleCtr).addClass("joe-hide"),d.setChatHistoryHeight(),J&&setTimeout(function(){d.setChatHistoryHeight();d.scrollToBottom()},50)));else"prod"!==V&&console.log("Skip render message \x3d\x3e hash: "+f.tcktMsgHsh);d.scrollToBottom()}},resetPageTitle:function(c){if((!this.isChatMinimized()||!this.isChatBubbleHidden())&&a.chatInstance.updateTitleEnable&&
"faf81e84d29d9efe3f1bf1cc9a17f444"!=q){var d=b("title").text(),e="",f=/^\([0-9]+\) /;c&&null!=c&&0<c&&(e="("+c+") ");c=f.test(d)?d.replace(f,e):e+d;c!=d&&b("title").text(c)}},onTypingMessageReceive:function(c){var d=c.cnvrstnHsh;if(0==b(".typing-container.joe-typing").length){var e=!0,f=b("div.joe-message.other-message:last");0<f.length&&""!=f.attr("data-tm-millis")&&(f=parseInt(f.attr("data-tm-millis")),c.timestamp<=f&&(e=!1));e&&a.chatInstance.currConversation&&d&&d!==a.chatInstance.currConversation&&
(e=!1);e&&(a.chatInstance.typingId=c.typingId,b(a.chatInstance.selectors.chatHistoryList).append(a.uiElementsHtml.getTypingIndicator(a.chatInstance.typingId)),this.scrollToBottom(),setTimeout(function(){b(a.chatInstance.selectors.chatHistory).find(".joe-typing[typingId\x3d'"+a.chatInstance.typingId+"']").remove()},1E4))}},showFullImageView:function(d){J?(d={imgSrc:d},b(a.chatInstance.selectors.joeChatBodyOverlay).replaceWith(a.HandlebarsHtml.Template.fullImageMobView(d))):(b(c.body).find("#joe-chat-full-body-overlay").remove(),
d={imgSrc:d},b("body").append(a.HandlebarsHtml.Template.fullImgFullView(d)),this.scrollToBottom());this.scrollToBottom()},setupInactivityAlert:function(b){a.chatInstance.currInactivityTimeoutId&&clearTimeout(a.chatInstance.currInactivityTimeoutId);a.chatInstance.currInactivityTimeoutId=setTimeout(function(){a.RemoteCall.sendInactivityAlert(a.chatInstance.customerHash,function(b){a.chatInstance.inactivityAlertPeriod=null},function(a){console.log("Error while inactivity call response: "+a)})},b)},setupMinInactivityAlert:function(b){var c=
this;a.chatInstance.currMinInactivityTimeoutId&&clearTimeout(a.chatInstance.currMinInactivityTimeoutId);a.chatInstance.currMinInactivityTimeoutId=setTimeout(function(){c.isChatMinimized()||J||c.toggleChatOpen()},b)},trimMsgAlert:function(){b(a.chatInstance.selectors.joeChatBodyOverlay).replaceWith(a.HandlebarsHtml.Template.trimMessageConfirmation({}))},setRemainingTextCount:function(c){0===b("#joe-text-counter").length&&c>Math.round(.9*a.maxTextareaCharLength)&&b(".fbots-chat-footer-main").prepend('\x3cspan id\x3d"joe-text-counter" class\x3d"font-1x lt-grsy" style\x3d"padding-left:15px;"\x3e0/'+
a.maxTextareaCharLength+"\x3c/span\x3e");var d=c+"/"+a.maxTextareaCharLength;c>a.maxTextareaCharLength?(b("#joe-text-counter").addClass("joe-text-red"),d=c+"/"+a.maxTextareaCharLength+ba.max_character_limit_exceeded):(c===a.maxTextareaCharLength&&(d=c+"/"+a.maxTextareaCharLength+ba.max_character_limit_reached),b("#joe-text-counter").removeClass("joe-text-red"),b(a.chatInstance.selectors.messageTextarea).attr("maxlength",a.maxTextareaCharLength));b("#joe-text-counter").html(d)},setChatHistoryHeight:function(c){var e,
f;!this.isChatMinimized()&&0<b(a.chatInstance.selectors.chatHistoryList).scrollTop()&&b(".chat-container .chat-header.lg-header").removeClass("lg-header");"embedded"==a.chatInstance.uiSettings.mobileChatBoxStyle.toLowerCase()||"embedded"==a.chatInstance.uiSettings.webChatBoxStyle.toLowerCase()?(e=b(a.chatInstance.uiSettings.chatParentSelector).innerHeight(),f=0,J&&b("html, body").animate({scrollTop:b(K).offset().top},0)):(e=d.innerHeight,f=a.chatInstance.widgetFullScreen?0:95);var h=30*(e-95)/100;
b(".fbots-chat-footer-main").css("max-height",h+"px");var h=b(".chat-header").outerHeight(!0),k=b(".joe-chat-icon-header").outerHeight(!0),l=b(".chat-footer").outerHeight(!0);e=J?e-h-k-l:800>e||a.chatInstance.widgetFullScreen?e-h-k-l-f:799-h-k-l-f;c?b(a.chatInstance.selectors.chatHistory).outerHeight(c,!0):b(a.chatInstance.selectors.chatHistory).outerHeight(e,!0);c=(c=b("head").find('meta[author\x3d"freshbots"]'))&&c.length&&0<c.length?!0:!1;a.chatInstance.overrideClientHtmlMetadata&&!c&&b("head").prepend(b('\x3cmeta name\x3d"viewport" author\x3d"freshbots" content\x3d"width\x3ddevice-width, initial-scale\x3d1.0, minimum-scale\x3d1.0, maximum-scale\x3d1.0"/\x3e'))},
searchMessageInput:function(a){b("#listOptions li").removeClass("hide");b("#listOptions li:contains("+a+")").addClass("hide")},removeNewMessageTag:function(){1<=b(a.chatInstance.selectors.chatHistory).find(".joe-new-message").length&&(b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").scrollTop(parseInt(b(".joe-new-message").offset().top)),setTimeout(function(){b(a.chatInstance.selectors.chatHistory).find(".joe-new-message").remove()},5E3))},scrollToBottom:function(){0<b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").length&&
b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").scrollTop(b(a.chatInstance.selectors.chatHistory).find(".joe-message-list")[0].scrollHeight)},hideChatWidget:function(){this.toggleChatOpen();b(".chat-container").css("display","none");b(a.chatInstance.selectors.joeMsgBubbleContainer).addClass("joe-hide");this.isChatBubbleHidden()||b("#mobile-chat-container").addClass("joe-hide")},showChatWidget:function(a){b(".chat-body").hide();a?this.isChatMinimized()&&(this.toggleChatOpen(),b("#mobile-chat-container").addClass("joe-hide")):
b("#mobile-chat-container").removeClass("joe-hide")},onPushPopStateChange:function(a){Ga(a)?this.isChatMinimized()?this.isChatBubbleHidden()&&this.showChatWidget():b(".chat-container").css("display","block"):this.hideChatWidget()},slshMsgList:function(a,c,d,e){b(c).val()==d?(b("#"+a).removeClass("hide"),b("#"+a+" li").removeClass("hide"),b("#"+a+" li").removeClass("active"),b("#"+a+" li").not(".hide").first().addClass("active"),b("#"+a).scrollTop(0)):b(c).val().charAt(0)==d?(c=b(c).val().trim(),c=
c.substr(1).trim(),b("#"+a+" li:spdCaseInsensitiveContains("+c+")").removeClass("hide"),b("#"+a+" li:not(:spdCaseInsensitiveContains("+c+"))").addClass("hide"),13!==e.keyCode&&(b("#"+a).removeClass("hide"),b("#"+a+" li").removeClass("active"),b("#"+a+" li").not(".hide").first().addClass("active"),b("#"+a+" li").scrollTop(0)),(!b("#"+a+" li.active")||1>b("#"+a+" li.active").length)&&b(".fbot-bottom-list").addClass("hide")):(b("#"+a).addClass("hide"),b(".fbot-bottom-list").addClass("hide"))},keyNavigation:function(a,
c){38===c.keyCode?(c.preventDefault(),b("#"+a+" li.active").prevAll(":not('.hide'):eq(0)").addClass("active"),b("#"+a+" li.active").nextAll().removeClass("active"),b("#"+a).scrollTop(b("#"+a).scrollTop()-b("#"+a).offset().top+b("#"+a+" li.active").offset().top)):40===c.keyCode?(b("#"+a+" li.active").nextAll(":not('.hide'):eq(0)").addClass("active"),b("#"+a+" li.active").prevAll().removeClass("active"),b("#"+a).scrollTop(b("#"+a).scrollTop()-b("#"+a).offset().top+b("#"+a+" li.active").offset().top)):
13===c.keyCode&&(b("#Bots-List-Items").is(":visible")?this.addValueToInput(b("#"+a+" li.active").attr("sendText")):this.addMessageOnListClick(b("#"+a+" li.active").attr("sendText"),b("#Slsh-Cmnds-List-Items li.active").attr("sendText")),b("#"+a).addClass("hide"))},addValueToInput:function(c){b(a.chatInstance.selectors.messageTextarea).val("@"+c+" ")},movableMobileContainerBindEvent:function(){b(c.body).on("touchstart","#mobile-chat-container",function(){var e=this;e.style.position="fixed";c.ontouchmove=
function(c){if(1==c.touches.length){var f=c.touches[0];e.style.position="fixed";f.clientX<=d.innerWidth-25&&26<=f.clientX&&f.clientY<=d.innerHeight-25&&26<=f.clientY&&(e.style.left=f.clientX-25+"px",e.style.bottom=d.innerHeight-f.clientY-25+"px",b(a.chatInstance.selectors.joeMsgBubbleContainer).addClass("joe-hide"));c.preventDefault()}};e.ontouchend=function(a){0<a.changedTouches.length&&(a=a.changedTouches[0],e.style.position="fixed",a.clientX<=d.innerWidth-25&&26<=a.clientX&&a.clientY<=d.innerHeight-
25&&26<=a.clientY&&(e.style.left=a.clientX<=(d.innerWidth-25)/2?"15px":d.innerWidth-50-15+"px"));c.ontouchmove=function(a){return!0}}});b(c.body).on("click",a.chatInstance.selectors.msgBubbleBtnClose,function(c){b(a.chatInstance.selectors.joeMsgBubbleContainer).addClass("joe-hide");c.stopPropagation();return!1})},isUrlChange:function(){var b=!0;d.location.href.split("#")[0]!==Z.split("#")[0]?(a.Log.logMessage("Page url change from "+Z+" to "+d.location.href,!0),Z=d.location.href,b=!0):(a.Log.logMessage("Page url old "+
Z+" and new url "+d.location.href+" is same",!0),b=!1);return b},bindWindowEvents:function(){var e=this;f?a.Log.logMessage("Window events already bind",!0):(b(c).on("visibilitychange",function(){"hidden"==c.visibilityState?a.chatInstance.windowActive=!1:(a.RealTimeConnection.isRealTimeConnectionPresent()||e.refreshChatHistory(),e.isChatMinimized()||(e.resetPageTitle(),e.removeNewMessageTag()),e.setChatHistoryHeight(),a.chatInstance.windowActive=!0)}),b(d).resize(function(){e.setChatHistoryHeight();
e.scrollToBottom()}))},bindDocumentEvents:function(){var e=this;if(f)a.Log.logMessage("Document events already bind",!0);else{A&&b(A).click(function(a){a.preventDefault();e.showChatWidget(!0)});b(c.body).on("click","#fbots-close",function(a){a.preventDefault();e.hideChatWidget()});b(c.body).on("click","#joe-menu-dropdown li",function(){"/closeChat"==b(this).attr("sendText")?e.endChatAlert():e.sendMenuItem(b(this).attr("sendText"));b("#joe-menu-dropdown").css("display","none")});b(c.body).on("focusin",
".chat-container .chat-footer input",function(){b(".chat-container .chat-footer").addClass("joe-input-box-shadow")});b(c.body).on("focusout",".chat-container .chat-footer input",function(){b(".chat-container .chat-footer").removeClass("joe-input-box-shadow")});b(c.body).on("click","#joe-chat-icon-header li .joe-chat-menu-button",function(){"/closeChat"==b(this).attr("sendText")?e.endChatAlert():e.sendMenuItem(b(this).attr("sendText"))});b(c.body).on("click",".chat-container .chat-header .joe-icon, .chat-container .chat-header .left-joe-icon, .chat-container .chat-header .menu-joe-icon",
function(){var a={actns:[JSON.parse(b(this).attr("data-action"))]};a.actns&&a.actns[0]&&e.handleMessageActions(a)});b(c.body).on("click",".joe-itemslider-btn",function(){var c=a.chatInstance.message.type.text;b(this).data("sendPrivateMessage")&&(c=a.chatInstance.message.type["private"]);a.chatInstance.isButtonEnabled&&(a.chatInstance.isButtonEnabled=!1,e.createConnectionIfNeededAndSendMessage({type:c,messageToSend:b(this).val(),displayText:b(this).attr("displayText"),refTmHash:b(this).attr("ref-tm-hash")}))});
b(c.body).on("click","#Slsh-Cmnds-List-Items li",function(a){a.stopPropagation();"/closeChat"==b(this).attr("sendText")?e.endChatAlert():e.addMessageOnListClick(b(this).attr("sendText"),b(this).attr("sendText"));b("#Slsh-Cmnds-List-Items").addClass("hide")});b(c.body).on("click","#Bots-List-Items li",function(a){e.addValueToInput(b(this).attr("sendText"));b("#Bots-List-Items").addClass("hide")});b(c.body).on("click",".chat-container .joe-menu-btn, .chat-container .joe-menu-btn i, .chat-container .joe-menu-btn span",
function(a){a.stopPropagation();b("#joe-menu-dropdown").toggle()});b(c.body).on("click",".chat-container .joe-menu-btn *",function(a){a.stopPropagation()});b(c.body).on("click",".chat-container",function(){b("#joe-menu-dropdown").css("display","none")});b(c.body).on("click","#mobile-chat-container .joe-msg-bubble-container",function(a){a.stopPropagation()});b(c.body).on("click","#min, #o-c-icons, .joe-msg-bubble-container, #mobile-chat-container",function(){a.chatInstance.logChatOpen&&e.isChatMinimized()&&
a.RemoteCall.logChatOpen(a.chatInstance.customerHash,a.chatInstance.latestAgentMessageHash,function(b){a.chatInstance.logChatOpen=!1});e.isChatMinimized()&&"WIDGET_OPENED_BY_VISITOR"===a.chatInstance.actionType&&e.sendVisitorActionMessage();e.toggleChatOpen.apply(e)});b(c.body).on(S,a.chatInstance.selectors.messageSendButton,function(){e.addMessage.apply(e)});b(c.body).on("click","#joe-center-input-send",function(){""!=b("#joe-center-input").val()&&(e.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,
messageToSend:"I want "+b("#joe-center-input").val()}),b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide"),b("#joe-chat-icon-header").removeClass("joe-hide"),a.chatInstance.uiSettings.showFullBodyInput=!1)});b(c.body).on("keyup","#joe-center-input",function(c){13===c.keyCode&&""!=b("#joe-center-input").val()&&(e.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:"I want "+b("#joe-center-input").val()}),b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide"),
b("#joe-chat-icon-header").removeClass("joe-hide"),a.chatInstance.uiSettings.showFullBodyInput=!1)});if(!J)b(c.body).on("mousemove",function(){b(".chat-container").outerHeight(!0)>d.innerHeight&&e.setChatHistoryHeight()});b(c.body).on("click",a.chatInstance.selectors.optionRadioButton,function(){e.addMessageOnRadioClick(b(this).find(".option-to-send").attr("value"))});b(c.body).on("click",a.chatInstance.selectors.joeChatBodyOverlay,function(){b(this).hasClass("prevent-hide")||b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide")});
b(c.body).on("click","#joe-chat-body-overlay \x3e",function(a){a.stopPropagation()});b(c.body).on("click",a.chatInstance.selectors.joeChatFullBodyOverlay,function(){b(a.chatInstance.selectors.joeChatFullBodyOverlay).addClass("joe-hide")});b(c.body).on("click","#joe-chat-full-body-overlay \x3e",function(a){a.stopPropagation()});b(c.body).on(S,".joe-quickReplyList",function(){e.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:b(this).attr("value"),displayText:b(this).text(),
skipValidation:!0})});b(c.body).on("click","#strt-new-chat",function(){e.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.text,messageToSend:"Hi"})});b(c.body).on("click",a.chatInstance.selectors.joeChatEndYesBtn,function(){b(a.chatInstance.selectors.joeChatBodyOverlay).find(".joe-end-chat-alert *").css("display","none");b(a.chatInstance.selectors.joeChatBodyOverlay).find(".joe-end-chat-alert").children(".input-widget-loader").css("display","block");e.endChat()});b(c.body).on("click",
"#joe-star-rate i",function(){b(a.chatInstance.selectors.joeStarRate).find("i").removeClass("joe-star-active");b(a.chatInstance.selectors.joeStarRate).find(".joe-text-div").removeClass("joe-red-alert-text");b(this).nextAll("i").addClass("joe-star-active");b(this).addClass("joe-star-active");e.sendAppRating(b(a.chatInstance.selectors.joeStarRate).find("i").length-b(this).index()+1)});b(c.body).on("click",a.chatInstance.selectors.joeFeedbackBtn,function(){0<b(a.chatInstance.selectors.activeStar).length?
e.sendAppFeedback(b(a.chatInstance.selectors.activeStar).length,b(a.chatInstance.selectors.joeFeedbackTxt).val()):b(a.chatInstance.selectors.joeStarRate).find(".joe-text-div").addClass("joe-red-alert-text")});b(c.body).on("click",a.chatInstance.selectors.chatHistoryImg,function(){e.showFullImageView(b(this).attr("src"))});b(c.body).on("click",a.chatInstance.selectors.joeChatEndNoBtn,function(){b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("hide")});b(c.body).on("click",a.chatInstance.selectors.joeOverlayCrossBtn,
function(){b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("hide");b(this).hasClass("joe-rate-div")&&e.toggleChatOpen()});b(c.body).on("click",a.chatInstance.selectors.joeFullOverlayCrossBtn,function(){b(a.chatInstance.selectors.joeChatFullBodyOverlay).addClass("joe-hide")});b(c.body).keyup(function(c){27===c.keyCode&&b(a.chatInstance.selectors.joeChatFullBodyOverlay).addClass("joe-hide")});e.movableMobileContainerBindEvent();b(c.body).on("change",".joe-radio-list-btn input[name\x3d'listOptions']",
function(){e.addMessageOnListClick(b(this).val(),b(this).attr("data-display"));b("input[type\x3d'radio']#listOptions").addClass("hide")});b(c.body).on("click",".joe-radio-list-btn div",function(a){a.stopPropagation();e.addMessageOnListClick(b(this).find("input[name\x3d'listOptions']").val(),b(this).find("input[name\x3d'listOptions']").attr("data-display"));b("input[type\x3d'radio']#listOptions").addClass("hide")});b(c.body).on("click",".joe-radio-list-btn div \x3e",function(a){a.stopPropagation()});
b(c.body).on("click",".chat-container .joe-faq-items",function(a){b("[data-target\x3d'"+b(this).attr("id")+"']").removeClass("joe-hide")});b(c.body).on("click",".chat-container .joe-back-arrow",function(a){a=b(this).parents(".joe-faq-item-full");a.clone().prependTo(".chat-container");a.remove();b(".chat-container .joe-faq-item-full").addClass("joe-hide")});b(c.body).on("click",".chat-container .joe-faq-fdbk-btn",function(c){""==b(this).attr("data-tmo-id")?(b(this).parent("div").css("visibility","hidden"),
b(a.chatInstance.selectors.inputSectionParent).find(".input-widget-loader").removeClass("hide"),e.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.feedback,customerHash:a.chatInstance.customerHash,refTmhash:b(this).attr("ticket-message-hash"),answr:b(this).attr("data-value"),enty:"TICKET_MESSAGE",tcktMsgOptnId:null,inputRef:this})):(b(this).parent(".tmo-feedback-div").addClass("hide"),e.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.feedbackTmo,customerHash:a.chatInstance.customerHash,
refTmhash:b(this).attr("ticket-message-hash"),answr:b(this).attr("data-value"),enty:"TICKET_MESSAGE_OPTION",tcktMsgOptnId:b(this).attr("data-tmo-id"),inputRef:this}))});b(c.body).on("keyup",a.chatInstance.selectors.selectizeInputText,function(a){if(13===a.keyCode)return e.onEnterPressOnSelect(a)});b(c.body).on("click","#joe-chat-send-img-yes",function(){e.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.image,input:c.getElementById("joeImgInp")});b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide")});
b(c.body).on("click","#joe-chat-send-img-no",function(){b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide");b("#joeImgInp").val("")});b(c.body).on("change","#joeImgInp",function(){var c=this.files[0].type,d=["image/jpeg","image/png","image/jpg"];if(c!=d[0]&&c!=d[1]&&c!=d[2])return!1;J?e.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.image,input:this}):this.files&&this.files[0]&&(c=new FileReader,c.onload=function(c){c={imgSrc:c.target.result};b(a.chatInstance.selectors.joeChatBodyOverlay).replaceWith(a.HandlebarsHtml.Template.imgUploadPrev(c))},
c.readAsDataURL(this.files[0]))});b(c.body).on("change","#joeFileInp",function(){var c=this.files[0];c.name.substring(c.name.lastIndexOf(".")+1).toLowerCase();if(this.files&&this.files[0]){var d=new FileReader;d.onload=function(d){d={fileSrc:c.name};b(a.chatInstance.selectors.joeChatBodyOverlay).replaceWith(a.HandlebarsHtml.Template.fileUploadPrev(d))};d.readAsDataURL(this.files[0])}});b(c.body).on("click","#joe-chat-send-file-yes",function(){e.createConnectionIfNeededAndSendMessage({type:a.chatInstance.message.type.file,
input:c.getElementById("joeFileInp")});b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide")});b(c.body).on("click","#joe-chat-send-file-no",function(){b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide");b("#joeFileInp").val("")});b(c.body).on("change",a.chatInstance.selectors.yearSelect,function(a){e.resetMonthSelect(b(this))});b(c.body).on("change",a.chatInstance.selectors.monthSelect,function(a){e.resetDateSelect(b(this))});b(c.body).on("change",a.chatInstance.selectors.hourSelect,
function(c){var d=a.Date.getMinutesForHour(parseInt(b(this).val()),a.Date.getDateMonthYearTime(b(a.chatInstance.selectors.rangeHiddenInput).attr("data-start-date")),a.Date.getDateMonthYearTime(b(a.chatInstance.selectors.rangeHiddenInput).attr("data-end-date")),parseInt(b(a.chatInstance.selectors.rangeHiddenInput).attr("date-interval"))),e="";b.each(d,function(a,b){e+="\x3coption\x3e"+d[a]+"\x3c/option\x3e"});b(a.chatInstance.selectors.minuteSelect).empty().append(e)});J&&(b(c.body).on("focusin",a.chatInstance.selectors.messageTextarea,
function(c){a.chatInstance.lastChatHistoryHeight=b(a.chatInstance.selectors.chatHistory).outerHeight(!0)}),b(c.body).on("focusout",a.chatInstance.selectors.messageTextarea,function(b){e.setChatHistoryHeight(a.chatInstance.lastChatHistoryHeight);e.scrollToBottom()}));b(c.body).on("click","#joe-trim-yes",function(c){c=b(a.chatInstance.selectors.messageTextarea).val();c=c.slice(0,a.maxTextareaCharLength);b(a.chatInstance.selectors.messageTextarea).val(c.slice(0,a.maxTextareaCharLength));e.setRemainingTextCount(a.maxTextareaCharLength);
b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide")});b(c.body).on("click","#joe-trim-no",function(c){b(a.chatInstance.selectors.joeChatBodyOverlay).addClass("joe-hide")});b(c.body).on("paste",a.chatInstance.selectors.messageTextarea,function(c){c=(c.clipboardData||c.originalEvent.clipboardData||d.clipboardData).getData("text").length+b(a.chatInstance.selectors.messageTextarea).val().length;b(a.chatInstance.selectors.messageTextarea).attr("maxlength",c);c>=a.maxTextareaCharLength&&
(e.trimMsgAlert(),e.setRemainingTextCount(c),e.setChatHistoryHeight(),e.scrollToBottom())});b(c.body).on("keydown",a.chatInstance.selectors.messageTextarea,function(a){if(b("#Slsh-Cmnds-List-Items").is(":visible")||b("#Bots-List-Items").is(":visible"))38!==a.keyCode&&40!==a.keyCode||a.preventDefault()});b(c.body).on("keyup",a.chatInstance.selectors.messageTextarea,function(c){b(a.chatInstance.selectors.alertTextFooterInput).addClass("hide");b(this).removeClass("joe-text-red");if(38!==c.keyCode&&40!==
c.keyCode&&13!==c.keyCode){var d=null,f=null;"/"==b(this).val().charAt(0)?(d="Slsh-Cmnds-List-Items",f="/"):"@"==b(this).val().charAt(0)&&(d="Bots-List-Items",f="@");e.slshMsgList(d,this,f,c)}"/"==b(this).val().charAt(0)&&b("#Slsh-Cmnds-List-Items").is(":visible")?e.keyNavigation("Slsh-Cmnds-List-Items",c):"@"==b(this).val().charAt(0)&&b("#Bots-List-Items").is(":visible")?e.keyNavigation("Bots-List-Items",c):(13===c.keyCode&&e.addMessage(),a.chatInstance.cacheMessage=b(a.chatInstance.selectors.messageTextarea).val(),
e.setRemainingTextCount(a.chatInstance.cacheMessage.length));e.setChatHistoryHeight();e.scrollToBottom()});c.addEventListener("scroll",function(d){b(d.target).is(".joe-message-list")&&"0"==b(d.target).scrollTop()&&a.chatInstance.load&&b(a.chatInstance.selectors.chatHistory).find(".joe-message-list")[0].scrollHeight>b(a.chatInstance.selectors.chatHistory).find(".joe-message-list").height()+20&&(0===c.getElementsByClassName("joe-loader").length&&b(a.chatInstance.selectors.chatHistoryList).prepend('\x3cdiv class\x3d"joe-loader"\x3e\x3c/div\x3e'),
a.chatInstance.load=!1,e.loadMorePreviousMsg(b(this).find(".chat-container .joe-message:first").attr("ticketMessageHash")))},!0);b(c.body).on("keyup",a.chatInstance.selectors.searchList,function(){b(a.chatInstance.selectors.optionList).addClass("hide");b(a.chatInstance.selectors.optionList).find(":spdCaseInsensitiveContains("+b(this).val()+")").removeClass("hide");""===b(this).val().trim()&&b(a.chatInstance.selectors.optionList).removeClass("hide")});b(c.body).on("change",a.chatInstance.selectors.optionSelect,
function(){""!=b(this).val()?(e.addMessageOnListClick(b(this).val(),b(this).text()),a.chatInstance.selectizeRef[0].selectize.close(),b(a.chatInstance.selectors.optionSelect).addClass("hide")):a.chatInstance.selectizeDefaultVal=null});b(c.body).on("mousewheel",a.chatInstance.selectors.chatHistoryList,function(a){var c=-1*a.originalEvent.wheelDelta;a.preventDefault();b(this).scrollTop(c+b(this).scrollTop())});b(c.body).on("mousewheel",".joe-faq-body",function(a){var c=-1*a.originalEvent.wheelDelta;
a.preventDefault();b(this).scrollTop(c+b(this).scrollTop())});b(c.body).on("keydown",function(c){if(!pa&&!U||38!==c.keyCode&&40!==c.keyCode)pa&&9===c.keyCode?pa=!1:U&&9===c.keyCode&&(pa=!1);else{c.preventDefault();var d=null,d=38===c.keyCode?-40:40;pa?b(a.chatInstance.selectors.chatHistoryList).scrollTop(d+b(a.chatInstance.selectors.chatHistoryList).scrollTop()):b(".joe-faq-body").scrollTop(d+b(".joe-faq-body:visible").scrollTop())}});b(c.body).on("keyup",function(a){!pa&&!U||38!==a.keyCode&&40!==
a.keyCode||a.preventDefault()});b(c.body).on("keypress",function(a){!pa&&!U||38!==a.keyCode&&40!==a.keyCode||a.preventDefault()});b(c.body).on("click doubleclick",function(a){b(a.target).is(".joe-message-list")||0<b(a.target).parents().closest(".joe-message-list").length?(pa=!0,U=!1):b(a.target).is(".joe-faq-body")||0<b(a.target).parents().closest(".joe-faq-body").length?(U=!0,pa=!1):U=pa=!1});a.chatInstance.inactivityAlertPeriod&&(e.setupInactivityAlert(a.chatInstance.inactivityAlertPeriod),b(c.body).on("focus",
a.chatInstance.selectors.chatContainer+" *, #mobile-chat-container *",function(){a.chatInstance.inactivityAlertPeriod&&e.setupInactivityAlert(a.chatInstance.inactivityAlertPeriod)}));a.chatInstance.inactivityMinAlertPeriod&&(e.setupMinInactivityAlert(a.chatInstance.inactivityMinAlertPeriod),b(c.body).on("focus, click",a.chatInstance.selectors.chatContainer+" *, #mobile-chat-container *",function(){a.chatInstance.inactivityMinAlertPeriod&&e.setupMinInactivityAlert(a.chatInstance.inactivityMinAlertPeriod)}),
b(c.body).on("keyup",".chat-container input[type\x3d'text']",function(){a.chatInstance.inactivityMinAlertPeriod&&e.setupMinInactivityAlert(a.chatInstance.inactivityMinAlertPeriod)}));f=!0}}}}(),Da=function(c){var e={uiSettings:{mobileChatBoxStyle:"",webChatBoxStyle:"",initHeightFromBottom:c.uiStngs.initHghtChtBbl,openOnDefault:!1,openOnDefaultForDesktopAndMobile:!1,showChatHeader:c.shwChtHdr,chatParentSelector:c.chtPrntSlctr,showFullBodyInput:!0,showMessengerBubble:c.shwFbCht,widgetHeaderCnfg:c.uiStngs.wdgtHdr,
rmvJoeBrndng:c.uiStngs.rmvJoeBrndng},uiTheme:{otherMessageColor:"#c1dede"},uiThemeCss:c.uiStngs.wdgtCss,dataStore:c.dtStr.toLowerCase(),customerHash:c.cstmr?c.cstmr.cstmrHsh:null,pendingMessageQueue:[],metadataClientParams:c.prmSlctrs,menu:{showIcons:!1,menuNodeList:null,shareMessages:null,slashCommandList:null},bots:null,headerText:"",maxMessagePings:null,updateTitleEnable:c.updtTtl,windowActive:!0,dateFormat:c.dtFrmt,timeFormat:c.tmFrmt,dataAttributes:{msgTimestamp:"data-msg-timestamp"},selectors:{chatContainer:".chat-container",
header:".chat-container .chat-header",chatHistory:".chat-history",unreadCtr:"#unread-ctr",unreadBubbleCtr:"#joe-bubble-unread",messageSendButton:"#msg-send-btn",messageTextarea:"#message-to-send",optionRadioButton:".optionBtn",optionSelect:"select#listOptions",optionList:"select#listOptions li",searchList:"#input-search",chatHistoryList:".chat-history .joe-message-list",chatHistoryImg:".chat-history .joe-message img",inputSectionParent:".chat-footer",inputSection:"#agent-msg-submit",joeStarRate:"#joe-star-rate",
joeChatBodyOverlay:"#joe-chat-body-overlay",joeChatFullBodyOverlay:"#joe-chat-full-body-overlay",joeOverlayCrossBtn:"#joe-overlay-cross-btn",joeFullOverlayCrossBtn:"#joe-full-overlay-cross-btn",joeFeedbackTxt:"#joe-feedback-txt",joeFeedbackBtn:"#joe-feedback-btn",joeChatEndYesBtn:"#joe-chat-end-yes",joeChatEndNoBtn:"#joe-chat-end-no",selectizeInputText:".selectize-control input[type\x3dtext]",yearSelect:"select#year-to-send",monthSelect:"select#month-to-send",dateSelect:"select#date-to-send",hourSelect:"#hrs-to-send",
minuteSelect:"#mins-to-send",rangeHiddenInput:"#date-rnge",activeStar:".joe-star-active",joeMsgBubbleContainer:".joe-msg-bubble-container",msgBubbleBtnClose:".joe-msg-bubble-container .msg-bubble-btnclose",sliderContainer:".joe-slider-container",googlePacContainer:".pac-container",msgStatus:".msg-status",msgTimeElementWithRelativeTime:"div.joe-message span.joe-msg-time[data-timestamp-type\x3drelative]",alertTextFooterInput:".chat-container .chat-footer #alert-text"},customTemplate:{errorMessageIcon:'\x3cspan class\x3d"fa fa-exclamation-triangle icon-error" aria-hidden\x3d"true"\x3e\x3c/span\x3e\x26nbsp;\x26nbsp;'},
message:{type:{text:"text",file:"file",image:"image","private":"private",feedback:"feedback",feedbackTmo:"feedbackTmo"}},chatContainerBasicHtml:null,load:!1,isRated:!1,selectizeRef:null,addressInputRef:null,selectizeDefaultVal:null,addressInputDefaultVal:null,logChatOpen:!0,cacheMessage:"",typingId:"",latestAgentMessageHash:null,inactivityAlertPeriod:c.inctvtyAlrtPrd,currInactivityTimeoutId:null,inactivityMinAlertPeriod:c.minAftrInctvtyAlrtPrd,currMinInactivityTimeoutId:null,timestampUpdateTimeIntervalPeriod:6E4,
timestampUpdateTimeIntervalId:null,visitorActionMessageHash:null,numberOfMessageToBeLoad:J?20:9,forceOpenEnable:!0,actionType:null,lastAuthor:null,currConversation:null,allMessageHash:[],lastInputType:null,lastChatHistoryHeight:null,widgetPauseTime:c.chtBxShwDly,widgetFullScreen:"fullscreen"===c.uiStngs.chtWdgtSz.toLowerCase(),messengerBubbleLink:c.fbMsngrLnk,overrideClientHtmlMetadata:c.uiStngs.chtWdgtOvrdHtlMtDt,isButtonEnabled:!0};a.String.isNotBlank(c.uiStngs.cstmCssPth)&&a.getCssFile(c.uiStngs.cstmCssPth,
!0,function(){a.Object.isNotNull(a.chatInstance)?ma.setChatHistoryHeight():a.Log.logMessage("Chat Instance is null custom css",!0)});e.openOnDefault=c.opnChtOnDsktp;var f=d.location.href.split("#");1<f.length&&"open"===f[1]&&(e.openOnDefault=!0,e.openOnDefaultForDesktopAndMobile=!0);a.String.isNotBlank(c.chatBoxHeader)&&(e.headerText=c.chatBoxHeader);e.maxMessagePings=c.maxMsgPngs;(a.Object.isNull(e.maxMessagePings)||0!==e.maxMessagePings)&&a.Audio.setAudioFile(ua+"/assets/share/audio/ping.mp3");
c.menu&&(e.menu.showIcons=c.menu.mnAsIcnHdr,c.menu.menus&&(e.menu.menuNodeList=c.menu.menus),c.shrMsgsRspns.shrMsgs&&(e.menu.shareMessages=c.shrMsgsRspns.socialNetworkToShareDTO),c.menu.slshCmnds&&(e.menu.slashCommandList=c.menu.slshCmnds));c.bots&&(e.bots=c.bots);J?e.uiSettings.mobileChatBoxStyle=c.uiStngs.mbilChtBxStyl:e.uiSettings.webChatBoxStyle=c.uiStngs.wbChtBxStyl;w&&K&&"embedded"==w.toLowerCase()&&1==b(K).length&&(J?e.uiSettings.mobileChatBoxStyle=w.toLowerCase():e.uiSettings.webChatBoxStyle=
w.toLowerCase(),e.uiSettings.chatParentSelector=K,e.uiSettings.showChatHeader=!1);return e},Ga=function(a){return null!==a.chatBoxShow&&!a.chatBoxShow||J&&(!a.uiStngs.mbilChtBxStyl||"none"===a.uiStngs.mbilChtBxStyl.toLowerCase())?!1:!0},Ha=null,gb=function(b){a.Log.logMessage("init combined call done",!0);var c={data:b.data.intCstmr};Ha={data:b.data.hstryAndIntCht};La(c)},La=function(c){if(c.error)console.log("Message send failed - ["+c.error.msg+"]");else if(c.data&&c.data.cstmr&&a.LocaleUtils.setLocaleData(c.data.languageTextHolder,
c.data.cstmr.language),ba=a.LocaleUtils.getLocaleData(),c=c.data,Ga(c)){if(c.cstmr){var d=c.cstmr.cstmrHsh;if("local_storage"===c.dtStr.toLowerCase()){if(!sa){console.log("Local storage not supported!");return}ha.setItem("spd-custhash",d)}else sa&&ha.removeItem("spd-custhash");a.readCookie("spd-custhash")!==d&&a.setCookieWithValidityInDays("spd-custhash",d,365)}b.extend(b.expr[":"],{spdCaseInsensitiveContains:function(a,b,c,d){return 0<=(a.textContent||a.innerText||"").toLowerCase().indexOf((c[3]||
"").toLowerCase())}});a.String.isNotBlank(c.googleMpsApiKy)&&a.getJsFile("https://maps.googleapis.com/maps/api/js?libraries\x3dplaces\x26key\x3d"+c.googleMpsApiKy,!0);a.RealTimeConnection.setConnectionParams(c);a.chatInstance=new Da(c);a.chatInstance.widgetPauseTime?setTimeout(function(){ma.setup()},a.chatInstance.widgetPauseTime):ma.setup();a.historyActionEnable=!0}else a.chatInstance&&a.RealTimeConnection.unsubscribe(a.chatInstance.customerHash)};b(c.body).on("click","#landingSubmit",function(){var b=
a.readCookie("spd-custhash");!sa||"undefined"!==b&&null!=b&&""!==b||(b=ha.getItem("spd-custhash"));a.RemoteCall.logAction(b,"#landingSubmit");return!0});qa=a.readCookie("joe-chnlcustid");!sa||"undefined"!==qa&&null!=qa&&""!==qa||(qa=ha.getItem("joe-chnlcustid"));if("undefined"===qa||null==qa||""===qa)qa=a.String.getHash(a.String.getRandomString(6)+q+u+C+a.String.getRandomString(6)),sa&&ha.setItem("joe-chnlcustid",qa),a.setCookieWithValidityInDays("joe-chnlcustid",qa,365);b.extend(l,{version:"1.0.4",
showWidget:function(b){a.Log.logMessage("Show widget called with showAsOpen: "+b,!0);a.Object.isNull(a.chatInstance)?a.Log.logMessage("No chat instance found!"):ma.showChatWidget(b)},hideWidget:function(){a.Log.logMessage("Hide widget called",!0);a.Object.isNull(a.chatInstance)?a.Log.logMessage("No chat instance found!"):ma.hideChatWidget()},setChatHistoryHeight:function(){return ma.setChatHistoryHeight()},sendTextMessage:function(b,c){var d=a.chatInstance.message.type.text;c&&(d=a.chatInstance.message.type["private"]);
ma.createConnectionIfNeededAndSendMessage({type:d,messageToSend:b,displayText:b})},activate:function(b){a.historyActionEnable&&this.deActivate();Ma(b);a.isWidgetDeActivated=!1},deActivate:function(){a.isWidgetDeActivated=!0;a.historyActionEnable=!1;b(".chat-container").remove();b(".mobile-chat-container").remove();this.hideWidget();a.Log.logMessage("Widget deactivated!",!0)},resetCustomer:function(b){console.log("resetting customer");ha.removeItem("spd-custhash");ha.removeItem("joe-custinfo");ha.removeItem("joe-chnlcustid");
a.setCookieWithValidityInDays("spd-custhash","",-1);a.setCookieWithValidityInDays("joe-custinfo","",-1);a.setCookieWithValidityInDays("joe-chnlcustid","",-1);b||(console.log("reloading page now"),location.reload(!0))}});var Ma=function(c,d){var f=b.extend({clientHash:q,externalClientId:u,productHash:C},c);a.Log.logMessage("Reset widget called",!0);b(".fbots-style").remove();e=!1;W=null;a.chatInstance&&(q!==f.clientHash||u!==f.externalClientId&&C!==f.productHash||d)&&a.RealTimeConnection.unsubscribe(a.chatInstance.customerHash);
q=f.clientHash;u=f.externalClientId;for(C=f.productHash;0<T.length;)T.pop();hb(a.Options.getObject(),a.initiateWidgetParams.successCallback,a.initiateWidgetParams.errorCallback)},t=function(){var b=a.Options.getData(a.Options.reservedOptions.clientParams),c=a.Options.getObject();b&&(b["sn::cstmr::id"]||b["sn::auth::id"])&&this.resetCustomer(!0);Ma(c,!0)},hb=function(c,d,f){m=(new Date).getTime();a.Log.logMessage("Initiate widget called",!0);a.initiateWidgetParams.successCallback=d;a.initiateWidgetParams.errorCallback=
f;if(e)a.Log.logMessage("Widget is already initiated!");else if(b(".chat-container").remove(),b(".mobile-chat-container").remove(),d&&"function"!==typeof d)a.Log.logMessage("Only callbacks of type function are supported");else if(f&&"function"!==typeof f)a.Log.logMessage("Only callbacks of type function are supported");else{var h=function(b){a.Log.logMessage("Initiate widget error callback",!0);f&&f()},k=this;a.Options.setObject(c);var l=a.readCookie("spd-custhash");!sa||l&&"undefined"!==l&&""!==
l||(l=ha.getItem("spd-custhash"));"opt"===v?(a.Log.logMessage("initCombined call start",!0),z=a.Options.getData(a.Options.reservedOptions.clientParams),W=a.String.getHash(Z+(new Date).getTime()),a.RemoteCall.initCombined(l,function(a){gb.apply(k,[a])},function(b){b&&b.status&&401==b.status?a.RemoteCall.initCombined(l,function(a){gb.apply(k,[a])},function(b){a.Log.logMessage("Error while init customer combined. response: "+JSON.stringify(b));h()}):(a.Log.logMessage("Error while init customer combined. response: "+
JSON.stringify(b)),h())})):a.RemoteCall.initCustomer(l,function(a){La.apply(k,[a])},function(b){b&&b.status&&401==b.status?a.RemoteCall.initCustomer(l,function(a){La.apply(k,[a])},function(b){a.Log.logMessage("Error while init customer. response: "+JSON.stringify(b));h()}):(a.Log.logMessage("Error while init customer. response: "+JSON.stringify(b)),h())});e=!0}},ja=function(){a.Log.logMessage("Initiate chat called",!0);a.Object.isNull(a.chatInstance)?a.Log.logMessage("No chat instance found!"):n?
a.Log.logMessage("Initiate Chat blocked as an earlier request is waiting for response",!0):(n=!0,ma.loadPreviousMsgAndInitChat())};y?hb():(l.initiateWidget=hb,l.reloadContext=t,"delayed"===v&&(l.initiateChat=ja));c.addEventListener("turbolinks:render",function(){a.Log.logMessage("Turbolinks page loaded");Ma();f=!1;ma.bindDocumentEvents()});var S;S=!0==="ontouchstart"in c.documentElement?"touchstart":"click"}catch(p){console.log("error \x3d\x3e "+p)}a.Log.logMessage("Freshbots script completed",!0);
return l}(window.jQuery,window,document);